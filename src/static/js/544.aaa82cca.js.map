{"version":3,"file":"static/js/544.aaa82cca.js","mappings":"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","sources":["webpack://daili/./src/components/business-management/ospreyCloudCall/sub-customer/details/third-party-docking/components/package-configuration.vue?74b8","webpack://daili/./src/components/business-management/ospreyCloudCall/sub-customer/details/third-party-docking/components/package-configuration.vue","webpack://daili/./src/components/business-management/ospreyCloudCall/sub-customer/details/third-party-docking/components/package-configuration.vue?4734"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, withCtx as _withCtx, createVNode as _createVNode, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"package-configuration-content\" }\nconst _hoisted_2 = { class: \"table-container\" }\n\nimport { shallowReactive, defineAsyncComponent } from \"vue\";\r\n\r\nimport { LocalStorage, usePage } from \"jz-tool-lib\";\r\nimport { useVueRouter } from \"@assets/useHook\";\r\n\r\nimport { PackageConfigurationListApi } from \"@api/ec-line-api\";\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'package-configuration',\n  setup(__props) {\n\r\nconst ConfigurePackageDialog = defineAsyncComponent(\r\n  () => import(\"./configure-package-dialog.vue\")\r\n);\r\nconst CancelDialog = defineAsyncComponent(() => import(\"./cancel-dialog.vue\"));\r\nconst DetailDialog = defineAsyncComponent(() => import(\"./detail-drawer.vue\"));\r\nconst { routeQuery } = useVueRouter();\r\nconst agentId = LocalStorage.getItem(\"bd_agentId\");\r\nconst initData = shallowReactive({\r\n  state: \"\",\r\n  stateList: [\r\n    { label: \"全部\", value: \"\" },\r\n    { label: \"待开始\", value: 1 },\r\n    { label: \"进行中\", value: 2 },\r\n    { label: \"已结束\", value: 3 },\r\n    { label: \"已作废\", value: 4 },\r\n  ],\r\n  addPackageVisible: false,\r\n  detailVisible: false,\r\n  cancelVisible: false,\r\n  packageId: \"\",\r\n  id: \"\",\r\n});\r\n\r\nconst { getList, pageNumberChange, pageSizeChange, pageData } = usePage({\r\n  listApi: PackageConfigurationListApi,\r\n  props: {\r\n    pageNumber: \"page\",\r\n    pageSize: \"pageSize\",\r\n  },\r\n  searchParams() {\r\n    return {\r\n      agencyId: agentId,\r\n      subCompanyId: routeQuery.value.companyId,\r\n      status: initData.state,\r\n    };\r\n  },\r\n});\r\n//配置套餐\r\nfunction handleOperatePackage() {\r\n  initData.addPackageVisible = true;\r\n}\r\n// 查看详情\r\nfunction handleLookDetail(row) {\r\n  initData.detailVisible = true;\r\n  initData.packageId = row.packageId;\r\n}\r\n//作废\r\nfunction handleCancel(row) {\r\n  initData.cancelVisible = true;\r\n  initData.id = row.id;\r\n}\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_option = _resolveComponent(\"el-option\")!\n  const _component_el_select = _resolveComponent(\"el-select\")!\n  const _component_el_form_item = _resolveComponent(\"el-form-item\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_form = _resolveComponent(\"el-form\")!\n  const _component_el_table_column = _resolveComponent(\"el-table-column\")!\n  const _component_el_link = _resolveComponent(\"el-link\")!\n  const _component_TableEmpty = _resolveComponent(\"TableEmpty\")!\n  const _component_el_table = _resolveComponent(\"el-table\")!\n  const _component_PagePagination = _resolveComponent(\"PagePagination\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_el_form, {\n      model: _unref(initData),\n      class: \"form\"\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_el_form_item, { label: \"套餐状态\" }, {\n          default: _withCtx(() => [\n            _createVNode(_component_el_select, {\n              modelValue: _unref(initData).state,\n              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_unref(initData).state) = $event)),\n              placeholder: \"全部\",\n              clearable: \"\",\n              class: \"state-select\",\n              onChange: _unref(getList)\n            }, {\n              default: _withCtx(() => [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(initData).stateList, (item) => {\n                  return (_openBlock(), _createBlock(_component_el_option, {\n                    key: item.value,\n                    label: item.label,\n                    value: item.value\n                  }, null, 8, [\"label\", \"value\"]))\n                }), 128))\n              ]),\n              _: 1\n            }, 8, [\"modelValue\", \"onChange\"])\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_el_form_item, null, {\n          default: _withCtx(() => [\n            _createVNode(_component_el_button, {\n              type: \"primary\",\n              onClick: _unref(getList)\n            }, {\n              default: _withCtx(() => _cache[4] || (_cache[4] = [\n                _createTextVNode(\"搜索\")\n              ])),\n              _: 1\n            }, 8, [\"onClick\"]),\n            _createVNode(_component_el_button, {\n              type: \"primary\",\n              onClick: handleOperatePackage\n            }, {\n              default: _withCtx(() => _cache[5] || (_cache[5] = [\n                _createTextVNode(\"配置套餐\")\n              ])),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }, 8, [\"model\"]),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(_component_el_table, {\n        data: _unref(pageData).list\n      }, {\n        empty: _withCtx(() => [\n          _createVNode(_component_TableEmpty, { \"empty-text\": \"暂无明细\" })\n        ]),\n        default: _withCtx(() => [\n          _createVNode(_component_el_table_column, {\n            prop: \"packageCycle\",\n            label: \"套餐周期\",\n            align: \"center\",\n            width: \"400px\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"statusName\",\n            label: \"套餐状态\",\n            width: \"150px\",\n            align: \"center\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"totalResource\",\n            label: \"套餐总分钟数\",\n            width: \"150px\",\n            align: \"center\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"insideConsumptionResource\",\n            label: \"套餐内消耗分钟数\",\n            width: \"220px\",\n            align: \"center\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"outsideConsumptionResource\",\n            label: \"套餐外消耗分钟数\",\n            width: \"220px\",\n            align: \"center\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"outsideDeductedAmount\",\n            label: \"套餐外分钟数扣费金额\",\n            width: \"220px\",\n            align: \"center\"\n          }),\n          _createVNode(_component_el_table_column, {\n            align: \"center\",\n            label: \"操作\",\n            width: \"180px\",\n            fixed: \"right\"\n          }, {\n            default: _withCtx(({ row }) => [\n              _createVNode(_component_el_link, {\n                type: \"primary\",\n                underline: false,\n                onClick: ($event: any) => (handleLookDetail(row))\n              }, {\n                default: _withCtx(() => _cache[6] || (_cache[6] = [\n                  _createTextVNode(\"查看\")\n                ])),\n                _: 2\n              }, 1032, [\"onClick\"]),\n              (row.status !== 3 && row.status !== 4)\n                ? (_openBlock(), _createBlock(_component_el_link, {\n                    key: 0,\n                    type: \"primary\",\n                    underline: false,\n                    onClick: ($event: any) => (handleCancel(row))\n                  }, {\n                    default: _withCtx(() => _cache[7] || (_cache[7] = [\n                      _createTextVNode(\"作废\")\n                    ])),\n                    _: 2\n                  }, 1032, [\"onClick\"]))\n                : _createCommentVNode(\"\", true)\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 8, [\"data\"]),\n      _createVNode(_component_PagePagination, {\n        pageTotal: _unref(pageData).pageTotal,\n        pageSize: _unref(pageData).pageSize,\n        pageNumber: _unref(pageData).pageNumber,\n        onEmitPageSizeChange: _unref(pageSizeChange),\n        onEmitPageNumberChange: _unref(pageNumberChange)\n      }, null, 8, [\"pageTotal\", \"pageSize\", \"pageNumber\", \"onEmitPageSizeChange\", \"onEmitPageNumberChange\"])\n    ]),\n    _createVNode(_unref(ConfigurePackageDialog), {\n      visible: _unref(initData).addPackageVisible,\n      \"onUpdate:visible\": _cache[1] || (_cache[1] = ($event: any) => ((_unref(initData).addPackageVisible) = $event)),\n      onEmitFunc: _unref(getList)\n    }, null, 8, [\"visible\", \"onEmitFunc\"]),\n    _createVNode(_unref(DetailDialog), {\n      visible: _unref(initData).detailVisible,\n      \"onUpdate:visible\": _cache[2] || (_cache[2] = ($event: any) => ((_unref(initData).detailVisible) = $event)),\n      packageId: _unref(initData).packageId\n    }, null, 8, [\"visible\", \"packageId\"]),\n    _createVNode(_unref(CancelDialog), {\n      visible: _unref(initData).cancelVisible,\n      \"onUpdate:visible\": _cache[3] || (_cache[3] = ($event: any) => ((_unref(initData).cancelVisible) = $event)),\n      onEmitFunc: _unref(getList),\n      id: _unref(initData).id\n    }, null, 8, [\"visible\", \"onEmitFunc\", \"id\"])\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"package-configuration-content\">\r\n    <el-form :model=\"initData\" class=\"form\">\r\n      <el-form-item label=\"套餐状态\">\r\n        <el-select\r\n          v-model=\"initData.state\"\r\n          placeholder=\"全部\"\r\n          clearable\r\n          class=\"state-select\"\r\n          @change=\"getList\"\r\n        >\r\n          <el-option\r\n            v-for=\"item in initData.stateList\"\r\n            :key=\"item.value\"\r\n            :label=\"item.label\"\r\n            :value=\"item.value\"\r\n          ></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"getList\">搜索</el-button>\r\n        <el-button type=\"primary\" @click=\"handleOperatePackage\"\r\n          >配置套餐</el-button\r\n        >\r\n      </el-form-item>\r\n    </el-form>\r\n    <div class=\"table-container\">\r\n      <el-table :data=\"pageData.list\">\r\n        <el-table-column\r\n          prop=\"packageCycle\"\r\n          label=\"套餐周期\"\r\n          align=\"center\"\r\n          width=\"400px\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"statusName\"\r\n          label=\"套餐状态\"\r\n          width=\"150px\"\r\n          align=\"center\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"totalResource\"\r\n          label=\"套餐总分钟数\"\r\n          width=\"150px\"\r\n          align=\"center\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"insideConsumptionResource\"\r\n          label=\"套餐内消耗分钟数\"\r\n          width=\"220px\"\r\n          align=\"center\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"outsideConsumptionResource\"\r\n          label=\"套餐外消耗分钟数\"\r\n          width=\"220px\"\r\n          align=\"center\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"outsideDeductedAmount\"\r\n          label=\"套餐外分钟数扣费金额\"\r\n          width=\"220px\"\r\n          align=\"center\"\r\n        ></el-table-column>\r\n        <el-table-column align=\"center\" label=\"操作\"  width=\"180px\" fixed=\"right\">\r\n          <template #default=\"{ row }\">\r\n            <el-link\r\n              type=\"primary\"\r\n              :underline=\"false\"\r\n              @click=\"handleLookDetail(row)\"\r\n              >查看</el-link\r\n            >\r\n            <el-link\r\n              type=\"primary\"\r\n              :underline=\"false\"\r\n              @click=\"handleCancel(row)\"\r\n              v-if=\"row.status !== 3 && row.status !== 4\"\r\n              >作废</el-link\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n        <template #empty>\r\n          <TableEmpty empty-text=\"暂无明细\"></TableEmpty>\r\n        </template>\r\n      </el-table>\r\n      <!--   分页   -->\r\n      <PagePagination\r\n        :pageTotal=\"pageData.pageTotal\"\r\n        :pageSize=\"pageData.pageSize\"\r\n        :pageNumber=\"pageData.pageNumber\"\r\n        @emitPageSizeChange=\"pageSizeChange\"\r\n        @emitPageNumberChange=\"pageNumberChange\"\r\n      ></PagePagination>\r\n    </div>\r\n    <!-- 新增套餐-->\r\n    <ConfigurePackageDialog\r\n      v-model:visible=\"initData.addPackageVisible\"\r\n      @emitFunc=\"getList\"\r\n    ></ConfigurePackageDialog>\r\n    <!-- 查看详情-->\r\n    <DetailDialog\r\n      v-model:visible=\"initData.detailVisible\"\r\n      :packageId=\"initData.packageId\"\r\n    ></DetailDialog>\r\n    <!-- 作废-->\r\n    <CancelDialog\r\n      v-model:visible=\"initData.cancelVisible\"\r\n      @emitFunc=\"getList\"\r\n      :id=\"initData.id\"\r\n    ></CancelDialog>\r\n  </div>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport { shallowReactive, defineAsyncComponent } from \"vue\";\r\n\r\nimport { LocalStorage, usePage } from \"jz-tool-lib\";\r\nimport { useVueRouter } from \"@assets/useHook\";\r\n\r\nimport { PackageConfigurationListApi } from \"@api/ec-line-api\";\r\nconst ConfigurePackageDialog = defineAsyncComponent(\r\n  () => import(\"./configure-package-dialog.vue\")\r\n);\r\nconst CancelDialog = defineAsyncComponent(() => import(\"./cancel-dialog.vue\"));\r\nconst DetailDialog = defineAsyncComponent(() => import(\"./detail-drawer.vue\"));\r\nconst { routeQuery } = useVueRouter();\r\nconst agentId = LocalStorage.getItem(\"bd_agentId\");\r\nconst initData = shallowReactive({\r\n  state: \"\",\r\n  stateList: [\r\n    { label: \"全部\", value: \"\" },\r\n    { label: \"待开始\", value: 1 },\r\n    { label: \"进行中\", value: 2 },\r\n    { label: \"已结束\", value: 3 },\r\n    { label: \"已作废\", value: 4 },\r\n  ],\r\n  addPackageVisible: false,\r\n  detailVisible: false,\r\n  cancelVisible: false,\r\n  packageId: \"\",\r\n  id: \"\",\r\n});\r\n\r\nconst { getList, pageNumberChange, pageSizeChange, pageData } = usePage({\r\n  listApi: PackageConfigurationListApi,\r\n  props: {\r\n    pageNumber: \"page\",\r\n    pageSize: \"pageSize\",\r\n  },\r\n  searchParams() {\r\n    return {\r\n      agencyId: agentId,\r\n      subCompanyId: routeQuery.value.companyId,\r\n      status: initData.state,\r\n    };\r\n  },\r\n});\r\n//配置套餐\r\nfunction handleOperatePackage() {\r\n  initData.addPackageVisible = true;\r\n}\r\n// 查看详情\r\nfunction handleLookDetail(row) {\r\n  initData.detailVisible = true;\r\n  initData.packageId = row.packageId;\r\n}\r\n//作废\r\nfunction handleCancel(row) {\r\n  initData.cancelVisible = true;\r\n  initData.id = row.id;\r\n}\r\n\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.form {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  :deep(.el-input) {\r\n    width: 240px;\r\n  }\r\n  :deep(.el-form-item) {\r\n    margin-right: 10px;\r\n  }\r\n  .state-select {\r\n    width: 200px;\r\n  }\r\n}\r\n:deep(.el-link) {\r\n  margin-left: 5px;\r\n}\r\n</style>\r\n","import script from \"./package-configuration.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./package-configuration.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./package-configuration.vue?vue&type=style&index=0&id=2c6f09be&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../../../../node_modules/.pnpm/vue-loader@17.4.2_@vue+compiler-sfc@3.5.13_vue@3.5.13_typescript@5.7.2__webpack@5.97.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2c6f09be\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_defineComponent","__name","setup","__props","ConfigurePackageDialog","defineAsyncComponent","CancelDialog","DetailDialog","routeQuery","useVueRouter","agentId","LocalStorage","getItem","initData","shallowReactive","state","stateList","label","value","addPackageVisible","detailVisible","cancelVisible","packageId","id","getList","pageNumberChange","pageSizeChange","pageData","usePage","listApi","PackageConfigurationListApi","props","pageNumber","pageSize","searchParams","agencyId","subCompanyId","companyId","status","handleOperatePackage","handleLookDetail","row","handleCancel","_ctx","_cache","_component_el_option","_resolveComponent","_component_el_select","_component_el_form_item","_component_el_button","_component_el_form","_component_el_table_column","_component_el_link","_component_TableEmpty","_component_el_table","_component_PagePagination","_openBlock","_createElementBlock","_createVNode","model","_unref","default","_withCtx","modelValue","$event","placeholder","clearable","onChange","_Fragment","_renderList","item","_createBlock","key","_","type","onClick","_createTextVNode","_createElementVNode","data","list","empty","prop","align","width","fixed","underline","_createCommentVNode","pageTotal","onEmitPageSizeChange","onEmitPageNumberChange","visible","onEmitFunc","__exports__"],"sourceRoot":""}