{"version":3,"file":"static/js/5992.91f63bf7.js","mappings":"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","sources":["webpack://daili/./src/views/payment/deposit.vue?bf0d","webpack://daili/./src/views/payment/deposit.vue","webpack://daili/./src/views/payment/deposit.vue?0029"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createTextVNode as _createTextVNode, withCtx as _withCtx, vShow as _vShow, unref as _unref } from \"vue\"\n\nconst _hoisted_1 = { class: \"main-container\" }\nconst _hoisted_2 = { class: \"recharge-amount\" }\nconst _hoisted_3 = { class: \"amount-container\" }\nconst _hoisted_4 = { class: \"amount\" }\nconst _hoisted_5 = [\"disabled\"]\nconst _hoisted_6 = { class: \"payment-container\" }\nconst _hoisted_7 = { class: \"payment-type\" }\nconst _hoisted_8 = { class: \"online-pay\" }\nconst _hoisted_9 = { class: \"payment-list online-list\" }\nconst _hoisted_10 = [\"onClick\"]\nconst _hoisted_11 = {\n  class: \"icon\",\n  \"aria-hidden\": \"true\"\n}\nconst _hoisted_12 = [\"xlink:href\"]\nconst _hoisted_13 = { class: \"offline-pay\" }\n\nimport { reactive, defineAsyncComponent } from \"vue\";\r\nimport { ElMessage } from \"element-plus\";\r\n\r\nimport { useVueRouter } from \"@/assets/useHook\";\r\nimport { testMoney } from \"jz-tool-lib\";\r\nimport { paymentEnum } from \"@assets/typeStatus\";\r\n\r\nimport { paymentQRCodeApi } from \"@api/payment-api\";\r\n\r\ninterface paramsDataInterface {\r\n  amount: string;\r\n  paymentInfo: Record<string, unknown>;\r\n  onlinePayment: string;\r\n  offlinePayment: string;\r\n  activeIndex: number;\r\n  rechargeImg: string;\r\n  inputDisabled: boolean;\r\n  paymentVisible: boolean;\r\n}\r\n\r\nconst __default__ = {\r\n  name: \"payment-deposit\",\r\n};\r\n\nexport default /*@__PURE__*/_defineComponent({\n  ...__default__,\n  setup(__props) {\n\r\nconst QRCodeDialog = defineAsyncComponent(\r\n  () => import(\"@components/payment/QRCode-dialog.vue\")\r\n);\r\nconst { goPage, routeQuery } = useVueRouter();\r\nconst paymentModeList = [\r\n  {\r\n    label: \"在线支付\",\r\n    value: 0,\r\n  },\r\n  {\r\n    label: \"线下支付\",\r\n    value: 2,\r\n  },\r\n];\r\nconst onlineTypeList = [\r\n  {\r\n    onlineType: \"online-wx\",\r\n    svgName: \"#icon-WeChat\",\r\n  },\r\n  {\r\n    onlineType: \"online-zfb\",\r\n    svgName: \"#icon-alipay\",\r\n  },\r\n];\r\nconst paramsData = reactive<paramsDataInterface>({\r\n  amount: routeQuery.value.amount,\r\n  paymentInfo: {},\r\n  onlinePayment: \"online-wx\", // 线上支付-当前选择 默认选择微信支付\r\n  offlinePayment: \"offline\", // 线下支付-当前选择\r\n  activeIndex: 0,\r\n  rechargeImg: \"\",\r\n  inputDisabled: false,\r\n  paymentVisible: false,\r\n});\r\n\r\nconst paymentClick = (type: string, value: string) => {\r\n  paramsData[type] = value;\r\n};\r\n// 获取支付参数\r\nconst paymentParams = () => {\r\n  const info = {\r\n    realPrice: paramsData.amount,\r\n    paymentType: \"\",\r\n    rechargeImg: \"\",\r\n  };\r\n  if (paramsData.activeIndex === 0) {\r\n    info.paymentType = paymentEnum[paramsData.onlinePayment];\r\n    Reflect.deleteProperty(info, \"rechargeImg\");\r\n  }\r\n  if (paramsData.activeIndex === 2) {\r\n    info.paymentType = paymentEnum[paramsData.offlinePayment];\r\n    info.rechargeImg = paramsData.rechargeImg;\r\n  }\r\n  if (routeQuery.value.orderNo) {\r\n    Reflect.set(info, \"orderNo\", routeQuery.value.orderNo);\r\n  }\r\n  return info;\r\n};\r\nconst paymentApi = (params) => {\r\n  paymentQRCodeApi.getData(params).then((res) => {\r\n    paramsData.paymentInfo = res.data;\r\n    if (paramsData.activeIndex === 0) {\r\n      paramsData.paymentVisible = true;\r\n    } else {\r\n      ElMessage.success(\"提交成功\");\r\n      goPage(\"/marketService/personalOrder/list\");\r\n    }\r\n  });\r\n};\r\nconst submitPayment = () => {\r\n  if (!paramsData.amount) {\r\n    ElMessage.error(\"请输入金额\");\r\n    return;\r\n  } else {\r\n    if (!testMoney(paramsData.amount.toString())) {\r\n      ElMessage.error(\"请输入正确的金额\");\r\n      return;\r\n    }\r\n  }\r\n  const params = paymentParams();\r\n  paymentApi(params);\r\n};\r\n// tab 点击\r\nconst tabClick = (item) => {\r\n  paramsData.activeIndex = item.value;\r\n};\r\nconst offlinePaymentUploadImg = (value) => {\r\n  paramsData.rechargeImg = value.toString();\r\n};\r\n// 已有订单，匹配到之前支付方式\r\nif (routeQuery.value.modePayment && routeQuery.value.paymentType) {\r\n  const paymentType = paymentEnum[Number(routeQuery.value.paymentType)];\r\n  if (routeQuery.value.modePayment === \"onlinePayment\") {\r\n    paramsData.activeIndex = 0;\r\n    paramsData.onlinePayment = paymentType;\r\n  } else if (routeQuery.value.modePayment === \"offlinePayment\") {\r\n    paramsData.activeIndex = 2;\r\n    paramsData.offlinePayment = paymentType;\r\n  }\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_TabList = _resolveComponent(\"TabList\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_alert = _resolveComponent(\"el-alert\")!\n  const _component_CustomUpload = _resolveComponent(\"CustomUpload\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createElementVNode(\"div\", _hoisted_4, [\n            _cache[4] || (_cache[4] = _createElementVNode(\"span\", { class: \"money-logo\" }, \"¥\", -1)),\n            _cache[5] || (_cache[5] = _createElementVNode(\"span\", { class: \"label\" }, \"您的充值金额为：\", -1)),\n            _withDirectives(_createElementVNode(\"input\", {\n              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((paramsData.amount) = $event)),\n              type: \"text\",\n              placeholder: \"请输入金额\",\n              disabled: paramsData.inputDisabled\n            }, null, 8, _hoisted_5), [\n              [\n                _vModelText,\n                paramsData.amount,\n                void 0,\n                { number: true }\n              ]\n            ])\n          ]),\n          _cache[6] || (_cache[6] = _createElementVNode(\"p\", { class: \"prompt\" }, \"请选择支付方式付款，完成充值\", -1))\n        ]),\n        _createElementVNode(\"div\", _hoisted_6, [\n          _cache[10] || (_cache[10] = _createElementVNode(\"h6\", { class: \"title\" }, \"选择支付方式\", -1)),\n          _createElementVNode(\"div\", _hoisted_7, [\n            _createVNode(_component_TabList, {\n              onEmitTab: tabClick,\n              list: paymentModeList,\n              activeIndex: paramsData.activeIndex\n            }, null, 8, [\"activeIndex\"]),\n            _withDirectives(_createElementVNode(\"div\", _hoisted_8, [\n              _createElementVNode(\"ul\", _hoisted_9, [\n                (_openBlock(), _createElementBlock(_Fragment, null, _renderList(onlineTypeList, (item, index) => {\n                  return _createElementVNode(\"li\", {\n                    key: index,\n                    class: _normalizeClass(\r\n                  paramsData.onlinePayment === item.onlineType ? 'active' : ''\r\n                ),\n                    onClick: ($event: any) => (paymentClick('onlinePayment', item.onlineType))\n                  }, [\n                    (_openBlock(), _createElementBlock(\"svg\", _hoisted_11, [\n                      _createElementVNode(\"use\", {\n                        \"xlink:href\": item.svgName\n                      }, null, 8, _hoisted_12)\n                    ]))\n                  ], 10, _hoisted_10)\n                }), 64))\n              ]),\n              _createVNode(_component_el_button, {\n                type: \"primary\",\n                onClick: submitPayment\n              }, {\n                default: _withCtx(() => _cache[7] || (_cache[7] = [\n                  _createTextVNode(\"去支付\")\n                ])),\n                _: 1\n              })\n            ], 512), [\n              [_vShow, paramsData.activeIndex === 0]\n            ]),\n            _withDirectives(_createElementVNode(\"div\", _hoisted_13, [\n              _createVNode(_component_el_alert, {\n                title: \"您好！以下银行卡号汇款账号仅适用于对公汇款，为了方便审核请您在汇款成功后截图保存提交汇款凭证，便于客服审核并为您开通指定服务。\",\n                type: \"warning\",\n                closable: false\n              }),\n              _cache[9] || (_cache[9] = _createElementVNode(\"ul\", { class: \"payment-list offline-list\" }, [\n                _createElementVNode(\"li\", null, [\n                  _createElementVNode(\"p\", null, \"1797 7018 7100\"),\n                  _createElementVNode(\"p\", null, \"户 头：八度云计算（安徽）有限公司\"),\n                  _createElementVNode(\"p\", null, \"开户行：中国银行合肥望江中路支行\")\n                ])\n              ], -1)),\n              _createVNode(_component_CustomUpload, {\n                onEmitUpload: offlinePaymentUploadImg,\n                limit: 2,\n                buttonWord: \"上传图片\",\n                tip: \"最多上传2张转账凭证\"\n              }),\n              _createVNode(_component_el_button, {\n                type: \"primary\",\n                onClick: submitPayment\n              }, {\n                default: _withCtx(() => _cache[8] || (_cache[8] = [\n                  _createTextVNode(\"提交\")\n                ])),\n                _: 1\n              })\n            ], 512), [\n              [_vShow, paramsData.activeIndex === 2]\n            ])\n          ])\n        ])\n      ])\n    ]),\n    _createVNode(_unref(QRCodeDialog), {\n      amount: paramsData.amount,\n      \"onUpdate:amount\": _cache[1] || (_cache[1] = ($event: any) => ((paramsData.amount) = $event)),\n      visible: paramsData.paymentVisible,\n      \"onUpdate:visible\": _cache[2] || (_cache[2] = ($event: any) => ((paramsData.paymentVisible) = $event)),\n      paymentInfo: paramsData.paymentInfo,\n      \"onUpdate:paymentInfo\": _cache[3] || (_cache[3] = ($event: any) => ((paramsData.paymentInfo) = $event))\n    }, null, 8, [\"amount\", \"visible\", \"paymentInfo\"])\n  ], 64))\n}\n}\n\n})","<template>\r\n  <div class=\"main-container\">\r\n    <div class=\"recharge-amount\">\r\n      <div class=\"amount-container\">\r\n        <div class=\"amount\">\r\n          <span class=\"money-logo\">&yen;</span>\r\n          <span class=\"label\">您的充值金额为：</span>\r\n          <input\r\n            v-model.number=\"paramsData.amount\"\r\n            type=\"text\"\r\n            placeholder=\"请输入金额\"\r\n            :disabled=\"paramsData.inputDisabled\"\r\n          />\r\n        </div>\r\n        <p class=\"prompt\">请选择支付方式付款，完成充值</p>\r\n      </div>\r\n      <div class=\"payment-container\">\r\n        <h6 class=\"title\">选择支付方式</h6>\r\n        <div class=\"payment-type\">\r\n          <TabList\r\n            @emitTab=\"tabClick\"\r\n            :list=\"paymentModeList\"\r\n            :activeIndex=\"paramsData.activeIndex\"\r\n          ></TabList>\r\n          <div class=\"online-pay\" v-show=\"paramsData.activeIndex === 0\">\r\n            <ul class=\"payment-list online-list\">\r\n              <li\r\n                v-for=\"(item, index) in onlineTypeList\"\r\n                :key=\"index\"\r\n                :class=\"\r\n                  paramsData.onlinePayment === item.onlineType ? 'active' : ''\r\n                \"\r\n                @click=\"paymentClick('onlinePayment', item.onlineType)\"\r\n              >\r\n                <svg class=\"icon\" aria-hidden=\"true\">\r\n                  <use :xlink:href=\"item.svgName\"></use>\r\n                </svg>\r\n              </li>\r\n            </ul>\r\n            <el-button type=\"primary\" @click=\"submitPayment\">去支付</el-button>\r\n          </div>\r\n          <div class=\"offline-pay\" v-show=\"paramsData.activeIndex === 2\">\r\n            <el-alert\r\n              title=\"您好！以下银行卡号汇款账号仅适用于对公汇款，为了方便审核请您在汇款成功后截图保存提交汇款凭证，便于客服审核并为您开通指定服务。\"\r\n              type=\"warning\"\r\n              :closable=\"false\"\r\n            >\r\n            </el-alert>\r\n            <ul class=\"payment-list offline-list\">\r\n              <li>\r\n                <p>1797 7018 7100</p>\r\n                <p>户 头：八度云计算（安徽）有限公司</p>\r\n                <p>开户行：中国银行合肥望江中路支行</p>\r\n              </li>\r\n            </ul>\r\n            <CustomUpload\r\n              @emitUpload=\"offlinePaymentUploadImg\"\r\n              :limit=\"2\"\r\n              buttonWord=\"上传图片\"\r\n              tip=\"最多上传2张转账凭证\"\r\n            ></CustomUpload>\r\n            <el-button type=\"primary\" @click=\"submitPayment\">提交</el-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <!--  支付二维码  -->\r\n  <QRCodeDialog\r\n    v-model:amount=\"paramsData.amount\"\r\n    v-model:visible=\"paramsData.paymentVisible\"\r\n    v-model:paymentInfo=\"paramsData.paymentInfo\"\r\n  ></QRCodeDialog>\r\n</template>\r\n<script lang=\"ts\">\r\nexport default {\r\n  name: \"payment-deposit\",\r\n};\r\n</script>\r\n<script lang=\"ts\" setup>\r\nimport { reactive, defineAsyncComponent } from \"vue\";\r\nimport { ElMessage } from \"element-plus\";\r\n\r\nimport { useVueRouter } from \"@/assets/useHook\";\r\nimport { testMoney } from \"jz-tool-lib\";\r\nimport { paymentEnum } from \"@assets/typeStatus\";\r\n\r\nimport { paymentQRCodeApi } from \"@api/payment-api\";\r\n\r\nconst QRCodeDialog = defineAsyncComponent(\r\n  () => import(\"@components/payment/QRCode-dialog.vue\")\r\n);\r\ninterface paramsDataInterface {\r\n  amount: string;\r\n  paymentInfo: Record<string, unknown>;\r\n  onlinePayment: string;\r\n  offlinePayment: string;\r\n  activeIndex: number;\r\n  rechargeImg: string;\r\n  inputDisabled: boolean;\r\n  paymentVisible: boolean;\r\n}\r\nconst { goPage, routeQuery } = useVueRouter();\r\nconst paymentModeList = [\r\n  {\r\n    label: \"在线支付\",\r\n    value: 0,\r\n  },\r\n  {\r\n    label: \"线下支付\",\r\n    value: 2,\r\n  },\r\n];\r\nconst onlineTypeList = [\r\n  {\r\n    onlineType: \"online-wx\",\r\n    svgName: \"#icon-WeChat\",\r\n  },\r\n  {\r\n    onlineType: \"online-zfb\",\r\n    svgName: \"#icon-alipay\",\r\n  },\r\n];\r\nconst paramsData = reactive<paramsDataInterface>({\r\n  amount: routeQuery.value.amount,\r\n  paymentInfo: {},\r\n  onlinePayment: \"online-wx\", // 线上支付-当前选择 默认选择微信支付\r\n  offlinePayment: \"offline\", // 线下支付-当前选择\r\n  activeIndex: 0,\r\n  rechargeImg: \"\",\r\n  inputDisabled: false,\r\n  paymentVisible: false,\r\n});\r\n\r\nconst paymentClick = (type: string, value: string) => {\r\n  paramsData[type] = value;\r\n};\r\n// 获取支付参数\r\nconst paymentParams = () => {\r\n  const info = {\r\n    realPrice: paramsData.amount,\r\n    paymentType: \"\",\r\n    rechargeImg: \"\",\r\n  };\r\n  if (paramsData.activeIndex === 0) {\r\n    info.paymentType = paymentEnum[paramsData.onlinePayment];\r\n    Reflect.deleteProperty(info, \"rechargeImg\");\r\n  }\r\n  if (paramsData.activeIndex === 2) {\r\n    info.paymentType = paymentEnum[paramsData.offlinePayment];\r\n    info.rechargeImg = paramsData.rechargeImg;\r\n  }\r\n  if (routeQuery.value.orderNo) {\r\n    Reflect.set(info, \"orderNo\", routeQuery.value.orderNo);\r\n  }\r\n  return info;\r\n};\r\nconst paymentApi = (params) => {\r\n  paymentQRCodeApi.getData(params).then((res) => {\r\n    paramsData.paymentInfo = res.data;\r\n    if (paramsData.activeIndex === 0) {\r\n      paramsData.paymentVisible = true;\r\n    } else {\r\n      ElMessage.success(\"提交成功\");\r\n      goPage(\"/marketService/personalOrder/list\");\r\n    }\r\n  });\r\n};\r\nconst submitPayment = () => {\r\n  if (!paramsData.amount) {\r\n    ElMessage.error(\"请输入金额\");\r\n    return;\r\n  } else {\r\n    if (!testMoney(paramsData.amount.toString())) {\r\n      ElMessage.error(\"请输入正确的金额\");\r\n      return;\r\n    }\r\n  }\r\n  const params = paymentParams();\r\n  paymentApi(params);\r\n};\r\n// tab 点击\r\nconst tabClick = (item) => {\r\n  paramsData.activeIndex = item.value;\r\n};\r\nconst offlinePaymentUploadImg = (value) => {\r\n  paramsData.rechargeImg = value.toString();\r\n};\r\n// 已有订单，匹配到之前支付方式\r\nif (routeQuery.value.modePayment && routeQuery.value.paymentType) {\r\n  const paymentType = paymentEnum[Number(routeQuery.value.paymentType)];\r\n  if (routeQuery.value.modePayment === \"onlinePayment\") {\r\n    paramsData.activeIndex = 0;\r\n    paramsData.onlinePayment = paymentType;\r\n  } else if (routeQuery.value.modePayment === \"offlinePayment\") {\r\n    paramsData.activeIndex = 2;\r\n    paramsData.offlinePayment = paymentType;\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.recharge-amount {\r\n  width: 1200px;\r\n  margin: 0 auto;\r\n}\r\n.amount-container {\r\n  height: 190px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  padding: 0 60px;\r\n  background: #ffffff;\r\n  border-radius: 8px;\r\n\r\n  .amount {\r\n    position: relative;\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    .money-logo {\r\n      position: absolute;\r\n      top: 5px;\r\n      left: 215px;\r\n      font-size: 28px;\r\n      font-weight: 600;\r\n      color: #f12525;\r\n      line-height: 1;\r\n    }\r\n\r\n    .label {\r\n      color: #242934;\r\n      font-size: 26px;\r\n      line-height: 36px;\r\n    }\r\n\r\n    input {\r\n      width: 200px;\r\n      height: 36px;\r\n      color: #f12525;\r\n      font-size: 27px;\r\n      font-weight: 600;\r\n      padding: 10px 10px 2px 30px;\r\n      line-height: 1;\r\n      border-bottom: 1px solid #e1e4e8;\r\n\r\n      &::placeholder {\r\n        font-size: 18px;\r\n        color: #9ca6b9;\r\n        line-height: 1;\r\n        font-weight: normal;\r\n      }\r\n    }\r\n  }\r\n\r\n  .prompt {\r\n    font-size: 14px;\r\n    color: #9ca6b9;\r\n    margin-top: 8px;\r\n  }\r\n}\r\n\r\n.payment-container {\r\n  padding: 0 60px 80px;\r\n  margin-top: 20px;\r\n  background: #ffffff;\r\n  border-radius: 8px;\r\n\r\n  .title {\r\n    display: flex;\r\n    align-items: center;\r\n    height: 88px;\r\n    font-size: 20px;\r\n    color: #242934;\r\n    line-height: 20px;\r\n    border-bottom: 1px solid #edf1f6;\r\n  }\r\n\r\n  .payment-type {\r\n    margin-top: 28px;\r\n    .payment-list {\r\n      display: flex;\r\n      margin: 20px 0 40px;\r\n      li {\r\n        position: relative;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        width: 228px;\r\n        height: 96px;\r\n        cursor: pointer;\r\n        margin-right: 12px;\r\n        background: #ffffff;\r\n        border-radius: 4px;\r\n        border: 1px solid #e1e4e8;\r\n        &:hover {\r\n          border-color: #0056ff;\r\n        }\r\n        &.active {\r\n          border-color: #0056ff;\r\n        }\r\n        &.active::before {\r\n          position: absolute;\r\n          right: 0;\r\n          bottom: 0;\r\n          content: \"\";\r\n          width: 27px;\r\n          height: 27px;\r\n          background: url(\"../../assets/images/select-icon.png\") no-repeat\r\n            center;\r\n          background-size: 100%;\r\n        }\r\n      }\r\n    }\r\n    .offline-list {\r\n      li {\r\n        flex-direction: column;\r\n        align-items: flex-start;\r\n        justify-content: flex-end;\r\n        width: 320px;\r\n        height: 170px;\r\n        padding: 0 16px;\r\n        border-radius: 8px;\r\n        box-shadow: 0 8px 40px #646b7a26;\r\n        border: none;\r\n        background: url(\"@/assets/images/pay_zgyh.png\") top 16px left 16px\r\n          no-repeat;\r\n        background-size: 45%;\r\n        &:hover {\r\n          border-color: transparent;\r\n        }\r\n        p {\r\n          font-size: 13px;\r\n          margin-bottom: 5px;\r\n          &:last-child {\r\n            margin-bottom: 20px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .online-list,\r\n    .balance-list {\r\n      svg {\r\n        width: 110px;\r\n        height: 35px;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.body-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  .QR-code {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width: 168px;\r\n    height: 168px;\r\n    margin-bottom: 40px;\r\n    border: 1px solid #e1e4e8;\r\n  }\r\n\r\n  .word {\r\n    font-size: 14px;\r\n    color: #242934;\r\n    line-height: 1;\r\n  }\r\n\r\n  .amount {\r\n    font-size: 26px;\r\n    font-weight: 600;\r\n    color: #f12525;\r\n    line-height: 1;\r\n    margin: 12px 0 40px;\r\n  }\r\n\r\n  .prompt {\r\n    font-size: 14px;\r\n    color: #9ca6b9;\r\n    line-height: 1;\r\n  }\r\n}\r\n.offline-pay {\r\n  .custom-upload-img {\r\n    width: 50%;\r\n    margin-bottom: 40px;\r\n  }\r\n}\r\n</style>\r\n<style lang=\"scss\">\r\n.payment-dialog {\r\n  .el-dialog__body {\r\n    padding: 0;\r\n  }\r\n  .el-dialog__footer {\r\n    padding: 40px 0 50px;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./deposit.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./deposit.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./deposit.vue?vue&type=style&index=0&id=23eecbee&lang=scss&scoped=true\"\nimport \"./deposit.vue?vue&type=style&index=1&id=23eecbee&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/.pnpm/vue-loader@17.4.2_@vue+compiler-sfc@3.5.13_vue@3.5.13_typescript@5.7.2__webpack@5.97.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-23eecbee\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","__default__","name","_defineComponent","setup","__props","QRCodeDialog","defineAsyncComponent","goPage","routeQuery","useVueRouter","paymentModeList","label","value","onlineTypeList","onlineType","svgName","paramsData","reactive","amount","paymentInfo","onlinePayment","offlinePayment","activeIndex","rechargeImg","inputDisabled","paymentVisible","paymentClick","type","paymentParams","info","realPrice","paymentType","paymentEnum","Reflect","deleteProperty","orderNo","set","paymentApi","params","paymentQRCodeApi","getData","then","res","data","ElMessage","success","submitPayment","error","testMoney","toString","tabClick","item","offlinePaymentUploadImg","modePayment","Number","_ctx","_cache","_component_TabList","_resolveComponent","_component_el_button","_component_el_alert","_component_CustomUpload","_openBlock","_createElementBlock","_Fragment","_createElementVNode","_withDirectives","$event","placeholder","disabled","_vModelText","number","_createVNode","onEmitTab","list","_renderList","index","key","_normalizeClass","onClick","default","_withCtx","_createTextVNode","_","_vShow","title","closable","onEmitUpload","limit","buttonWord","tip","_unref","visible","__exports__"],"sourceRoot":""}