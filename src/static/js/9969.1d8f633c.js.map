{"version":3,"file":"static/js/9969.1d8f633c.js","mappings":"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","sources":["webpack://daili/./src/api/financial-center/invoice-management/income-invoice/index.ts","webpack://daili/./src/views/financial-center/invoice-management/income-invoice/components/details-drawer.vue?e6bd","webpack://daili/./src/views/financial-center/invoice-management/income-invoice/components/details-drawer.vue","webpack://daili/./src/views/financial-center/invoice-management/income-invoice/components/details-drawer.vue?10d2","webpack://daili/./src/views/financial-center/invoice-management/income-invoice/index.vue?4941","webpack://daili/./src/views/financial-center/invoice-management/income-invoice/index.vue","webpack://daili/./src/views/financial-center/invoice-management/income-invoice/index.vue?2a88"],"sourcesContent":["// 进项发票\r\nimport http from \"@assets/http\";\r\nimport { invoiceStatusList } from \"@assets/typeStatus\";\r\nimport { serviceName } from \"@assets/common\";\r\nimport type { Response, List } from \"@/api/financial-center/index.type\";\r\nimport { arrayHasValue, arrayMatchValue, toMoney } from \"jz-tool-lib\";\r\n\r\ninterface CommonParams {\r\n  companyId: string;\r\n}\r\n\r\ninterface InputInvoiceListParams extends CommonParams {\r\n  pageNo: number;\r\n  pageSize: number;\r\n}\r\n\r\n// 获取进项发票列表\r\nexport const queryInputInvoiceListApi = {\r\n  typeMap: {\r\n    1: \"普通发票\",\r\n    3: \"增值税发票\",\r\n  },\r\n  getData: (data: InputInvoiceListParams): Response<List> => {\r\n    return http.post(\r\n      `${serviceName.baseUpmsRest}/agentInvoice/pageInputList`,\r\n      data\r\n    );\r\n  },\r\n  handleData(data) {\r\n    return {\r\n      list: arrayHasValue(data.records)\r\n        ? data?.records.map((item) => {\r\n            const invoiceStatusInfo = arrayMatchValue(\r\n              invoiceStatusList,\r\n              item.status,\r\n              \"value\"\r\n            );\r\n            return {\r\n              id: item.id,\r\n              applyTime: dayjs(item.applyTime).format(\"YYYY-MM-DD HH:mm:ss\"),\r\n              invoicePrice: toMoney(item.invoicePrice),\r\n              typeLabel: this.typeMap[item.type],\r\n              status: item.status,\r\n              statusLabel: invoiceStatusInfo.label,\r\n              statusStyle: invoiceStatusInfo.styleType,\r\n              remarks: item.status === 3 ? item.rejectCause : item.remarks,\r\n            };\r\n          })\r\n        : [],\r\n      total: data?.total,\r\n    };\r\n  },\r\n};\r\n\r\n// 获取可开票余额\r\nexport const queryInvoiceBalanceApi = {\r\n  getData: (params) => {\r\n    return http.get(`${serviceName.agentSystem}/bill/invoicedAmount`, {\r\n      params,\r\n    });\r\n  },\r\n};\r\n\r\n// 获取进项发票详情\r\nexport const queryInputInvoiceDetailApi = {\r\n  getData: (params) => {\r\n    return http.get(\r\n      `${serviceName.baseUpmsRest}/company-invoice-apply/queryBusinessBillingRecordDetail`,\r\n      { params }\r\n    );\r\n  },\r\n  handleData(item) {\r\n    const invoiceStatusInfo = arrayMatchValue(\r\n      invoiceStatusList,\r\n      item.status,\r\n      \"value\"\r\n    );\r\n    return {\r\n      id: item.id,\r\n      status: item.status,\r\n      statusLabel: invoiceStatusInfo.label,\r\n      statusStyle: invoiceStatusInfo.styleType,\r\n      invoicePrice: toMoney(item.invoicePrice),\r\n      invoiceTitle: item.invoiceTitle,\r\n      creditCodes: item.creditCodes,\r\n      registerAddress: item.registerAddress,\r\n      registerPhone: item.registerPhone,\r\n      bank: item.bank,\r\n      account: item.account,\r\n      name: item.name,\r\n      email: item.email,\r\n      address: item.address,\r\n      invoiceUrl: item.invoiceUrl,\r\n    };\r\n  },\r\n};\r\n\r\n// 进项开票\r\nexport function addInputInvoiceApi(data) {\r\n  return http.post(\r\n    `${serviceName.baseUpmsRest}/agentInvoice/submitApply`,\r\n    data\r\n  );\r\n}\r\n\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock, createCommentVNode as _createCommentVNode, unref as _unref, createVNode as _createVNode, createElementVNode as _createElementVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"body-container\" }\n\nimport { ref, shallowReactive, shallowRef } from \"vue\";\r\nimport { queryInputInvoiceDetailApi } from \"@api/financial-center/invoice-management/income-invoice\";\r\nimport { downLoadFile } from \"jz-tool-lib\";\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'details-drawer',\n  setup(__props, { expose: __expose }) {\n\r\nconst formMap = {\r\n  statusLabel: \"开票状态\",\r\n  invoicePrice: \"开票金额\",\r\n  invoiceTitle: \"开票抬头\",\r\n  creditCodes: \"税号\",\r\n  registerAddress: \"注册地址\",\r\n  registerPhone: \"注册电话\",\r\n  bank: \"开户银行\",\r\n  account: \"银行账户\",\r\n  name: \"收件人\",\r\n  email: \"邮箱地址\",\r\n  address: \"收件地址\",\r\n  invoiceUrl: \"发票下载\",\r\n};\r\nconst visible = shallowRef(false);\r\nconst form = ref({});\r\nconst rowInfo = shallowReactive({});\r\n\r\nasync function queryDetail() {\r\n  const params = {\r\n    id: rowInfo.id,\r\n  };\r\n  try {\r\n    const res = await queryInputInvoiceDetailApi.getData(params);\r\n    form.value = queryInputInvoiceDetailApi.handleData(res.data);\r\n  } catch (e) {\r\n    console.log(\"获取发票详情失败\", e);\r\n  }\r\n}\r\n\r\nasync function show(item) {\r\n  visible.value = true;\r\n  Object.assign(rowInfo, { id: item.id });\r\n  await queryDetail();\r\n}\r\n\r\nfunction hide() {\r\n  visible.value = false;\r\n}\r\n\r\n__expose({\r\n  show,\r\n  hide,\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_tag = _resolveComponent(\"el-tag\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_form_item = _resolveComponent(\"el-form-item\")!\n  const _component_el_form = _resolveComponent(\"el-form\")!\n  const _component_el_drawer = _resolveComponent(\"el-drawer\")!\n\n  return (_openBlock(), _createBlock(_component_el_drawer, {\n    class: \"custom-drawer\",\n    modelValue: visible.value,\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((visible).value = $event)),\n    title: \"查看详情\",\n    size: \"700\"\n  }, {\n    footer: _withCtx(() => [\n      _createVNode(_component_el_button, {\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (visible.value = false))\n      }, {\n        default: _withCtx(() => _cache[3] || (_cache[3] = [\n          _createTextVNode(\"关闭\")\n        ])),\n        _: 1\n      })\n    ]),\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createVNode(_component_el_form, { \"label-width\": \"90px\" }, {\n          default: _withCtx(() => [\n            (_openBlock(), _createElementBlock(_Fragment, null, _renderList(formMap, (value, key) => {\n              return _createVNode(_component_el_form_item, {\n                key: key,\n                label: value + '：'\n              }, {\n                default: _withCtx(() => [\n                  (key === 'statusLabel')\n                    ? (_openBlock(), _createBlock(_component_el_tag, {\n                        key: 0,\n                        type: form.value.statusStyle\n                      }, {\n                        default: _withCtx(() => [\n                          _createTextVNode(_toDisplayString(form.value[key]), 1)\n                        ]),\n                        _: 2\n                      }, 1032, [\"type\"]))\n                    : (key === 'invoiceUrl')\n                      ? (_openBlock(), _createBlock(_component_el_button, {\n                          key: 1,\n                          disabled: !form.value[key],\n                          link: \"\",\n                          type: \"primary\",\n                          onClick: ($event: any) => (_unref(downLoadFile)(form.value[key]))\n                        }, {\n                          default: _withCtx(() => _cache[2] || (_cache[2] = [\n                            _createTextVNode(\"下载 \")\n                          ])),\n                          _: 2\n                        }, 1032, [\"disabled\", \"onClick\"]))\n                      : (_openBlock(), _createElementBlock(_Fragment, { key: 2 }, [\n                          _createTextVNode(_toDisplayString(form.value[key] || \"-\"), 1)\n                        ], 64))\n                ]),\n                _: 2\n              }, 1032, [\"label\"])\n            }), 64))\n          ]),\n          _: 1\n        })\n      ])\n    ]),\n    _: 1\n  }, 8, [\"modelValue\"]))\n}\n}\n\n})","<template>\r\n  <el-drawer\r\n    class=\"custom-drawer\"\r\n    v-model=\"visible\"\r\n    title=\"查看详情\"\r\n    size=\"700\"\r\n  >\r\n    <div class=\"body-container\">\r\n      <el-form label-width=\"90px\">\r\n        <template v-for=\"(value, key) in formMap\" :key=\"key\">\r\n          <el-form-item :label=\"value + '：'\">\r\n            <template v-if=\"key === 'statusLabel'\">\r\n              <el-tag :type=\"form.statusStyle\">{{ form[key] }}</el-tag>\r\n            </template>\r\n            <template v-else-if=\"key === 'invoiceUrl'\">\r\n              <el-button\r\n                :disabled=\"!form[key]\"\r\n                link\r\n                type=\"primary\"\r\n                @click=\"downLoadFile(form[key])\"\r\n                >下载\r\n              </el-button>\r\n            </template>\r\n            <template v-else>\r\n              {{ form[key] || \"-\" }}\r\n            </template>\r\n          </el-form-item>\r\n        </template>\r\n      </el-form>\r\n    </div>\r\n    <template #footer>\r\n      <el-button @click=\"visible = false\">关闭</el-button>\r\n    </template>\r\n  </el-drawer>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, shallowReactive, shallowRef } from \"vue\";\r\nimport { queryInputInvoiceDetailApi } from \"@api/financial-center/invoice-management/income-invoice\";\r\nimport { downLoadFile } from \"jz-tool-lib\";\r\n\r\nconst formMap = {\r\n  statusLabel: \"开票状态\",\r\n  invoicePrice: \"开票金额\",\r\n  invoiceTitle: \"开票抬头\",\r\n  creditCodes: \"税号\",\r\n  registerAddress: \"注册地址\",\r\n  registerPhone: \"注册电话\",\r\n  bank: \"开户银行\",\r\n  account: \"银行账户\",\r\n  name: \"收件人\",\r\n  email: \"邮箱地址\",\r\n  address: \"收件地址\",\r\n  invoiceUrl: \"发票下载\",\r\n};\r\nconst visible = shallowRef(false);\r\nconst form = ref({});\r\nconst rowInfo = shallowReactive({});\r\n\r\nasync function queryDetail() {\r\n  const params = {\r\n    id: rowInfo.id,\r\n  };\r\n  try {\r\n    const res = await queryInputInvoiceDetailApi.getData(params);\r\n    form.value = queryInputInvoiceDetailApi.handleData(res.data);\r\n  } catch (e) {\r\n    console.log(\"获取发票详情失败\", e);\r\n  }\r\n}\r\n\r\nasync function show(item) {\r\n  visible.value = true;\r\n  Object.assign(rowInfo, { id: item.id });\r\n  await queryDetail();\r\n}\r\n\r\nfunction hide() {\r\n  visible.value = false;\r\n}\r\n\r\ndefineExpose({\r\n  show,\r\n  hide,\r\n});\r\n</script>\r\n","import script from \"./details-drawer.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./details-drawer.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, unref as _unref, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"income-invoice\" }\nconst _hoisted_2 = { class: \"header\" }\nconst _hoisted_3 = { class: \"first-part\" }\nconst _hoisted_4 = { class: \"btn-group\" }\nconst _hoisted_5 = { class: \"seconds-part\" }\nconst _hoisted_6 = { class: \"item\" }\nconst _hoisted_7 = { class: \"tips\" }\nconst _hoisted_8 = { class: \"table-container\" }\n\nimport { ref, shallowRef, defineAsyncComponent } from \"vue\";\r\nimport { QuestionFilled } from \"@element-plus/icons-vue\";\r\nimport DetailsDrawer from \"./components/details-drawer.vue\";\r\nimport {\r\n  queryInputInvoiceListApi,\r\n  queryInvoiceBalanceApi,\r\n} from \"@api/financial-center/invoice-management/income-invoice\";\r\nimport { LocalStorage, usePage, toMoney } from \"jz-tool-lib\";\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\r\nconst { bd_agentId: agentId } = LocalStorage.batchGetItem([\"bd_agentId\"]);\r\nconst { bd_virCompanyId: virCompanyId } = LocalStorage.batchGetItem([\r\n  \"bd_virCompanyId\",\r\n]);\r\nconst RequestInvoice = defineAsyncComponent(\r\n  () =>\r\n    import(\r\n      \"@views/financial-center/invoice-management/components/request-invoice/request-invoice.vue\"\r\n    )\r\n);\r\nconst Invoice = defineAsyncComponent(\r\n  () => import(\"@/components/common/invoice.vue\")\r\n);\r\nconst ReceiveAddress = defineAsyncComponent(\r\n  () => import(\"@/components/common/receive-address.vue\")\r\n);\r\n\r\nconst detailsDrawerRef = ref();\r\nconst requestInvoiceRef = ref();\r\nconst invoicableBalance = shallowRef(\"\");\r\nconst invoiceVisible = shallowRef(false);\r\nconst receiveAddressVisible = shallowRef(false);\r\nconst headerConfig = [\r\n  { label: \"申请时间\", propertyKey: \"applyTime\", width: 200 },\r\n  { label: \"发票类型\", propertyKey: \"typeLabel\", width: 200 },\r\n  { label: \"发票金额（元）\", propertyKey: \"invoicePrice\", width: 180 },\r\n  { label: \"状态\", propertyKey: \"statusLabel\", width: 200 },\r\n  { label: \"备注\", propertyKey: \"remarks\", width: 200 },\r\n];\r\nconst { pageNumberChange, pageSizeChange, pageData, getList } = usePage({\r\n  listApi: queryInputInvoiceListApi,\r\n  props: {\r\n    pageNumber: \"pageNo\",\r\n    pageSize: \"pageSize\",\r\n  },\r\n  paramsData: {\r\n    companyId: virCompanyId,\r\n  },\r\n});\r\n\r\nasync function queryPrice() {\r\n  const params = {\r\n    agentId,\r\n  };\r\n  const res = await queryInvoiceBalanceApi.getData(params);\r\n  invoicableBalance.value = toMoney(res.data);\r\n}\r\n\r\nfunction refresh() {\r\n  getList();\r\n  setTimeout(() => {\r\n    queryPrice();\r\n  }, 1000);\r\n}\r\n\r\nqueryPrice();\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_icon = _resolveComponent(\"el-icon\")!\n  const _component_el_tooltip = _resolveComponent(\"el-tooltip\")!\n  const _component_el_tag = _resolveComponent(\"el-tag\")!\n  const _component_el_table_column = _resolveComponent(\"el-table-column\")!\n  const _component_TableEmpty = _resolveComponent(\"TableEmpty\")!\n  const _component_el_table = _resolveComponent(\"el-table\")!\n  const _component_PagePagination = _resolveComponent(\"PagePagination\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createElementVNode(\"div\", _hoisted_4, [\n            _createVNode(_component_el_button, {\n              link: \"\",\n              type: \"primary\",\n              onClick: _cache[0] || (_cache[0] = ($event: any) => (invoiceVisible.value = true))\n            }, {\n              default: _withCtx(() => _cache[5] || (_cache[5] = [\n                _createTextVNode(\"发票抬头 \")\n              ])),\n              _: 1\n            }),\n            _createVNode(_component_el_button, {\n              link: \"\",\n              type: \"primary\",\n              onClick: _cache[1] || (_cache[1] = ($event: any) => (receiveAddressVisible.value = true))\n            }, {\n              default: _withCtx(() => _cache[6] || (_cache[6] = [\n                _createTextVNode(\"收件地址 \")\n              ])),\n              _: 1\n            })\n          ])\n        ]),\n        _createElementVNode(\"div\", _hoisted_5, [\n          _createElementVNode(\"div\", _hoisted_6, [\n            _createElementVNode(\"div\", _hoisted_7, [\n              _cache[7] || (_cache[7] = _createElementVNode(\"h4\", null, \"可开票金额\", -1)),\n              _createVNode(_component_el_tooltip, {\n                effect: \"dark\",\n                content: \"发票由数企提供\",\n                placement: \"top-start\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_el_icon, {\n                    size: 20,\n                    color: \"#b1b3b8\"\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_unref(QuestionFilled))\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              })\n            ]),\n            _createElementVNode(\"p\", null, [\n              _createElementVNode(\"span\", null, \"¥ \" + _toDisplayString(invoicableBalance.value), 1),\n              _createVNode(_component_el_button, {\n                type: \"primary\",\n                size: \"default\",\n                onClick: _cache[2] || (_cache[2] = ($event: any) => (requestInvoiceRef.value.show()))\n              }, {\n                default: _withCtx(() => _cache[8] || (_cache[8] = [\n                  _createTextVNode(\"索要发票 \")\n                ])),\n                _: 1\n              })\n            ])\n          ])\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_8, [\n        _createVNode(_component_el_table, {\n          data: _unref(pageData).list,\n          height: \"calc(100vh - 400px)\"\n        }, {\n          empty: _withCtx(() => [\n            _createVNode(_component_TableEmpty, { \"empty-text\": \"暂无数据\" })\n          ]),\n          default: _withCtx(() => [\n            (_openBlock(), _createElementBlock(_Fragment, null, _renderList(headerConfig, (item) => {\n              return _createVNode(_component_el_table_column, {\n                key: _ctx.index,\n                \"show-overflow-tooltip\": \"\",\n                prop: item.propertyKey,\n                label: item.label,\n                \"min-width\": item.width\n              }, {\n                default: _withCtx(({ row }) => [\n                  (item.propertyKey === 'statusLabel')\n                    ? (_openBlock(), _createBlock(_component_el_tag, {\n                        key: 0,\n                        type: row.statusStyle\n                      }, {\n                        default: _withCtx(() => [\n                          _createTextVNode(_toDisplayString(row[item.propertyKey]), 1)\n                        ]),\n                        _: 2\n                      }, 1032, [\"type\"]))\n                    : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                        _createTextVNode(_toDisplayString(row[item.propertyKey] || \"-\"), 1)\n                      ], 64))\n                ]),\n                _: 2\n              }, 1032, [\"prop\", \"label\", \"min-width\"])\n            }), 64)),\n            _createVNode(_component_el_table_column, {\n              label: \"操作\",\n              align: \"center\",\n              fixed: \"right\",\n              width: \"200\"\n            }, {\n              default: _withCtx(({ row }) => [\n                _createVNode(_component_el_button, {\n                  link: \"\",\n                  type: \"primary\",\n                  onClick: ($event: any) => (detailsDrawerRef.value.show(row))\n                }, {\n                  default: _withCtx(() => _cache[9] || (_cache[9] = [\n                    _createTextVNode(\"查看 \")\n                  ])),\n                  _: 2\n                }, 1032, [\"onClick\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"data\"]),\n        _createVNode(_component_PagePagination, {\n          pageTotal: _unref(pageData).pageTotal,\n          pageSize: _unref(pageData).pageSize,\n          pageNumber: _unref(pageData).pageNumber,\n          onEmitPageSizeChange: _unref(pageSizeChange),\n          onEmitPageNumberChange: _unref(pageNumberChange)\n        }, null, 8, [\"pageTotal\", \"pageSize\", \"pageNumber\", \"onEmitPageSizeChange\", \"onEmitPageNumberChange\"])\n      ])\n    ]),\n    _createVNode(_unref(Invoice), {\n      modelValue: invoiceVisible.value,\n      \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((invoiceVisible).value = $event))\n    }, null, 8, [\"modelValue\"]),\n    _createVNode(_unref(ReceiveAddress), {\n      modelValue: receiveAddressVisible.value,\n      \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((receiveAddressVisible).value = $event))\n    }, null, 8, [\"modelValue\"]),\n    _createVNode(_unref(RequestInvoice), {\n      ref_key: \"requestInvoiceRef\",\n      ref: requestInvoiceRef,\n      onSuccess: refresh\n    }, null, 512),\n    _createVNode(DetailsDrawer, {\n      ref_key: \"detailsDrawerRef\",\n      ref: detailsDrawerRef\n    }, null, 512)\n  ], 64))\n}\n}\n\n})","<template>\r\n  <div class=\"income-invoice\">\r\n    <!-- 头部 -->\r\n    <div class=\"header\">\r\n      <div class=\"first-part\">\r\n        <div class=\"btn-group\">\r\n          <el-button link type=\"primary\" @click=\"invoiceVisible = true\"\r\n            >发票抬头\r\n          </el-button>\r\n          <el-button link type=\"primary\" @click=\"receiveAddressVisible = true\"\r\n            >收件地址\r\n          </el-button>\r\n        </div>\r\n      </div>\r\n      <div class=\"seconds-part\">\r\n        <div class=\"item\">\r\n          <div class=\"tips\">\r\n            <h4>可开票金额</h4>\r\n            <el-tooltip\r\n              effect=\"dark\"\r\n              content=\"发票由数企提供\"\r\n              placement=\"top-start\"\r\n            >\r\n              <el-icon :size=\"20\" color=\"#b1b3b8\">\r\n                <QuestionFilled />\r\n              </el-icon>\r\n            </el-tooltip>\r\n          </div>\r\n          <p>\r\n            <span>&yen;&nbsp;{{ invoicableBalance }}</span>\r\n            <el-button\r\n              type=\"primary\"\r\n              size=\"default\"\r\n              @click=\"requestInvoiceRef.show()\"\r\n              >索要发票\r\n            </el-button>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"table-container\">\r\n      <el-table :data=\"pageData.list\" height=\"calc(100vh - 400px)\">\r\n        <template v-for=\"item in headerConfig\" :key=\"index\">\r\n          <el-table-column\r\n            show-overflow-tooltip\r\n            :prop=\"item.propertyKey\"\r\n            :label=\"item.label\"\r\n            :min-width=\"item.width\"\r\n          >\r\n            <template #default=\"{ row }\">\r\n              <template v-if=\"item.propertyKey === 'statusLabel'\">\r\n                <el-tag :type=\"row.statusStyle\"\r\n                  >{{ row[item.propertyKey] }}\r\n                </el-tag>\r\n              </template>\r\n              <template v-else>\r\n                {{ row[item.propertyKey] || \"-\" }}\r\n              </template>\r\n            </template>\r\n          </el-table-column>\r\n        </template>\r\n        <el-table-column label=\"操作\" align=\"center\" fixed=\"right\" width=\"200\">\r\n          <template #default=\"{ row }\">\r\n            <el-button link type=\"primary\" @click=\"detailsDrawerRef.show(row)\"\r\n              >查看\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n        <template #empty>\r\n          <TableEmpty empty-text=\"暂无数据\"></TableEmpty>\r\n        </template>\r\n      </el-table>\r\n      <PagePagination\r\n        :pageTotal=\"pageData.pageTotal\"\r\n        :pageSize=\"pageData.pageSize\"\r\n        :pageNumber=\"pageData.pageNumber\"\r\n        @emitPageSizeChange=\"pageSizeChange\"\r\n        @emitPageNumberChange=\"pageNumberChange\"\r\n      ></PagePagination>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- 发票抬头 -->\r\n  <Invoice v-model=\"invoiceVisible\" />\r\n  <!-- 收件地址 -->\r\n  <ReceiveAddress v-model=\"receiveAddressVisible\" />\r\n  <!-- 索要发票 -->\r\n  <RequestInvoice ref=\"requestInvoiceRef\" @success=\"refresh\" />\r\n  <!-- 查看详情 -->\r\n  <DetailsDrawer ref=\"detailsDrawerRef\" />\r\n</template>\r\n<script setup lang=\"ts\">\r\nimport { ref, shallowRef, defineAsyncComponent } from \"vue\";\r\nimport { QuestionFilled } from \"@element-plus/icons-vue\";\r\nimport DetailsDrawer from \"./components/details-drawer.vue\";\r\nimport {\r\n  queryInputInvoiceListApi,\r\n  queryInvoiceBalanceApi,\r\n} from \"@api/financial-center/invoice-management/income-invoice\";\r\nimport { LocalStorage, usePage, toMoney } from \"jz-tool-lib\";\r\n\r\nconst { bd_agentId: agentId } = LocalStorage.batchGetItem([\"bd_agentId\"]);\r\nconst { bd_virCompanyId: virCompanyId } = LocalStorage.batchGetItem([\r\n  \"bd_virCompanyId\",\r\n]);\r\nconst RequestInvoice = defineAsyncComponent(\r\n  () =>\r\n    import(\r\n      \"@views/financial-center/invoice-management/components/request-invoice/request-invoice.vue\"\r\n    )\r\n);\r\nconst Invoice = defineAsyncComponent(\r\n  () => import(\"@/components/common/invoice.vue\")\r\n);\r\nconst ReceiveAddress = defineAsyncComponent(\r\n  () => import(\"@/components/common/receive-address.vue\")\r\n);\r\n\r\nconst detailsDrawerRef = ref();\r\nconst requestInvoiceRef = ref();\r\nconst invoicableBalance = shallowRef(\"\");\r\nconst invoiceVisible = shallowRef(false);\r\nconst receiveAddressVisible = shallowRef(false);\r\nconst headerConfig = [\r\n  { label: \"申请时间\", propertyKey: \"applyTime\", width: 200 },\r\n  { label: \"发票类型\", propertyKey: \"typeLabel\", width: 200 },\r\n  { label: \"发票金额（元）\", propertyKey: \"invoicePrice\", width: 180 },\r\n  { label: \"状态\", propertyKey: \"statusLabel\", width: 200 },\r\n  { label: \"备注\", propertyKey: \"remarks\", width: 200 },\r\n];\r\nconst { pageNumberChange, pageSizeChange, pageData, getList } = usePage({\r\n  listApi: queryInputInvoiceListApi,\r\n  props: {\r\n    pageNumber: \"pageNo\",\r\n    pageSize: \"pageSize\",\r\n  },\r\n  paramsData: {\r\n    companyId: virCompanyId,\r\n  },\r\n});\r\n\r\nasync function queryPrice() {\r\n  const params = {\r\n    agentId,\r\n  };\r\n  const res = await queryInvoiceBalanceApi.getData(params);\r\n  invoicableBalance.value = toMoney(res.data);\r\n}\r\n\r\nfunction refresh() {\r\n  getList();\r\n  setTimeout(() => {\r\n    queryPrice();\r\n  }, 1000);\r\n}\r\n\r\nqueryPrice();\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.income-invoice {\r\n  width: 100%;\r\n  height: 100%;\r\n\r\n  .header {\r\n    width: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-bottom: 20px;\r\n\r\n    .first-part {\r\n      display: flex;\r\n      justify-content: flex-end;\r\n      align-items: center;\r\n      margin-bottom: 20px;\r\n\r\n      .btn-group {\r\n        display: flex;\r\n        align-items: center;\r\n\r\n        .el-button + .el-button {\r\n          margin-left: 20px;\r\n        }\r\n      }\r\n    }\r\n\r\n    .seconds-part {\r\n      padding: 28px;\r\n      border-radius: 8px;\r\n      display: flex;\r\n      background: #ffffff;\r\n      border: 1px solid #e4e7ed;\r\n\r\n      .item {\r\n        flex: 1;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: space-between;\r\n        align-items: flex-start;\r\n\r\n        .tips {\r\n          display: flex;\r\n          align-items: center;\r\n          margin-bottom: 20px;\r\n\r\n          h4 {\r\n            font-size: 18px;\r\n            color: #242934;\r\n            font-weight: 600;\r\n            margin-right: 8px;\r\n          }\r\n        }\r\n\r\n        p {\r\n          display: flex;\r\n          align-items: center;\r\n\r\n          span {\r\n            margin-right: 68px;\r\n            font-size: 24px;\r\n            color: #242934;\r\n            font-weight: 500;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .table-container {\r\n    :deep(.el-popper) {\r\n      width: 600px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import script from \"./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=1b905267&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../../node_modules/.pnpm/vue-loader@17.4.2_@vue+compiler-sfc@3.5.13_vue@3.5.13_typescript@5.7.2__webpack@5.97.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1b905267\"]])\n\nexport default __exports__"],"names":["queryInputInvoiceListApi","typeMap","getData","data","http","post","serviceName","baseUpmsRest","handleData","list","arrayHasValue","records","map","item","invoiceStatusInfo","arrayMatchValue","invoiceStatusList","status","id","applyTime","dayjs","format","invoicePrice","toMoney","typeLabel","this","type","statusLabel","label","statusStyle","styleType","remarks","rejectCause","total","queryInvoiceBalanceApi","params","get","agentSystem","queryInputInvoiceDetailApi","invoiceTitle","creditCodes","registerAddress","registerPhone","bank","account","name","email","address","invoiceUrl","addInputInvoiceApi","_hoisted_1","class","_defineComponent","__name","setup","__props","expose","__expose","formMap","visible","shallowRef","form","ref","rowInfo","shallowReactive","async","queryDetail","res","value","e","console","log","show","Object","assign","hide","_ctx","_cache","_component_el_tag","_resolveComponent","_component_el_button","_component_el_form_item","_component_el_form","_component_el_drawer","_openBlock","_createBlock","modelValue","$event","title","size","footer","_withCtx","_createVNode","onClick","default","_createTextVNode","_","_createElementVNode","_createElementBlock","_Fragment","_renderList","key","_toDisplayString","disabled","link","_unref","downLoadFile","__exports__","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","bd_agentId","agentId","LocalStorage","batchGetItem","bd_virCompanyId","virCompanyId","RequestInvoice","defineAsyncComponent","Invoice","ReceiveAddress","detailsDrawerRef","requestInvoiceRef","invoicableBalance","invoiceVisible","receiveAddressVisible","headerConfig","propertyKey","width","pageNumberChange","pageSizeChange","pageData","getList","usePage","listApi","props","pageNumber","pageSize","paramsData","companyId","queryPrice","refresh","setTimeout","_component_el_icon","_component_el_tooltip","_component_el_table_column","_component_TableEmpty","_component_el_table","_component_PagePagination","effect","content","placement","color","QuestionFilled","height","empty","index","prop","row","align","fixed","pageTotal","onEmitPageSizeChange","onEmitPageNumberChange","ref_key","onSuccess","DetailsDrawer"],"sourceRoot":""}