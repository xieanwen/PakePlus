{"version":3,"file":"static/js/8553.8745cffd.js","mappings":"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","sources":["webpack://daili/./src/views/order-management/customer-order/list.vue?20d6","webpack://daili/./src/views/order-management/customer-order/list.vue","webpack://daili/./src/views/order-management/customer-order/list.vue?744d"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"personal-customer main-container\" }\nconst _hoisted_2 = { class: \"form-container\" }\nconst _hoisted_3 = { class: \"form\" }\nconst _hoisted_4 = { class: \"table-container\" }\n\nimport { ref, shallowReactive, defineAsyncComponent } from \"vue\";\r\n\r\nimport { usePage } from \"jz-tool-lib\";\r\nimport { concatList } from \"@assets/common\";\r\nimport { LocalStorage } from \"jz-tool-lib\";\r\nimport { useVueRouter } from \"@assets/useHook\";\r\nimport { customerOrderStatusList } from \"@assets/typeStatus\";\r\n\r\nimport { customerOrderListApi } from \"@api/order-management-api\";\r\n\r\n\r\nconst __default__ = {\r\n  name: \"order-management-customer-order-list\",\r\n};\r\n\nexport default /*@__PURE__*/_defineComponent({\n  ...__default__,\n  ...{\r\n  name: \"orderManagement.customerOrder.list\",\r\n},\n  setup(__props) {\n\r\nconst AdvancedFilterDrawer = defineAsyncComponent(\r\n  () =>\r\n    import(\r\n      \"@components/order-management/customer-order/list/advanced-filter-drawer.vue\"\r\n    )\r\n);\r\nconst OperationRecordsDialog = defineAsyncComponent(\r\n  () =>\r\n    import(\r\n      \"@components/order-management/customer-order/list/operation-records-dialog.vue\"\r\n    )\r\n);\r\n\r\n\r\nconst { goPage } = useVueRouter();\r\nconst { bd_agentId: agentId, bd_userInfo: userInfo } =\r\n  LocalStorage.batchGetItem([\"bd_agentId\", \"bd_userInfo\"]);\r\nconst initData = shallowReactive({\r\n  payStatus: \"\",\r\n  orderInfo: {},\r\n  curOrderIndex: -1,\r\n  curOrderInfo: {},\r\n  editPriceVisible: false,\r\n  advancedFilterVisible: false,\r\n  operationRecordsVisible: false,\r\n});\r\nconst conditionData = ref({});\r\nconst { getList, pageNumberChange, pageSizeChange, pageData, resetPageNumber } =\r\n  usePage({\r\n    notExecute: true,\r\n    listApi: customerOrderListApi,\r\n    props: {\r\n      pageNumber: \"page\",\r\n      pageSize: \"pageSize\",\r\n    },\r\n    searchParams: () => {\r\n      return {\r\n        ...conditionData.value,\r\n        payStatus: initData.payStatus,\r\n        agentUserId: userInfo.profileId,\r\n      };\r\n    },\r\n  });\r\n// tab 点击\r\nconst tabClick = (item) => {\r\n  initData.payStatus = item.value;\r\n  resetPageNumber();\r\n  getList();\r\n};\r\n// 高级筛选回调\r\nconst handleFilter = (value) => {\r\n  conditionData.value = value;\r\n  resetPageNumber();\r\n  getList();\r\n};\r\n// 打开高级筛选抽屉\r\nconst openAdvancedFilter = () => {\r\n  initData.advancedFilterVisible = true;\r\n};\r\n// 打开操作记录弹框\r\nconst openOperationRecords = (row) => {\r\n  initData.orderInfo = row;\r\n  initData.operationRecordsVisible = true;\r\n};\r\n// 创建订单\r\nconst handleCreateOrder = () => {\r\n  goPage(\"/orderManagement/createOrder/companyList\");\r\n};\r\n// 查看详情\r\nconst handleLookDetail = (row) => {\r\n  goPage(`/orderManagement/customerOrder/detail/${row.orderId}`);\r\n};\r\n//解决代客下单，生成订单，从订单详情里面去支付，走预付款，扣款失败,\r\n//接口延迟列表刷新过快问题\r\nsetTimeout(() => {\r\n  getList();\r\n}, 1000);\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_TabList = _resolveComponent(\"TabList\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_table_column = _resolveComponent(\"el-table-column\")!\n  const _component_el_tag = _resolveComponent(\"el-tag\")!\n  const _component_el_link = _resolveComponent(\"el-link\")!\n  const _component_TableEmpty = _resolveComponent(\"TableEmpty\")!\n  const _component_el_table = _resolveComponent(\"el-table\")!\n  const _component_PagePagination = _resolveComponent(\"PagePagination\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(_component_TabList, {\n        onEmitTab: tabClick,\n        list: _unref(concatList)(true, _unref(customerOrderStatusList)),\n        activeIndex: _unref(initData).payStatus\n      }, null, 8, [\"list\", \"activeIndex\"]),\n      _createElementVNode(\"div\", _hoisted_3, [\n        (!['86'].includes(_unref(agentId)))\n          ? (_openBlock(), _createBlock(_component_el_button, {\n              key: 0,\n              type: \"primary\",\n              onClick: handleCreateOrder\n            }, {\n              default: _withCtx(() => _cache[2] || (_cache[2] = [\n                _createTextVNode(\"创建订单 \")\n              ])),\n              _: 1\n            }))\n          : _createCommentVNode(\"\", true),\n        _createVNode(_component_el_button, { onClick: openAdvancedFilter }, {\n          default: _withCtx(() => _cache[3] || (_cache[3] = [\n            _createTextVNode(\"高级筛选\")\n          ])),\n          _: 1\n        })\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_4, [\n      _createVNode(_component_el_table, {\n        data: _unref(pageData).list,\n        height: \"calc(100vh - 270px)\"\n      }, {\n        empty: _withCtx(() => [\n          _createVNode(_component_TableEmpty, { \"empty-text\": \"当前还没有客户订单\" })\n        ]),\n        default: _withCtx(() => [\n          _createVNode(_component_el_table_column, {\n            prop: \"orderNo\",\n            label: \"订单编号\",\n            align: \"center\",\n            width: \"200px\",\n            \"show-overflow-tooltip\": \"\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"companyName\",\n            label: \"企业名称\",\n            align: \"center\",\n            width: \"200px\",\n            \"show-overflow-tooltip\": \"\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"combineServiceName\",\n            label: \"产品名称\",\n            align: \"center\",\n            width: \"200px\",\n            \"show-overflow-tooltip\": \"\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"baseSpecsCode\",\n            label: \"规格\",\n            align: \"center\",\n            width: \"200px\",\n            \"show-overflow-tooltip\": \"\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"createdTime\",\n            label: \"下单时间\",\n            align: \"center\",\n            width: \"200px\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"helpOrderName\",\n            label: \"订单类型\",\n            align: \"center\",\n            width: \"150px\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"total\",\n            label: \"售价\",\n            align: \"center\",\n            width: \"150px\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"couponPrice\",\n            label: \"优惠金额\",\n            align: \"center\",\n            width: \"150px\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"actualPaid\",\n            label: \"实付金额\",\n            align: \"center\",\n            width: \"150px\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"orderStateCdName\",\n            label: \"状态\",\n            align: \"center\",\n            width: \"150px\"\n          }, {\n            default: _withCtx(({ row }) => [\n              _createVNode(_component_el_tag, {\n                type: row.orderStateCdStyleType\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(_toDisplayString(row.orderStateCdName), 1)\n                ]),\n                _: 2\n              }, 1032, [\"type\"])\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"paymethodCdName\",\n            label: \"支付方式\",\n            align: \"center\",\n            width: \"150px\"\n          }),\n          _createVNode(_component_el_table_column, {\n            label: \"操作\",\n            align: \"center\",\n            width: \"120px\",\n            fixed: \"right\"\n          }, {\n            default: _withCtx(({ row }) => [\n              _createVNode(_component_el_link, {\n                underline: false,\n                type: \"primary\",\n                onClick: ($event: any) => (handleLookDetail(row))\n              }, {\n                default: _withCtx(() => _cache[4] || (_cache[4] = [\n                  _createTextVNode(\"订单详情 \")\n                ])),\n                _: 2\n              }, 1032, [\"onClick\"]),\n              _createVNode(_component_el_link, {\n                underline: false,\n                type: \"primary\",\n                onClick: ($event: any) => (openOperationRecords(row))\n              }, {\n                default: _withCtx(() => _cache[5] || (_cache[5] = [\n                  _createTextVNode(\"操作记录 \")\n                ])),\n                _: 2\n              }, 1032, [\"onClick\"])\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 8, [\"data\"]),\n      _createVNode(_component_PagePagination, {\n        pageTotal: _unref(pageData).pageTotal,\n        pageSize: _unref(pageData).pageSize,\n        pageNumber: _unref(pageData).pageNumber,\n        onEmitPageSizeChange: _unref(pageSizeChange),\n        onEmitPageNumberChange: _unref(pageNumberChange)\n      }, null, 8, [\"pageTotal\", \"pageSize\", \"pageNumber\", \"onEmitPageSizeChange\", \"onEmitPageNumberChange\"])\n    ]),\n    _createVNode(_unref(AdvancedFilterDrawer), {\n      visible: _unref(initData).advancedFilterVisible,\n      \"onUpdate:visible\": _cache[0] || (_cache[0] = ($event: any) => ((_unref(initData).advancedFilterVisible) = $event)),\n      onEmitFunc: handleFilter\n    }, null, 8, [\"visible\"]),\n    _createVNode(_unref(OperationRecordsDialog), {\n      visible: _unref(initData).operationRecordsVisible,\n      \"onUpdate:visible\": _cache[1] || (_cache[1] = ($event: any) => ((_unref(initData).operationRecordsVisible) = $event)),\n      orderInfo: _unref(initData).orderInfo\n    }, null, 8, [\"visible\", \"orderInfo\"])\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"personal-customer main-container\">\r\n    <div class=\"form-container\">\r\n      <TabList\r\n        @emitTab=\"tabClick\"\r\n        :list=\"concatList(true, customerOrderStatusList)\"\r\n        :activeIndex=\"initData.payStatus\"\r\n      ></TabList>\r\n      <!--   表单搜索   -->\r\n      <div class=\"form\">\r\n        <template v-if=\"!['86'].includes(agentId)\">\r\n          <el-button type=\"primary\" @click=\"handleCreateOrder\"\r\n            >创建订单\r\n          </el-button>\r\n        </template>\r\n        <el-button @click=\"openAdvancedFilter\">高级筛选</el-button>\r\n      </div>\r\n    </div>\r\n    <div class=\"table-container\">\r\n      <!--   列表   -->\r\n      <el-table :data=\"pageData.list\" height=\"calc(100vh - 270px)\">\r\n        <el-table-column\r\n          prop=\"orderNo\"\r\n          label=\"订单编号\"\r\n          align=\"center\"\r\n          width=\"200px\"\r\n          show-overflow-tooltip\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"companyName\"\r\n          label=\"企业名称\"\r\n          align=\"center\"\r\n          width=\"200px\"\r\n          show-overflow-tooltip\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"combineServiceName\"\r\n          label=\"产品名称\"\r\n          align=\"center\"\r\n          width=\"200px\"\r\n          show-overflow-tooltip\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"baseSpecsCode\"\r\n          label=\"规格\"\r\n          align=\"center\"\r\n          width=\"200px\"\r\n          show-overflow-tooltip\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"createdTime\"\r\n          label=\"下单时间\"\r\n          align=\"center\"\r\n          width=\"200px\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"helpOrderName\"\r\n          label=\"订单类型\"\r\n          align=\"center\"\r\n          width=\"150px\"\r\n        ></el-table-column>\r\n        <el-table-column prop=\"total\" label=\"售价\" align=\"center\" width=\"150px\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"couponPrice\"\r\n          label=\"优惠金额\"\r\n          align=\"center\"\r\n          width=\"150px\"\r\n        >\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"actualPaid\"\r\n          label=\"实付金额\"\r\n          align=\"center\"\r\n          width=\"150px\"\r\n        >\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"orderStateCdName\"\r\n          label=\"状态\"\r\n          align=\"center\"\r\n          width=\"150px\"\r\n        >\r\n          <template #default=\"{ row }\">\r\n            <el-tag :type=\"row.orderStateCdStyleType\"\r\n              >{{ row.orderStateCdName }}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"paymethodCdName\"\r\n          label=\"支付方式\"\r\n          align=\"center\"\r\n          width=\"150px\"\r\n        >\r\n        </el-table-column>\r\n        <el-table-column\r\n          label=\"操作\"\r\n          align=\"center\"\r\n          width=\"120px\"\r\n          fixed=\"right\"\r\n        >\r\n          <template #default=\"{ row }\">\r\n            <el-link\r\n              :underline=\"false\"\r\n              type=\"primary\"\r\n              @click=\"handleLookDetail(row)\"\r\n              >订单详情\r\n            </el-link>\r\n            <el-link\r\n              :underline=\"false\"\r\n              type=\"primary\"\r\n              @click=\"openOperationRecords(row)\"\r\n              >操作记录\r\n            </el-link>\r\n          </template>\r\n        </el-table-column>\r\n        <template #empty>\r\n          <TableEmpty empty-text=\"当前还没有客户订单\"></TableEmpty>\r\n        </template>\r\n      </el-table>\r\n      <!--   分页   -->\r\n      <PagePagination\r\n        :pageTotal=\"pageData.pageTotal\"\r\n        :pageSize=\"pageData.pageSize\"\r\n        :pageNumber=\"pageData.pageNumber\"\r\n        @emitPageSizeChange=\"pageSizeChange\"\r\n        @emitPageNumberChange=\"pageNumberChange\"\r\n      ></PagePagination>\r\n    </div>\r\n    <!-- 高级筛选 -->\r\n    <AdvancedFilterDrawer\r\n      v-model:visible=\"initData.advancedFilterVisible\"\r\n      @emitFunc=\"handleFilter\"\r\n    ></AdvancedFilterDrawer>\r\n    <!--  操作记录  -->\r\n    <OperationRecordsDialog\r\n      v-model:visible=\"initData.operationRecordsVisible\"\r\n      :orderInfo=\"initData.orderInfo\"\r\n    ></OperationRecordsDialog>\r\n  </div>\r\n</template>\r\n<script lang=\"ts\">\r\nexport default {\r\n  name: \"order-management-customer-order-list\",\r\n};\r\n</script>\r\n<script lang=\"ts\" setup>\r\nimport { ref, shallowReactive, defineAsyncComponent } from \"vue\";\r\n\r\nimport { usePage } from \"jz-tool-lib\";\r\nimport { concatList } from \"@assets/common\";\r\nimport { LocalStorage } from \"jz-tool-lib\";\r\nimport { useVueRouter } from \"@assets/useHook\";\r\nimport { customerOrderStatusList } from \"@assets/typeStatus\";\r\n\r\nimport { customerOrderListApi } from \"@api/order-management-api\";\r\n\r\nconst AdvancedFilterDrawer = defineAsyncComponent(\r\n  () =>\r\n    import(\r\n      \"@components/order-management/customer-order/list/advanced-filter-drawer.vue\"\r\n    )\r\n);\r\nconst OperationRecordsDialog = defineAsyncComponent(\r\n  () =>\r\n    import(\r\n      \"@components/order-management/customer-order/list/operation-records-dialog.vue\"\r\n    )\r\n);\r\ndefineOptions({\r\n  name: \"orderManagement.customerOrder.list\",\r\n});\r\n\r\nconst { goPage } = useVueRouter();\r\nconst { bd_agentId: agentId, bd_userInfo: userInfo } =\r\n  LocalStorage.batchGetItem([\"bd_agentId\", \"bd_userInfo\"]);\r\nconst initData = shallowReactive({\r\n  payStatus: \"\",\r\n  orderInfo: {},\r\n  curOrderIndex: -1,\r\n  curOrderInfo: {},\r\n  editPriceVisible: false,\r\n  advancedFilterVisible: false,\r\n  operationRecordsVisible: false,\r\n});\r\nconst conditionData = ref({});\r\nconst { getList, pageNumberChange, pageSizeChange, pageData, resetPageNumber } =\r\n  usePage({\r\n    notExecute: true,\r\n    listApi: customerOrderListApi,\r\n    props: {\r\n      pageNumber: \"page\",\r\n      pageSize: \"pageSize\",\r\n    },\r\n    searchParams: () => {\r\n      return {\r\n        ...conditionData.value,\r\n        payStatus: initData.payStatus,\r\n        agentUserId: userInfo.profileId,\r\n      };\r\n    },\r\n  });\r\n// tab 点击\r\nconst tabClick = (item) => {\r\n  initData.payStatus = item.value;\r\n  resetPageNumber();\r\n  getList();\r\n};\r\n// 高级筛选回调\r\nconst handleFilter = (value) => {\r\n  conditionData.value = value;\r\n  resetPageNumber();\r\n  getList();\r\n};\r\n// 打开高级筛选抽屉\r\nconst openAdvancedFilter = () => {\r\n  initData.advancedFilterVisible = true;\r\n};\r\n// 打开操作记录弹框\r\nconst openOperationRecords = (row) => {\r\n  initData.orderInfo = row;\r\n  initData.operationRecordsVisible = true;\r\n};\r\n// 创建订单\r\nconst handleCreateOrder = () => {\r\n  goPage(\"/orderManagement/createOrder/companyList\");\r\n};\r\n// 查看详情\r\nconst handleLookDetail = (row) => {\r\n  goPage(`/orderManagement/customerOrder/detail/${row.orderId}`);\r\n};\r\n//解决代客下单，生成订单，从订单详情里面去支付，走预付款，扣款失败,\r\n//接口延迟列表刷新过快问题\r\nsetTimeout(() => {\r\n  getList();\r\n}, 1000);\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.form-container {\r\n  :deep(.el-input) {\r\n    width: 240px;\r\n  }\r\n}\r\n\r\n.table-container {\r\n  .edit-price {\r\n    cursor: pointer;\r\n\r\n    .el-input__icon.el-icon {\r\n      display: initial;\r\n      margin-left: 5px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import script from \"./list.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./list.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./list.vue?vue&type=style&index=0&id=333a31b4&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/.pnpm/vue-loader@17.4.2_@vue+compiler-sfc@3.5.13_vue@3.5.13_typescript@5.7.2__webpack@5.97.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-333a31b4\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","__default__","name","_defineComponent","setup","__props","AdvancedFilterDrawer","defineAsyncComponent","OperationRecordsDialog","goPage","useVueRouter","bd_agentId","agentId","bd_userInfo","userInfo","LocalStorage","batchGetItem","initData","shallowReactive","payStatus","orderInfo","curOrderIndex","curOrderInfo","editPriceVisible","advancedFilterVisible","operationRecordsVisible","conditionData","ref","getList","pageNumberChange","pageSizeChange","pageData","resetPageNumber","usePage","notExecute","listApi","customerOrderListApi","props","pageNumber","pageSize","searchParams","value","agentUserId","profileId","tabClick","item","handleFilter","openAdvancedFilter","openOperationRecords","row","handleCreateOrder","handleLookDetail","orderId","setTimeout","_ctx","_cache","_component_TabList","_resolveComponent","_component_el_button","_component_el_table_column","_component_el_tag","_component_el_link","_component_TableEmpty","_component_el_table","_component_PagePagination","_openBlock","_createElementBlock","_createElementVNode","_createVNode","onEmitTab","list","_unref","concatList","customerOrderStatusList","activeIndex","includes","_createCommentVNode","_createBlock","key","type","onClick","default","_withCtx","_createTextVNode","_","data","height","empty","prop","label","align","width","orderStateCdStyleType","_toDisplayString","orderStateCdName","fixed","underline","$event","pageTotal","onEmitPageSizeChange","onEmitPageNumberChange","visible","onEmitFunc","__exports__"],"sourceRoot":""}