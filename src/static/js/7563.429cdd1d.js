"use strict";(self["webpackChunkdaili"]=self["webpackChunkdaili"]||[]).push([[7563],{57563:function(e,r,c){c.r(r),c.d(r,{default:function(){return v}});var i=c(6254),o=c(25598),a=c(59259),l=c(95239);const u={class:"body-container"},t={class:"button-group"};var n=(0,i.pM)({__name:"edit-price-dialog",emits:["emitFunc"],setup(e,{expose:r,emit:c}){const n=c,d=(0,o.KR)(),s=(0,o.Gc)({visible:!1,orderNo:"",proxyPrice:0,voucherPrice:0,voucherOrder:0}),v=(0,o.Gc)({changePrice:0}),g=(e,r,c)=>{if(!r)return c(new Error("请输入价格"));if(1===s.voucherOrder){if(Number(r)>s.voucherPrice)return c(new Error("修改金额不能大于现金券使用金额！"));c()}else{if(Number(r)<v.changePrice)return c(new Error("修改金额不可小于代理金额"));c()}},h={changePrice:[{validator:g,trigger:"blur"}]},m=()=>{d.value.validate((e=>{if(!e)return!1;{const e={orderNo:s.orderNo,actualPrice:v.changePrice};l.fz.getData(e).then((()=>{(0,a.nk)({message:"修改成功",type:"success"}),n("emitFunc"),f()}))}}))},f=()=>{d.value.clearValidate(),s.visible=!1,v.changePrice=0},p=(e,r)=>{s.visible=e;const{orderNo:c,actualPaid:i,voucherOrder:o,voucherPrice:a}=r;s.orderNo=c,s.proxyPrice=i,v.changePrice=i,s.voucherOrder=o,s.voucherPrice=a};return r({trigger:p}),(e,r)=>{const c=(0,i.g2)("el-input-number"),a=(0,i.g2)("el-form-item"),l=(0,i.g2)("el-form"),n=(0,i.g2)("el-button"),g=(0,i.g2)("el-dialog");return(0,i.uX)(),(0,i.Wv)(g,{class:"custom-dialog",width:"450px",title:"编辑价格","model-value":(0,o.R1)(s).visible,onClose:f},{default:(0,i.k6)((()=>[(0,i.Lk)("div",u,[(0,i.bF)(l,{ref_key:"rulesForm",ref:d,model:(0,o.R1)(v),rules:h},{default:(0,i.k6)((()=>[(0,i.bF)(a,{prop:"changePrice",label:"价格"},{default:(0,i.k6)((()=>[(0,i.bF)(c,{modelValue:(0,o.R1)(v).changePrice,"onUpdate:modelValue":r[0]||(r[0]=e=>(0,o.R1)(v).changePrice=e),precision:3,min:1===(0,o.R1)(s).voucherOrder?(0,o.R1)(s).voucherPrice:(0,o.R1)(s).proxyPrice},null,8,["modelValue","min"])])),_:1})])),_:1},8,["model"]),(0,i.Lk)("div",t,[(0,i.bF)(n,{onClick:f},{default:(0,i.k6)((()=>r[1]||(r[1]=[(0,i.eW)("取消")]))),_:1}),(0,i.bF)(n,{type:"primary",color:"#0056ff",onClick:m},{default:(0,i.k6)((()=>r[2]||(r[2]=[(0,i.eW)("确定 ")]))),_:1})])])])),_:1},8,["model-value"])}}}),d=c(83936);const s=(0,d.A)(n,[["__scopeId","data-v-7a1ab958"]]);var v=s}}]);
//# sourceMappingURL=7563.429cdd1d.js.map