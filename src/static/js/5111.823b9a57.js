"use strict";(self["webpackChunkdaili"]=self["webpackChunkdaili"]||[]).push([[5111],{97492:function(e,a,l){l.r(a),l.d(a,{default:function(){return P}});var n=l(6254),t=l(38627),o=l(25598),d=l(10901),u=l(88365),r=l(79689),s=(l(83238),l(59259));const c={class:"body-container"},i={class:"dialog-footer"};var p=(0,n.pM)({__name:"editor-basic-information-dialog",props:{visible:{type:Boolean},companyInfo:{}},emits:["update:visible","emitFunc"],setup(e,{emit:a}){const{routeQuery:u}=(0,d.dG)(),p=(0,o.KR)(),m=a,k=e,f=(0,o.Gc)({contactPerson:"",contactPhone:"",addrDesc:"",industryId:[],areaCode:"",certificationStatusStr:""}),b=(0,n.$V)((()=>Promise.all([l.e(2076),l.e(9481)]).then(l.bind(l,61862)))),v=(0,n.$V)((()=>l.e(197).then(l.bind(l,80197)))),y={contactPhone:[{required:!1,pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号",trigger:"blur"}],contactPerson:[{required:!1,max:10,message:"联系人姓名最多输入10个字符",trigger:"blur"}]},_=()=>{var e;null===(e=p.value)||void 0===e||e.validate((e=>{if(!e)return console.log("表单验证失败"),!1;{const e=Array.isArray(f.industryId)&&f.industryId.length>0?f.industryId.join(","):"",a=Array.isArray(f.areaCode)?f.areaCode:[f.areaCode],l=a.length>0?a[a.length-1]:"",n={companyId:u.value.companyId,contactPerson:f.contactPerson,contactPhone:f.contactPhone,industryId:e,areaCode:l,addrDesc:f.addrDesc};r.fi.getData(n).then((e=>{0===e.statusCode?(s.nk.success("编辑成功"),m("emitFunc"),F()):s.nk.error("编辑失败！")}))}}))},F=()=>{m("update:visible",!1),f.contactPerson="",f.contactPhone="",f.addrDesc=""};return(0,n.wB)((()=>k.visible),(e=>{e&&(f.industryId=(k.companyInfo.industrId||"").split(",").map((e=>e.trim())),f.areaCode=k.companyInfo.areaCode,f.contactPerson=k.companyInfo.contactPerson,f.contactPhone=k.companyInfo.contactPhone,f.addrDesc=k.companyInfo.addrDesc,f.certificationStatusStr=k.companyInfo.certificationStatusStr)})),(e,a)=>{const l=(0,n.g2)("el-form-item"),d=(0,n.g2)("el-col"),u=(0,n.g2)("el-row"),r=(0,n.g2)("el-input"),s=(0,n.g2)("el-form"),m=(0,n.g2)("el-button"),k=(0,n.g2)("el-dialog");return(0,n.uX)(),(0,n.Wv)(k,{width:"750px",title:"基础信息",class:"custom-dialog","model-value":e.visible,onClose:F},{footer:(0,n.k6)((()=>[(0,n.Lk)("div",i,[(0,n.bF)(m,{onClick:F},{default:(0,n.k6)((()=>a[5]||(a[5]=[(0,n.eW)("取 消")]))),_:1}),(0,n.bF)(m,{type:"primary",onClick:_},{default:(0,n.k6)((()=>a[6]||(a[6]=[(0,n.eW)("保 存")]))),_:1})])])),default:(0,n.k6)((()=>[(0,n.Lk)("div",c,[(0,n.bF)(s,{ref_key:"ruleFormRef",ref:p,model:(0,o.R1)(f),rules:y},{default:(0,n.k6)((()=>[(0,n.bF)(u,null,{default:(0,n.k6)((()=>[(0,n.bF)(d,{span:12},{default:(0,n.k6)((()=>[(0,n.bF)(l,{label:"客户名称"},{default:(0,n.k6)((()=>[(0,n.eW)((0,t.v_)(e.companyInfo.companyName),1)])),_:1})])),_:1}),(0,n.bF)(d,{span:12},{default:(0,n.k6)((()=>[(0,n.bF)(l,{label:"创建人账号"},{default:(0,n.k6)((()=>[(0,n.eW)((0,t.v_)(e.companyInfo.createdByAccount),1)])),_:1})])),_:1})])),_:1}),(0,n.bF)(u,null,{default:(0,n.k6)((()=>[(0,n.bF)(d,{span:12},{default:(0,n.k6)((()=>[(0,n.bF)(l,{label:"创建人姓名"},{default:(0,n.k6)((()=>[(0,n.eW)((0,t.v_)(e.companyInfo.createdByName),1)])),_:1})])),_:1}),(0,n.bF)(d,{span:12},{default:(0,n.k6)((()=>[(0,n.bF)(l,{label:"认证状态"},{default:(0,n.k6)((()=>[(0,n.eW)((0,t.v_)(e.companyInfo.certificationStatusStr),1)])),_:1})])),_:1})])),_:1}),(0,n.bF)(u,null,{default:(0,n.k6)((()=>[(0,n.bF)(d,{span:12},{default:(0,n.k6)((()=>[(0,n.bF)(l,{label:"联系人姓名",prop:"contactPerson"},{default:(0,n.k6)((()=>[(0,n.bF)(r,{modelValue:(0,o.R1)(f).contactPerson,"onUpdate:modelValue":a[0]||(a[0]=e=>(0,o.R1)(f).contactPerson=e),class:"box-input",clearable:"",placeholder:"请输入"},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.bF)(d,{span:12},{default:(0,n.k6)((()=>[(0,n.bF)(l,{label:"联系方式",prop:"contactPhone"},{default:(0,n.k6)((()=>[(0,n.bF)(r,{modelValue:(0,o.R1)(f).contactPhone,"onUpdate:modelValue":a[1]||(a[1]=e=>(0,o.R1)(f).contactPhone=e),class:"box-input",clearable:"",placeholder:"请输入"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,n.bF)(u,null,{default:(0,n.k6)((()=>[(0,n.bF)(d,{span:12},{default:(0,n.k6)((()=>[(0,n.bF)(l,{label:"所属行业"},{default:(0,n.k6)((()=>[(0,n.bF)((0,o.R1)(b),{style:{width:"200px"},modelValue:(0,o.R1)(f).industryId,"onUpdate:modelValue":a[2]||(a[2]=e=>(0,o.R1)(f).industryId=e),emitPath:!0},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.bF)(d,{span:12},{default:(0,n.k6)((()=>[(0,n.bF)(l,{label:"所属地区"},{default:(0,n.k6)((()=>[(0,n.bF)((0,o.R1)(v),{modelValue:(0,o.R1)(f).areaCode,"onUpdate:modelValue":a[3]||(a[3]=e=>(0,o.R1)(f).areaCode=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,n.bF)(l,{label:"详情地址"},{default:(0,n.k6)((()=>[(0,n.bF)(r,{modelValue:(0,o.R1)(f).addrDesc,"onUpdate:modelValue":a[4]||(a[4]=e=>(0,o.R1)(f).addrDesc=e),maxlength:"100",class:"box-textarea",placeholder:"请输入","show-word-limit":"",rows:4,type:"textarea"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])])),_:1},8,["model-value"])}}}),m=l(83936);const k=(0,m.A)(p,[["__scopeId","data-v-4e6d2604"]]);var f=k;const b={class:"company-info"},v={class:"name"},y={class:"info"},_={class:"word-ellipsis"},F={key:1},I={class:"word-ellipsis"},h={key:1};var L=(0,n.pM)({__name:"company-info",setup(e){const{routeQuery:a}=(0,d.dG)(),l=u.DT.getItem("bd_userInfo"),s=(0,o.IJ)({}),c=(0,o.Kh)({editorVisible:!1,fullAddress:""}),i=async()=>{try{const e={parentId:l.profileId,companyId:a.value.companyId},{data:n}=await r.gl.getData(e);s.value=r.gl.handleData(n)}catch(e){console.log(e)}};i();const p=()=>{c.editorVisible=!0};return(e,a)=>{const l=(0,n.g2)("el-button"),o=(0,n.g2)("el-tooltip");return(0,n.uX)(),(0,n.CE)("div",b,[(0,n.Lk)("div",v,[a[2]||(a[2]=(0,n.Lk)("h6",null,"基础信息",-1)),(0,n.bF)(l,{type:"primary",link:"",onClick:p},{default:(0,n.k6)((()=>a[1]||(a[1]=[(0,n.eW)("编辑")]))),_:1})]),(0,n.Lk)("div",y,[(0,n.Lk)("p",null,[a[3]||(a[3]=(0,n.Lk)("span",null,"公司名称",-1)),(0,n.Lk)("span",null,(0,t.v_)(s.value.companyNameStr),1)]),(0,n.Lk)("p",null,[a[4]||(a[4]=(0,n.Lk)("span",null,"创建人",-1)),(0,n.Lk)("span",null,(0,t.v_)(s.value.createdByName),1)]),(0,n.Lk)("p",null,[a[5]||(a[5]=(0,n.Lk)("span",null,"手机号",-1)),(0,n.Lk)("span",null,(0,t.v_)(s.value.createdByAccount),1)]),(0,n.Lk)("p",null,[a[6]||(a[6]=(0,n.Lk)("span",null,"认证状态",-1)),(0,n.Lk)("span",null,(0,t.v_)(s.value.certificationStatusStr),1)]),(0,n.Lk)("p",null,[a[7]||(a[7]=(0,n.Lk)("span",null,"联系人",-1)),(0,n.Lk)("span",null,(0,t.v_)(s.value.contactPersonStr),1)]),(0,n.Lk)("p",null,[a[8]||(a[8]=(0,n.Lk)("span",null,"联系方式",-1)),(0,n.Lk)("span",null,(0,t.v_)(s.value.contactPhoneStr),1)]),(0,n.Lk)("p",null,[a[9]||(a[9]=(0,n.Lk)("span",null,"所属行业",-1)),s.value.industryName?((0,n.uX)(),(0,n.Wv)(o,{key:0,content:s.value.industryNameStr,placement:"top-start"},{default:(0,n.k6)((()=>[(0,n.Lk)("span",_,(0,t.v_)(s.value.industryNameStr),1)])),_:1},8,["content"])):((0,n.uX)(),(0,n.CE)("span",F,(0,t.v_)(s.value.industryNameStr),1))]),(0,n.Lk)("p",null,[a[10]||(a[10]=(0,n.Lk)("span",null,"公司地区",-1)),(0,n.Lk)("span",null,(0,t.v_)(s.value.companyAddress),1)]),(0,n.Lk)("p",null,[a[11]||(a[11]=(0,n.Lk)("span",null,"详细地址",-1)),s.value.addrDesc?((0,n.uX)(),(0,n.Wv)(o,{key:0,content:s.value.addrDescStr,placement:"top-start"},{default:(0,n.k6)((()=>[(0,n.Lk)("span",I,(0,t.v_)(s.value.addrDescStr),1)])),_:1},8,["content"])):((0,n.uX)(),(0,n.CE)("span",h,(0,t.v_)(s.value.addrDescStr),1))])]),(0,n.bF)(f,{visible:c.editorVisible,"onUpdate:visible":a[0]||(a[0]=e=>c.editorVisible=e),companyInfo:s.value,onEmitFunc:i},null,8,["visible","companyInfo"])])}}});const g=(0,m.A)(L,[["__scopeId","data-v-75fefd90"]]);var P=g}}]);
//# sourceMappingURL=5111.823b9a57.js.map