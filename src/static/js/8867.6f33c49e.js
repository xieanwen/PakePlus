"use strict";(self["webpackChunkdaili"]=self["webpackChunkdaili"]||[]).push([[8867],{28867:function(e,a,t){t.r(a),t.d(a,{default:function(){return h}});var n=t(6254),l=t(25598),i=t(55533),o=t(38627),p=t(6934),r=t(59259),u=t(88365),c=t(35287),s=t(49211);const g={class:"business-management"},d={class:"form-container"},m={class:"form"},b={class:"table-container"};var y=(0,n.pM)({__name:"index",setup(e){const a=(0,n.$V)((()=>Promise.all([t.e(2076),t.e(8196)]).then(t.bind(t,8196)))),y=(0,n.$V)((()=>Promise.all([t.e(2076),t.e(5700)]).then(t.bind(t,16088)))),f=s.ML.slice(0,3);f.unshift({label:"全部",value:"",styleType:""});const k=u.DT.getItem("bd_virCompanyId"),{bd_userInfo:h,bd_agentInfo:v}=u.DT.batchGetItem(["bd_userInfo","bd_agentInfo"]),C=(0,l.KR)(),_=(0,l.KR)(),F=(0,l.Gc)({active:""}),R=(0,l.Gc)({status:"",applyName:"",companyId:k,agentUserId:v.userId}),{getList:I,pageNumberChange:N,pageSizeChange:T,pageData:E}=(0,u.N5)({listApi:c.X,props:{pageNumber:"pageNo",pageSize:"pageSize"},paramsData:R});function S(){C.value.trigger(!0)}function w(e){var a;console.log(e);const t={...e.info,companyId:e.info.companyId,businessType:Number(e.info.businessType),subCompanyCode:e.info.companyCode};null===(a=_.value)||void 0===a||a.toggle(e.type,!0,t)}function x(e){p.s.confirm("是否删除当前模板","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{await c.h_.getData({id:e.id,profileId:h.profileId}),(0,r.nk)({type:"success",message:"删除成功"}),await I()})).catch((()=>{}))}const z=e=>{F.active=e.value,R.status=e.value,I()};return(e,t)=>{const p=(0,n.g2)("TabList"),r=(0,n.g2)("el-input"),u=(0,n.g2)("el-button"),c=(0,n.g2)("el-table-column"),s=(0,n.g2)("el-tag"),k=(0,n.g2)("el-link"),h=(0,n.g2)("TableEmpty"),v=(0,n.g2)("el-table"),P=(0,n.g2)("PagePagination");return(0,n.uX)(),(0,n.CE)("div",g,[(0,n.Lk)("div",d,[(0,n.bF)(p,{list:(0,l.R1)(f),activeIndex:(0,l.R1)(F).active,onEmitTab:z},null,8,["list","activeIndex"]),(0,n.Lk)("div",m,[(0,n.bF)(r,{modelValue:(0,l.R1)(R).applyName,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,l.R1)(R).applyName=e),placeholder:"请输入公司名称",onKeyup:(0,i.jR)((0,l.R1)(I),["enter"]),clearable:""},null,8,["modelValue","onKeyup"]),(0,n.bF)(u,{type:"primary",onClick:(0,l.R1)(I)},{default:(0,n.k6)((()=>t[1]||(t[1]=[(0,n.eW)("搜索")]))),_:1},8,["onClick"]),(0,n.bF)(u,{type:"primary",onClick:S},{default:(0,n.k6)((()=>t[2]||(t[2]=[(0,n.eW)("新增话术报备 ")]))),_:1})])]),(0,n.Lk)("div",b,[(0,n.bF)(v,{data:(0,l.R1)(E).list,height:"calc(100vh - 268px)"},{empty:(0,n.k6)((()=>[(0,n.bF)(h,{"empty-text":"暂无数据"})])),default:(0,n.k6)((()=>[(0,n.bF)(c,{prop:"applyName",label:"企业名称",align:"center"}),(0,n.bF)(c,{prop:"status",label:"审核状态",width:"200px",align:"center"},{default:(0,n.k6)((({row:e})=>[(0,n.bF)(s,{type:e.statusStyleType},{default:(0,n.k6)((()=>[(0,n.eW)((0,o.v_)(e.statusName),1)])),_:2},1032,["type"])])),_:1}),(0,n.bF)(c,{prop:"createByName",label:"创建人",align:"center"}),(0,n.bF)(c,{prop:"createdTime",label:"创建时间",align:"center"}),(0,n.bF)(c,{label:"操作",align:"center",fixed:"right",width:"150","class-name":"operation-group"},{default:(0,n.k6)((({row:e})=>[(0,n.bF)(k,{type:"primary",underline:!1,onClick:a=>w({type:"edit",info:e})},{default:(0,n.k6)((()=>t[3]||(t[3]=[(0,n.eW)("编辑 ")]))),_:2},1032,["onClick"]),(0,n.bF)(k,{type:"primary",underline:!1,onClick:a=>x(e)},{default:(0,n.k6)((()=>t[4]||(t[4]=[(0,n.eW)("删除 ")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),(0,n.bF)(P,{pageTotal:(0,l.R1)(E).pageTotal,pageSize:(0,l.R1)(E).pageSize,pageNumber:(0,l.R1)(E).pageNumber,onEmitPageSizeChange:(0,l.R1)(T),onEmitPageNumberChange:(0,l.R1)(N)},null,8,["pageTotal","pageSize","pageNumber","onEmitPageSizeChange","onEmitPageNumberChange"])]),(0,n.bF)((0,l.R1)(a),{ref_key:"selectCompanyRef",ref:C,onEmitFunc:w},null,512),(0,n.bF)((0,l.R1)(y),{ref_key:"addEditSpeechLibraryRef",ref:_,onEmitFunc:(0,l.R1)(I)},null,8,["onEmitFunc"])])}}}),f=t(83936);const k=(0,f.A)(y,[["__scopeId","data-v-62e84707"]]);var h=k}}]);
//# sourceMappingURL=8867.6f33c49e.js.map