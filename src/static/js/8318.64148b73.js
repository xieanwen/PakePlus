"use strict";(self["webpackChunkdaili"]=self["webpackChunkdaili"]||[]).push([[8318],{78318:function(e,n,o){o.r(n),o.d(n,{default:function(){return g}});var a=o(6254),t=o(38627),i=o(25598),r=o(91373),l=o(616),d=o(10901),s=o(88365),u=o(1683),c=o(35287);const p={class:"report-detail"},f={class:"header-info"},m={class:"title"},I={class:"button-group"};var b=(0,a.pM)({name:"businessManagement.ospreyCloudCall.report.detail",__name:"detail",setup(e){const n=(0,a.$V)((()=>o.e(4476).then(o.bind(o,4476)))),b=(0,a.$V)((()=>o.e(2826).then(o.bind(o,52826)))),h=(0,a.$V)((()=>Promise.all([o.e(1549),o.e(4076)]).then(o.bind(o,29236)))),v=(0,a.$V)((()=>o.e(4305).then(o.bind(o,24305)))),{bd_userInfo:g}=s.DT.batchGetItem(["bd_userInfo"]),{routeQuery:k}=(0,d.dG)(),R=(0,i.KR)(),w=(0,i.KR)([]),L=(0,i.Kh)({baseInfo:{},otherInfo:{},stubReportFileId:"",empowerPromiseLink:"",stubReportLoading:!1,reportInfoLoading:!1});function y({title:e,imgList:n,index:o}){R.value.trigger(!0,e,n,o)}function F(){Promise.all([_()]).then((e=>{w.value=e[0],P()}))}const _=async()=>{const{data:e}=await c.Bu.getData();return c.Bu.handleData(e)};async function P(){const e={id:k.value.id,companyId:k.value.companyId},{data:n}=await c._1.getData(e),{baseInfo:o,empowerPromiseLink:a,stubReportFileId:t,otherInfo:i}=c._1.handleData(n,w.value);L.baseInfo=o,L.stubReportFileId=t,L.empowerPromiseLink=a,L.otherInfo=i}function C(){const e={api:`${l.fe.callRest}/reported/downloadReportedInfo`,method:"post",formData:{companyId:k.value.companyId,companyName:k.value.companyName,profileId:g.profileId,reportedId:k.value.id}};(0,u.PE)(e)}return F(),(e,o)=>{var l;const d=(0,a.g2)("el-button"),s=(0,a.g2)("CustomPreviewImage");return(0,a.uX)(),(0,a.CE)("div",p,[(0,a.Lk)("div",f,[(0,a.Lk)("h4",m,(0,t.v_)(null===(l=L.baseInfo.enterpriseInfo)||void 0===l?void 0:l.companyName),1),(0,a.Lk)("div",I,[(0,a.bF)(d,{"loading-icon":(0,i.R1)(r.Rhj),loading:L.reportInfoLoading,onClick:C},{default:(0,a.k6)((()=>o[0]||(o[0]=[(0,a.eW)("下载报备资料")]))),_:1},8,["loading-icon","loading"])])]),(0,a.bF)((0,i.R1)(n),{baseInfo:L.baseInfo,onEmitFunc:y},null,8,["baseInfo"]),(0,a.bF)((0,i.R1)(b),{otherInfo:L.otherInfo,onEmitFunc:y},null,8,["otherInfo"]),(0,a.bF)((0,i.R1)(h),{empowerPromiseLink:L.empowerPromiseLink,onEmitFunc:y},null,8,["empowerPromiseLink"]),(0,a.bF)((0,i.R1)(v)),(0,a.bF)(s,{ref_key:"previewImageRef",ref:R},null,512)])}}}),h=o(83936);const v=(0,h.A)(b,[["__scopeId","data-v-1401b82a"]]);var g=v}}]);
//# sourceMappingURL=8318.64148b73.js.map