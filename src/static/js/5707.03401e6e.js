"use strict";(self["webpackChunkdaili"]=self["webpackChunkdaili"]||[]).push([[5707],{25707:function(e,a,l){l.r(a),l.d(a,{default:function(){return h}});var t=l(6254),n=l(25598),o=l(38627),c=l(88365),r=(l(83238),l(84153)),p=l(616);const i={1:"手动入账",2:"手动出账",3:"套餐费用",4:"坐席费用",5:"小号月租",6:"中间号月租",7:"套餐外话费",8:"套餐退款"},d={getData:e=>r.A.get(`${p.fe.agentSystem}/ecSubTransaction/pageEcSubTransaction`,{params:e}),handleData:function(e){return{list:(0,c.TC)(null===e||void 0===e?void 0:e.records)?e.records.map((e=>({companyCode:e.companyCode,companyName:e.companyName,amount:e.amount,balance:e.balance,tradeType:1===e.tradeType?"收入":"支出",tradeSource:i[e.tradeSource]||"未知来源",createdTime:dayjs(e.createdTime).format("YYYY-MM-DD HH:mm:ss")}))):[],total:parseInt(e.total)}}};var u=l(91373);const m={class:"customer-content"},b={class:"table-container"},g={class:"question-content"},s={class:"content"};var C=(0,t.pM)({__name:"index",setup(e){const a=c.DT.getItem("bd_agentId"),l=(0,n.Gc)({name:"",code:"",describe:["1、手动入账：EC代理商为客户充值的资金记录；","2、手动出账：EC代理商扣除客户资金的操作记录；","3、套餐费用：代理商为客户添加EC坐席时，需要支付套餐费用 = 套餐分钟数 * 套餐内分钟数价格","4、坐席费用：代理商为客户添加EC坐席时，需要支付的坐席费用，为0时不生成","5、小号月租：代理商为客户添加EC坐席时，需要支付的月租费用，根据坐席数匹配计算，收取多少坐席费用；","6、中间号月租：代理商为客户添加EC坐席时，需要支付的月租费用，根据坐席数匹配计算，收取多少坐席费用；","7、套餐外话费:客户消耗套餐外时长时需要按照套餐外计费标准收取话费，每一个小时生成一次账单（实时扣除每小时生成一次账单）；"]}),{getList:r,pageNumberChange:p,pageSizeChange:i,pageData:C}=(0,c.N5)({listApi:d,props:{pageNumber:"pageNo",pageSize:"pageSize"},searchParams(){return{agencyId:a,companyName:l.name,companyCode:l.code}}});return(e,a)=>{const c=(0,t.g2)("el-input"),d=(0,t.g2)("el-form-item"),k=(0,t.g2)("el-button"),F=(0,t.g2)("el-form"),h=(0,t.g2)("el-table-column"),y=(0,t.g2)("el-icon"),f=(0,t.g2)("el-tooltip"),E=(0,t.g2)("TableEmpty"),_=(0,t.g2)("el-table"),v=(0,t.g2)("PagePagination");return(0,t.uX)(),(0,t.CE)("div",m,[(0,t.bF)(F,{inline:"",class:"form"},{default:(0,t.k6)((()=>[(0,t.bF)(d,{label:"企业名称"},{default:(0,t.k6)((()=>[(0,t.bF)(c,{modelValue:(0,n.R1)(l).name,"onUpdate:modelValue":a[0]||(a[0]=e=>(0,n.R1)(l).name=e),placeholder:"请输入名称",class:"input-name",clearable:""},null,8,["modelValue"])])),_:1}),(0,t.bF)(d,{label:"企业代码"},{default:(0,t.k6)((()=>[(0,t.bF)(c,{modelValue:(0,n.R1)(l).code,"onUpdate:modelValue":a[1]||(a[1]=e=>(0,n.R1)(l).code=e),placeholder:"请输入名称",class:"input-name",clearable:""},null,8,["modelValue"])])),_:1}),(0,t.bF)(d,null,{default:(0,t.k6)((()=>[(0,t.bF)(k,{type:"primary",onClick:(0,n.R1)(r)},{default:(0,t.k6)((()=>a[2]||(a[2]=[(0,t.eW)("搜索")]))),_:1},8,["onClick"])])),_:1})])),_:1}),(0,t.Lk)("div",b,[(0,t.bF)(_,{data:(0,n.R1)(C).list,height:"calc(100vh - 282px)"},{empty:(0,t.k6)((()=>[(0,t.bF)(E,{"empty-text":"暂无明细"})])),default:(0,t.k6)((()=>[(0,t.bF)(h,{prop:"companyName",label:"企业名称",align:"center"}),(0,t.bF)(h,{prop:"companyCode",label:"企业代码",align:"center"}),(0,t.bF)(h,{prop:"amount",label:"金额 （元）",align:"center"}),(0,t.bF)(h,{prop:"balance",label:"余额（元）",align:"center"}),(0,t.bF)(h,{prop:"tradeType",label:"类型",align:"center"}),(0,t.bF)(h,{prop:"tradeSource",label:"来源",align:"center",width:"150px"},{header:(0,t.k6)((()=>[(0,t.Lk)("div",g,[a[5]||(a[5]=(0,t.Lk)("span",null,"来源",-1)),(0,t.bF)(f,{placement:"top"},{content:(0,t.k6)((()=>[(0,t.Lk)("div",s,[a[3]||(a[3]=(0,t.Lk)("h4",null,"说明",-1)),a[4]||(a[4]=(0,t.Lk)("span",null,"类型明细",-1)),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)((0,n.R1)(l).describe,((e,a)=>((0,t.uX)(),(0,t.CE)("div",{key:a},(0,o.v_)(e),1)))),128))])])),default:(0,t.k6)((()=>[(0,t.bF)(y,{size:16,color:"#b1b3b8",class:"question"},{default:(0,t.k6)((()=>[(0,t.bF)((0,n.R1)(u.lOC))])),_:1})])),_:1})])])),_:1}),(0,t.bF)(h,{prop:"createdTime",label:"交易时间",align:"center",width:"300px"})])),_:1},8,["data"]),(0,t.bF)(v,{pageTotal:(0,n.R1)(C).pageTotal,pageSize:(0,n.R1)(C).pageSize,pageNumber:(0,n.R1)(C).pageNumber,onEmitPageSizeChange:(0,n.R1)(i),onEmitPageNumberChange:(0,n.R1)(p)},null,8,["pageTotal","pageSize","pageNumber","onEmitPageSizeChange","onEmitPageNumberChange"])])])}}}),k=l(83936);const F=(0,k.A)(C,[["__scopeId","data-v-22583ba8"]]);var h=F}}]);
//# sourceMappingURL=5707.03401e6e.js.map