{"version":3,"file":"static/js/3311.f5d206ff.js","mappings":"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","sources":["webpack://daili/./src/api/financial-center/agency-price/index.ts","webpack://daili/./src/views/financial-center/agency-price/resource-proxy-price/index.vue?0ca5","webpack://daili/./src/views/financial-center/agency-price/resource-proxy-price/index.vue","webpack://daili/./src/views/financial-center/agency-price/resource-proxy-price/index.vue?428c"],"sourcesContent":["// 代理价格\r\nimport http from \"@assets/http\";\r\nimport { serviceName } from \"@assets/common\";\r\nimport { arrayHasValue, arrayMatchValue, toMoney } from \"jz-tool-lib\";\r\n\r\nexport const getChannelProxyPriceApi = {\r\n  getData: () => {\r\n    return http.get(\r\n        `${serviceName.agentSystem}/product/getChannelProxyPrice`,\r\n        {}\r\n    );\r\n  },\r\n  handleData(data) {\r\n    const {\r\n      agentChannelProxyPriceList: list,\r\n      agentCodeMinutes,\r\n      agencyLevel,\r\n    } = data;\r\n\r\n    return {\r\n      list: arrayHasValue(list)\r\n          ? list.map((item) => {\r\n            if (item.unitFlag === 1) {\r\n              item.formName = `${item.formName}（元/分钟）`;\r\n            } else if (item.unitFlag === 2) {\r\n              item.formName = `${item.formName}（元/月/个）`;\r\n            }\r\n            return {\r\n              ...item,\r\n            };\r\n          })\r\n          : [],\r\n      agentCodeMinutes,\r\n      agencyLevel,\r\n    };\r\n  },\r\n};\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"resource-proxy-price\" }\nconst _hoisted_2 = { class: \"content-header\" }\nconst _hoisted_3 = { class: \"table-flex\" }\nconst _hoisted_4 = { class: \"content-table\" }\nconst _hoisted_5 = [\"innerHTML\"]\nconst _hoisted_6 = { style: {\"font-weight\":\"bold\"} }\nconst _hoisted_7 = { class: \"content-footer\" }\nconst _hoisted_8 = { key: 0 }\n\nimport { onMounted, shallowReactive } from \"vue\";\r\n\r\nimport { useVueRouter } from \"@assets/useHook\";\r\n\r\nimport { getChannelProxyPriceApi } from \"@api/financial-center/agency-price\";\r\nimport { agencyLevelList } from \"@assets/typeStatus\";\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\r\nconst { routeQuery } = useVueRouter();\r\nconst initData = shallowReactive({\r\n  list: [],\r\n  agentCodeMinutes: \"\",\r\n  agencyLevel: \"\",\r\n});\r\n\r\nconst getChannelProxyPrice = async () => {\r\n  const res = await getChannelProxyPriceApi.getData();\r\n  const { list, agentCodeMinutes, agencyLevel } = getChannelProxyPriceApi.handleData(res.data);\r\n  initData.list = list;\r\n  initData.agentCodeMinutes = agentCodeMinutes;\r\n  const agencyLevelInfo = agencyLevelList.find((item) => item.value === agencyLevel);\r\n  initData.agencyLevel = agencyLevelInfo ? agencyLevelInfo.label : '';\r\n};\r\nonMounted(() => {\r\n  getChannelProxyPrice();\r\n});\r\nconst formatSeriesName = (lineType: string) => {\r\n  if (lineType === \"1\") {\r\n    return  `回拨<br><span style=\"font-size: 12px;\">(15条线路智能匹配最佳线路)</span>`;\r\n  } else if (lineType === \"2\") {\r\n    return `小号<br><span style=\"font-size: 12px;\">(与18家虚商紧密合作，丰富的号码资源与业务场景)</span>`;\r\n  } else if (lineType === \"3\") {\r\n    return \"固话\";\r\n  }\r\n  return lineType;\r\n};\r\n\r\nconst spanMerge = ({ rowIndex, columnIndex }) => {\r\n  if (columnIndex === 0) {\r\n    const rowspan = getRowspan(rowIndex);\r\n    if (rowspan) {\r\n      return {\r\n        rowspan: rowspan,\r\n        colspan: 1,\r\n      };\r\n    } else {\r\n      return {\r\n        rowspan: 0,\r\n        colspan: 0,\r\n      };\r\n    }\r\n  }\r\n};\r\nfunction getRowspan(rowIndex: number) {\r\n  const lineType = initData.list[rowIndex].lineType;\r\n  let count = 0;\r\n  for (let i = rowIndex; i < initData.list.length; i++) {\r\n    if (initData.list[i].lineType === lineType) {\r\n      count++;\r\n    } else {\r\n      break;\r\n    }\r\n  }\r\n  return rowIndex ===\r\n    initData.list.findIndex((item) => item.lineType === lineType)\r\n    ? count\r\n    : 0;\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_table_column = _resolveComponent(\"el-table-column\")!\n  const _component_TableEmpty = _resolveComponent(\"TableEmpty\")!\n  const _component_el_table = _resolveComponent(\"el-table\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _cache[1] || (_cache[1] = _createElementVNode(\"h6\", { class: \"title\" }, \"资源渠道代理价格\", -1)),\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createElementVNode(\"span\", null, \"代理级别：\" + _toDisplayString(_unref(initData).agencyLevel), 1),\n        _cache[0] || (_cache[0] = _createElementVNode(\"span\", null, \"代理状态：正常\", -1))\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_4, [\n      _createVNode(_component_el_table, {\n        data: _unref(initData).list,\n        \"span-method\": spanMerge,\n        border: \"\"\n      }, {\n        empty: _withCtx(() => [\n          _createVNode(_component_TableEmpty, {\n            \"empty-text\": \"暂未代理价格\",\n            \"el-height\": \"320px\"\n          })\n        ]),\n        append: _withCtx(() => [\n          _createElementVNode(\"div\", _hoisted_7, [\n            _cache[2] || (_cache[2] = _createElementVNode(\"p\", null, \"中间号收取规则：\", -1)),\n            (_unref(initData).agentCodeMinutes > 0)\n              ? (_openBlock(), _createElementBlock(\"p\", _hoisted_8, \" 回拨中间号月租按每月实际消耗分钟数计算，每\" + _toDisplayString(_unref(initData).agentCodeMinutes) + \"分钟记为一个码号， \", 1))\n              : _createCommentVNode(\"\", true),\n            _cache[3] || (_cache[3] = _createElementVNode(\"p\", null, \"小号、固话月租按实际号码数量收费；\", -1)),\n            _cache[4] || (_cache[4] = _createElementVNode(\"p\", null, \"注：小号投诉规则：2000元/例；真实诈骗：10000元罚款/例\", -1))\n          ])\n        ]),\n        default: _withCtx(() => [\n          _createVNode(_component_el_table_column, {\n            prop: \"lineType\",\n            label: \"线路类型\",\n            align: \"center\"\n          }, {\n            default: _withCtx(({ row }) => [\n              _createElementVNode(\"div\", {\n                innerHTML: formatSeriesName(row.lineType)\n              }, null, 8, _hoisted_5)\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"formName\",\n            label: \"产品规格\",\n            align: \"center\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"marketPrice\",\n            label: \"市场价格\",\n            align: \"center\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"proxyPrice\",\n            label: \"代理价格\",\n            align: \"center\"\n          }, {\n            default: _withCtx(({row}) => [\n              _createElementVNode(\"span\", _hoisted_6, _toDisplayString(row.proxyPrice), 1)\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 8, [\"data\"])\n    ])\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"resource-proxy-price\">\r\n    <div class=\"content-header\">\r\n      <h6 class=\"title\">资源渠道代理价格</h6>\r\n      <div class=\"table-flex\">\r\n        <span>代理级别：{{ initData.agencyLevel }}</span>\r\n        <span>代理状态：正常</span>\r\n      </div>\r\n    </div>\r\n    <div class=\"content-table\">\r\n      <el-table\r\n          :data=\"initData.list\"\r\n          :span-method=\"spanMerge\"\r\n          border\r\n      >\r\n        <el-table-column prop=\"lineType\" label=\"线路类型\"  align=\"center\">\r\n          <template #default=\"{ row }\">\r\n            <div v-html=\"formatSeriesName(row.lineType)\"></div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"formName\" label=\"产品规格\" align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column\r\n            prop=\"marketPrice\"\r\n            label=\"市场价格\"\r\n            align=\"center\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n            prop=\"proxyPrice\"\r\n            label=\"代理价格\"\r\n            align=\"center\"\r\n        >\r\n          <template #default=\"{row}\">\r\n            <span style=\"font-weight: bold;\">{{ row.proxyPrice }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <template #empty>\r\n          <TableEmpty empty-text=\"暂未代理价格\" el-height=\"320px\"></TableEmpty>\r\n        </template>\r\n        <template #append>\r\n          <div class=\"content-footer\">\r\n            <p>中间号收取规则：</p>\r\n            <p v-if=\"initData.agentCodeMinutes > 0\">\r\n              回拨中间号月租按每月实际消耗分钟数计算，每{{\r\n                initData.agentCodeMinutes\r\n              }}分钟记为一个码号，\r\n            </p>\r\n            <p>小号、固话月租按实际号码数量收费；</p>\r\n            <p>注：小号投诉规则：2000元/例；真实诈骗：10000元罚款/例</p>\r\n          </div>\r\n        </template>\r\n      </el-table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { onMounted, shallowReactive } from \"vue\";\r\n\r\nimport { useVueRouter } from \"@assets/useHook\";\r\n\r\nimport { getChannelProxyPriceApi } from \"@api/financial-center/agency-price\";\r\nimport { agencyLevelList } from \"@assets/typeStatus\";\r\nconst { routeQuery } = useVueRouter();\r\nconst initData = shallowReactive({\r\n  list: [],\r\n  agentCodeMinutes: \"\",\r\n  agencyLevel: \"\",\r\n});\r\n\r\nconst getChannelProxyPrice = async () => {\r\n  const res = await getChannelProxyPriceApi.getData();\r\n  const { list, agentCodeMinutes, agencyLevel } = getChannelProxyPriceApi.handleData(res.data);\r\n  initData.list = list;\r\n  initData.agentCodeMinutes = agentCodeMinutes;\r\n  const agencyLevelInfo = agencyLevelList.find((item) => item.value === agencyLevel);\r\n  initData.agencyLevel = agencyLevelInfo ? agencyLevelInfo.label : '';\r\n};\r\nonMounted(() => {\r\n  getChannelProxyPrice();\r\n});\r\nconst formatSeriesName = (lineType: string) => {\r\n  if (lineType === \"1\") {\r\n    return  `回拨<br><span style=\"font-size: 12px;\">(15条线路智能匹配最佳线路)</span>`;\r\n  } else if (lineType === \"2\") {\r\n    return `小号<br><span style=\"font-size: 12px;\">(与18家虚商紧密合作，丰富的号码资源与业务场景)</span>`;\r\n  } else if (lineType === \"3\") {\r\n    return \"固话\";\r\n  }\r\n  return lineType;\r\n};\r\n\r\nconst spanMerge = ({ rowIndex, columnIndex }) => {\r\n  if (columnIndex === 0) {\r\n    const rowspan = getRowspan(rowIndex);\r\n    if (rowspan) {\r\n      return {\r\n        rowspan: rowspan,\r\n        colspan: 1,\r\n      };\r\n    } else {\r\n      return {\r\n        rowspan: 0,\r\n        colspan: 0,\r\n      };\r\n    }\r\n  }\r\n};\r\nfunction getRowspan(rowIndex: number) {\r\n  const lineType = initData.list[rowIndex].lineType;\r\n  let count = 0;\r\n  for (let i = rowIndex; i < initData.list.length; i++) {\r\n    if (initData.list[i].lineType === lineType) {\r\n      count++;\r\n    } else {\r\n      break;\r\n    }\r\n  }\r\n  return rowIndex ===\r\n    initData.list.findIndex((item) => item.lineType === lineType)\r\n    ? count\r\n    : 0;\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.resource-proxy-price {\r\n  height: 100%;\r\n  padding: 36px 24px 20px;\r\n  background-color: #ffffff;\r\n  h6 {\r\n    font-size: 18px;\r\n    font-weight: 900;\r\n    color: #242934;\r\n    line-height: 1;\r\n  }\r\n\r\n ::v-deep(th.el-table__cell)  {\r\n    background-color: #f5f7fb;\r\n  }\r\n  .content-header {\r\n    .title {\r\n      text-align: center;\r\n    }\r\n    .table-flex {\r\n      height: 50px;\r\n      margin-top: 40px;\r\n      display: flex;\r\n      justify-content: space-around;\r\n    }\r\n  }\r\n\r\n  .content-footer {\r\n    margin-top: 25px;\r\n    margin-bottom: 25px;\r\n    font-size: 14px;\r\n    line-height: 26px;\r\n    color: #9ca6b9;\r\n    p{\r\n      text-indent: 2em;\r\n      color: #9ca6b9;\r\n    }\r\n  }\r\n}\r\n.content-table {\r\n  height: calc(100vh - 300px);\r\n  overflow-y: auto;\r\n}\r\n</style>\r\n","import script from \"./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=94af1c80&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../../node_modules/.pnpm/vue-loader@17.4.2_@vue+compiler-sfc@3.5.13_vue@3.5.13_typescript@5.7.2__webpack@5.97.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-94af1c80\"]])\n\nexport default __exports__"],"names":["getChannelProxyPriceApi","getData","http","get","serviceName","agentSystem","handleData","data","agentChannelProxyPriceList","list","agentCodeMinutes","agencyLevel","arrayHasValue","map","item","unitFlag","formName","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","style","_hoisted_7","_hoisted_8","key","_defineComponent","__name","setup","__props","routeQuery","useVueRouter","initData","shallowReactive","getChannelProxyPrice","async","res","agencyLevelInfo","agencyLevelList","find","value","label","onMounted","formatSeriesName","lineType","spanMerge","rowIndex","columnIndex","rowspan","getRowspan","colspan","count","i","length","findIndex","_ctx","_cache","_component_el_table_column","_resolveComponent","_component_TableEmpty","_component_el_table","_openBlock","_createElementBlock","_createElementVNode","_toDisplayString","_unref","_createVNode","border","empty","_withCtx","append","_createCommentVNode","default","prop","align","row","innerHTML","_","proxyPrice","__exports__"],"sourceRoot":""}