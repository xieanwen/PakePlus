{"version":3,"file":"static/js/3151.872b0e3d.js","mappings":"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","sources":["webpack://daili/./src/components/business-management/ospreyCloudCall/sub-customer/list/real-name-authentication-dialog.vue?e244","webpack://daili/./src/components/business-management/ospreyCloudCall/sub-customer/list/real-name-authentication-dialog.vue","webpack://daili/./src/components/business-management/ospreyCloudCall/sub-customer/list/real-name-authentication-dialog.vue?53ed"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, withCtx as _withCtx, createVNode as _createVNode, vShow as _vShow, withDirectives as _withDirectives, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"identification-inner\" }\nconst _hoisted_2 = { class: \"qrcode-url\" }\n\nimport { ref } from \"vue\";\r\nimport { ElMessage } from \"element-plus\";\r\nimport { useQRCode } from \"@assets/useHook\";\r\nimport { LocalStorage } from \"jz-tool-lib\";\r\nimport { environmentOrigin } from \"@assets/common\";\r\nimport { allCustomerApi } from \"@api/customer-management-api\";\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'real-name-authentication-dialog',\n  setup(__props, { expose: __expose }) {\n\r\nconst { bd_userInfo: userInfo, bd_agentInfo: agentInfo } =\r\n  LocalStorage.batchGetItem([\"bd_userInfo\", \"bd_agentInfo\"]);\r\nconst qrCode = ref(\"\");\r\nconst step = ref(1);\r\nconst visible = ref(false);\r\nconst companyCode = ref(\"\");\r\nconst companyList = ref([]);\r\n// 打开弹框\r\nconst handleQrcode = () => {\r\n  document.getElementById(\"qrcode\")!.innerHTML = \"\";\r\n  // 生成二维码\r\n  qrCode.value = `${\r\n    environmentOrigin().realNameAuth\r\n  }pages/InitPage/InitPage?agentCompanyCode=${companyCode.value}`;\r\n  useQRCode({\r\n    dom: document.getElementById(\"qrcode\"),\r\n    text: qrCode.value,\r\n    width: 150,\r\n    height: 150,\r\n  });\r\n};\r\n\r\n// 获取公司列表\r\nasync function getList(value?: string) {\r\n  if (!value) return;\r\n  const params = {\r\n    parentId: userInfo.profileId,\r\n    pageSize: 5000,\r\n    businessType: 1,\r\n    companyName: value ?? \"\",\r\n  };\r\n  const { data } = await allCustomerApi.getData(params);\r\n  companyList.value = allCustomerApi.handleData(data).list;\r\n}\r\n\r\n// 选择公司\r\nfunction handleStep() {\r\n  if (step.value === 1) {\r\n    if (!companyCode.value) {\r\n      ElMessage.warning(\"请选择公司\");\r\n      return;\r\n    }\r\n    step.value = 2;\r\n    handleQrcode();\r\n  } else {\r\n    step.value = 1;\r\n  }\r\n}\r\n\r\n// 关闭弹框\r\nconst handleClose = () => {\r\n  visible.value = false;\r\n};\r\nconst toggle = (show: boolean) => {\r\n  visible.value = show;\r\n  step.value = 1;\r\n};\r\n__expose({\r\n  toggle,\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_option = _resolveComponent(\"el-option\")!\n  const _component_el_select = _resolveComponent(\"el-select\")!\n  const _component_el_form_item = _resolveComponent(\"el-form-item\")!\n  const _component_el_form = _resolveComponent(\"el-form\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_dialog = _resolveComponent(\"el-dialog\")!\n\n  return (_openBlock(), _createBlock(_component_el_dialog, {\n    \"model-value\": visible.value,\n    title: step.value === 1 ? '选择公司' : '号码实名',\n    width: \"500px\",\n    class: \"custom-dialog number-identification-dialog\",\n    onClose: handleClose\n  }, {\n    footer: _withCtx(() => [\n      _createVNode(_component_el_button, {\n        onClick: handleStep,\n        type: \"primary\",\n        class: \"true-button\"\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(_toDisplayString(step.value === 1 ? \"下一步\" : \"上一步\"), 1)\n        ]),\n        _: 1\n      }),\n      _withDirectives(_createVNode(_component_el_button, {\n        onClick: handleClose,\n        class: \"close-button\"\n      }, {\n        default: _withCtx(() => _cache[4] || (_cache[4] = [\n          _createTextVNode(\"关闭\")\n        ])),\n        _: 1\n      }, 512), [\n        [_vShow, step.value === 2]\n      ])\n    ]),\n    default: _withCtx(() => [\n      _withDirectives(_createVNode(_component_el_form, null, {\n        default: _withCtx(() => [\n          _createVNode(_component_el_form_item, { label: \"公司名称\" }, {\n            default: _withCtx(() => [\n              _createVNode(_component_el_select, {\n                modelValue: companyCode.value,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((companyCode).value = $event)),\n                placeholder: \"请选择公司\",\n                clearable: \"\",\n                filterable: \"\",\n                remote: \"\",\n                \"reserve-keyword\": \"\",\n                \"remote-method\": getList\n              }, {\n                default: _withCtx(() => [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(companyList.value, (item) => {\n                    return (_openBlock(), _createBlock(_component_el_option, {\n                      key: item.companyCode,\n                      label: `${item.companyName}（${item.companyCode}）`,\n                      value: item.companyCode\n                    }, null, 8, [\"label\", \"value\"]))\n                  }), 128))\n                ]),\n                _: 1\n              }, 8, [\"modelValue\"])\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 512), [\n        [_vShow, step.value === 1]\n      ]),\n      _withDirectives(_createElementVNode(\"div\", _hoisted_1, [\n        _createElementVNode(\"p\", null, [\n          _cache[1] || (_cache[1] = _createElementVNode(\"span\", { class: \"label\" }, \"实名链接：\", -1)),\n          _createElementVNode(\"span\", _hoisted_2, _toDisplayString(qrCode.value), 1)\n        ]),\n        _cache[2] || (_cache[2] = _createElementVNode(\"p\", null, [\n          _createElementVNode(\"span\", { class: \"label\" }, \"实名二维码：\"),\n          _createElementVNode(\"span\", { id: \"qrcode\" })\n        ], -1)),\n        _cache[3] || (_cache[3] = _createElementVNode(\"p\", { class: \"tip\" }, \" 注：应运营商要求收集主叫号码进行主叫号码三要素验证，请将链接或二维码给到终端坐席进行主叫号码三要素实名 \", -1))\n      ], 512), [\n        [_vShow, step.value === 2]\n      ])\n    ]),\n    _: 1\n  }, 8, [\"model-value\", \"title\"]))\n}\n}\n\n})","<template>\r\n  <el-dialog\r\n    :model-value=\"visible\"\r\n    :title=\"step === 1 ? '选择公司' : '号码实名'\"\r\n    width=\"500px\"\r\n    class=\"custom-dialog number-identification-dialog\"\r\n    @close=\"handleClose\"\r\n  >\r\n    <el-form v-show=\"step === 1\">\r\n      <el-form-item label=\"公司名称\">\r\n        <el-select\r\n          v-model=\"companyCode\"\r\n          placeholder=\"请选择公司\"\r\n          clearable\r\n          filterable\r\n          remote\r\n          reserve-keyword\r\n          :remote-method=\"getList\"\r\n        >\r\n          <el-option\r\n            v-for=\"item in companyList\"\r\n            :key=\"item.companyCode\"\r\n            :label=\"`${item.companyName}（${item.companyCode}）`\"\r\n            :value=\"item.companyCode\"\r\n          />\r\n        </el-select>\r\n      </el-form-item>\r\n    </el-form>\r\n    <div v-show=\"step === 2\" class=\"identification-inner\">\r\n      <p>\r\n        <span class=\"label\">实名链接：</span>\r\n        <span class=\"qrcode-url\">{{ qrCode }}</span>\r\n      </p>\r\n      <p>\r\n        <span class=\"label\">实名二维码：</span>\r\n        <span id=\"qrcode\"></span>\r\n      </p>\r\n      <p class=\"tip\">\r\n        注：应运营商要求收集主叫号码进行主叫号码三要素验证，请将链接或二维码给到终端坐席进行主叫号码三要素实名\r\n      </p>\r\n    </div>\r\n    <template #footer>\r\n      <el-button @click=\"handleStep\" type=\"primary\" class=\"true-button\">\r\n        {{ step === 1 ? \"下一步\" : \"上一步\" }}\r\n      </el-button>\r\n      <el-button v-show=\"step === 2\" @click=\"handleClose\" class=\"close-button\"\r\n        >关闭</el-button\r\n      >\r\n    </template>\r\n  </el-dialog>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport { ref } from \"vue\";\r\nimport { ElMessage } from \"element-plus\";\r\nimport { useQRCode } from \"@assets/useHook\";\r\nimport { LocalStorage } from \"jz-tool-lib\";\r\nimport { environmentOrigin } from \"@assets/common\";\r\nimport { allCustomerApi } from \"@api/customer-management-api\";\r\n\r\nconst { bd_userInfo: userInfo, bd_agentInfo: agentInfo } =\r\n  LocalStorage.batchGetItem([\"bd_userInfo\", \"bd_agentInfo\"]);\r\nconst qrCode = ref(\"\");\r\nconst step = ref(1);\r\nconst visible = ref(false);\r\nconst companyCode = ref(\"\");\r\nconst companyList = ref([]);\r\n// 打开弹框\r\nconst handleQrcode = () => {\r\n  document.getElementById(\"qrcode\")!.innerHTML = \"\";\r\n  // 生成二维码\r\n  qrCode.value = `${\r\n    environmentOrigin().realNameAuth\r\n  }pages/InitPage/InitPage?agentCompanyCode=${companyCode.value}`;\r\n  useQRCode({\r\n    dom: document.getElementById(\"qrcode\"),\r\n    text: qrCode.value,\r\n    width: 150,\r\n    height: 150,\r\n  });\r\n};\r\n\r\n// 获取公司列表\r\nasync function getList(value?: string) {\r\n  if (!value) return;\r\n  const params = {\r\n    parentId: userInfo.profileId,\r\n    pageSize: 5000,\r\n    businessType: 1,\r\n    companyName: value ?? \"\",\r\n  };\r\n  const { data } = await allCustomerApi.getData(params);\r\n  companyList.value = allCustomerApi.handleData(data).list;\r\n}\r\n\r\n// 选择公司\r\nfunction handleStep() {\r\n  if (step.value === 1) {\r\n    if (!companyCode.value) {\r\n      ElMessage.warning(\"请选择公司\");\r\n      return;\r\n    }\r\n    step.value = 2;\r\n    handleQrcode();\r\n  } else {\r\n    step.value = 1;\r\n  }\r\n}\r\n\r\n// 关闭弹框\r\nconst handleClose = () => {\r\n  visible.value = false;\r\n};\r\nconst toggle = (show: boolean) => {\r\n  visible.value = show;\r\n  step.value = 1;\r\n};\r\ndefineExpose({\r\n  toggle,\r\n});\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.el-form {\r\n  min-height: 250px;\r\n\r\n  .el-select {\r\n    width: 312px;\r\n  }\r\n\r\n  .el-button {\r\n    margin-left: 6px;\r\n  }\r\n}\r\n\r\n.identification-inner {\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  p {\r\n    display: flex;\r\n    color: #9ca6b9;\r\n    margin-bottom: 20px;\r\n    word-break: break-all;\r\n    white-space: normal;\r\n\r\n    .label {\r\n      flex-basis: 86px;\r\n      color: #606266;\r\n      text-align: right;\r\n    }\r\n\r\n    .qrcode-url {\r\n      flex: 1;\r\n    }\r\n  }\r\n\r\n  #qrcode {\r\n    flex-basis: 168px;\r\n    height: 168px;\r\n    padding: 8px;\r\n    border-radius: 4px;\r\n    border: 1px solid #ececec;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./real-name-authentication-dialog.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./real-name-authentication-dialog.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./real-name-authentication-dialog.vue?vue&type=style&index=0&id=463f2ee9&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../../node_modules/.pnpm/vue-loader@17.4.2_@vue+compiler-sfc@3.5.13_vue@3.5.13_typescript@5.7.2__webpack@5.97.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-463f2ee9\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_defineComponent","__name","setup","__props","expose","__expose","bd_userInfo","userInfo","bd_agentInfo","agentInfo","LocalStorage","batchGetItem","qrCode","ref","step","visible","companyCode","companyList","handleQrcode","document","getElementById","innerHTML","value","environmentOrigin","realNameAuth","useQRCode","dom","text","width","height","async","getList","params","parentId","profileId","pageSize","businessType","companyName","data","allCustomerApi","getData","handleData","list","handleStep","ElMessage","warning","handleClose","toggle","show","_ctx","_cache","_component_el_option","_resolveComponent","_component_el_select","_component_el_form_item","_component_el_form","_component_el_button","_component_el_dialog","_openBlock","_createBlock","title","onClose","footer","_withCtx","_createVNode","onClick","type","default","_createTextVNode","_toDisplayString","_","_withDirectives","_vShow","label","modelValue","$event","placeholder","clearable","filterable","remote","_createElementBlock","_Fragment","_renderList","item","key","_createElementVNode","id","__exports__"],"sourceRoot":""}