"use strict";(self["webpackChunkdaili"]=self["webpackChunkdaili"]||[]).push([[2189],{74391:function(e,u,a){a.r(u),a.d(u,{default:function(){return f}});a(95226),a(59784),a(47961),a(70549),a(83238);var l=a(6254),n=a(38627),t=a(25598),o=a(85723),s=a(10901),i=a(88365),r=a(8610),c=a(64108),d=a(4710);const v={class:"product-detail"},m={class:"service-specs"},p={key:1,class:"word"},C={key:2,class:"word"},_="使用【图文转视频】服务，生成1分钟视频抵扣0.1八豆，视频中自动匹配的版权图片以1.5八豆/每张进行抵扣（若匹配素材广场和客户自有图片，不额外抵扣八豆）<br>\n  eg：生成X秒视频所消耗的八豆=X/60* 0.1+ （n张版权图*1.5)<br>\n  使用【视频拆条】服务，输入1分钟视频，抵扣0.5八豆<br>\n  使用【智能卡片工具、剪同款模板、智能推荐模板、自动剪辑成片、视频混剪】服务，生成1分钟视频，抵扣0.1八豆<br>\n  使用【智能卡片工具、图文转视频】服务中的通用数字人功能，下载1分钟视频，额外抵扣0.7八豆.<br>\n  【视频裁剪】、【智能配音】、【添加品牌】、【web编辑器】服务不扣八豆。";var g=(0,l.pM)({__name:"added-service",props:{productData:{},purchasedData:{}},setup(e){const u=e,{routeQuery:a}=(0,s.dG)(),{serviceCode:g}=a.value,{bd_userInfo:E}=i.DT.batchGetItem(["bd_userInfo"]),b=(0,t.Gc)({count:"",customCount:1,sumPrice:"0.00"}),f=(0,t.IJ)({price:"0.00",sumPrice:"0.00",unitPrice:0,subMarketList:[],hasAgentPrice:!1}),y=(0,l.EW)((()=>u.purchasedData??[])),N=(0,l.EW)((()=>u.productData)),A=(0,l.EW)((()=>N.value.serviceInfo)),I=(0,l.EW)((()=>{var e;return null===(e=N.value)||void 0===e?void 0:e.addedServiceList[0]})),S=(0,l.EW)((()=>{let e=[];return I.value.specsList.length&&(e=I.value.specsList.map((e=>({groupNames:e.groupNames,groupValues:e.groupValues,groupCodes:e.groupCodes,minNum:e.minNum,maxNum:e.maxNum,coding:e.coding,unitPrice:e.unitPrice,serviceCode:e.serviceCode}))),I.value.isDiy&&e.push({groupNames:"自定义",groupValues:"custom"})),e})),k=(0,l.EW)((()=>{let e=0,u=0;return I.value.specsList.forEach(((a,l)=>{0===l?(e=a.minNum,u=a.maxNum):(e>a.minNum&&(e=a.minNum),u<a.maxNum&&(u=a.maxNum))})),{min:e,max:u}})),h=(0,l.EW)((()=>"custom"===b.count?b.customCount:b.count)),D=(0,l.EW)((()=>{var e;const u=(null===(e=y.value[0])||void 0===e?void 0:e.resourceCount)??0,a=Number(h.value)+Number(u);return S.value.find((e=>e.minNum<=a&&a<=e.maxNum))})),O=(0,l.EW)((()=>{var e;const u=dayjs().startOf("day"),a=dayjs(null===(e=y.value[0])||void 0===e?void 0:e.endTime).endOf("day");return a.diff(u,"day")+1})),T=(0,l.EW)((()=>{const e=y.value.length?`剩余天数${O.value} / 365天 x `:"";return["STORE_SERVICE","CUSTOMER_SERVICE","ACCOUNT_ACCESS_21S","VIDEO_MATRIX_ACCOUNT","PRO_CUS_UNLOCHED_ADD"].includes(g)?`合计：${e}商品单价${f.value.unitPrice}元 x ${h.value}${A.value.unit} = ${f.value.sumPrice}元`:""})),V=(0,l.EW)((()=>["BADOU_21S"].includes(g)?"说明：八豆：视频生成分钟数，不同的功能项会消耗不同等值的八豆":["INTERFACES_21S"].includes(g)?"说明：接口数：是指开启会话数、评论查看、评论回复接口调用次数":["ACCOUNT_ACCESS_21S"].includes(g)?"说明：不同的账户可设置不同的团队":"")),R=(0,l.EW)((()=>["PRO_CUS_UNLOCHED_ADD","PRO_CUS_SEAT_ADD"].includes(g)?"购买此产品前，需要先买云查客企业版":["BADOU_21S","ACCOUNT_ACCESS_21S","INTERFACES_21S"].includes(g)?"购买此产品前，需要先买21秒云集客套餐":["VIDEO_MATRIX_ACCOUNT"].includes(g)?"购买此产品前，需要先买视频矩阵":""));function P(){var e,u;b.count=null===(e=S.value[0])||void 0===e?void 0:e.groupValues,b.customCount=null===(u=S.value[0])||void 0===u?void 0:u.groupValues,U()}async function U(){const e=W().params;f.value=await(0,d.AV)(e)}function W(){const e={agentId:E.profileId,buyCar:!1,helpOrder:1,buyType:a.value.buyType??"BUY_SERVER",companyId:a.value.companyId,profileId:a.value.profileId,shopBuyList:[{agentId:E.profileId,isisTry:!1,dateType:"3",dateValue:1,marketCode:g,coding:[{code:D.value.serviceCode,coding:D.value.coding,num:h.value}],baseCodeList:[{baseCode:D.value.groupCodes,number:h.value}]}],sumPrice:f.value.price},u={list:[{...A.value,price:f.value.price,specsInfo:`购买数量：${h.value}${A.value.unit}`}],sumPrice:f.value.sumPrice};return{params:e,commodityInfo:u}}function L(){(0,d.$d)(W())}return P(),(e,u)=>{var a;const s=(0,l.g2)("el-form-item"),i=(0,l.g2)("el-option"),d=(0,l.g2)("el-select"),E=(0,l.g2)("el-input-number"),h=(0,l.g2)("el-tooltip"),D=(0,l.g2)("el-form");return(0,l.uX)(),(0,l.CE)("div",v,[(0,l.bF)(c.A,{serviceData:A.value},null,8,["serviceData"]),(0,l.Lk)("div",m,[(0,l.bF)(D,{"label-width":"150px"},{default:(0,l.k6)((()=>[y.value.length?((0,l.uX)(),(0,l.Wv)(s,{key:0,label:"已购详情"},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(y.value,((e,u)=>((0,l.uX)(),(0,l.CE)("div",{class:"purchased-info",key:u},[(0,l.Lk)("span",null,"已购数量："+(0,n.v_)(e.resourceCount)+(0,n.v_)(A.value.unit),1),(0,l.Lk)("span",null,"服务到期时间："+(0,n.v_)(e.endTime),1)])))),128))])),_:1})):(0,l.Q3)("",!0),(0,l.bF)(s,{label:"购买数量",class:"amount-form-item"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{modelValue:(0,t.R1)(b).count,"onUpdate:modelValue":u[0]||(u[0]=e=>(0,t.R1)(b).count=e),onChange:U},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(S.value,(e=>((0,l.uX)(),(0,l.Wv)(i,{key:e.groupValues,label:e.groupNames,value:e.groupValues},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),"custom"===(0,t.R1)(b).count?((0,l.uX)(),(0,l.Wv)(E,{key:0,modelValue:(0,t.R1)(b).customCount,"onUpdate:modelValue":u[1]||(u[1]=e=>(0,t.R1)(b).customCount=e),min:k.value.min,max:k.value.max,step:I.value.miniNum,onChange:U},null,8,["modelValue","min","max","step"])):(0,l.Q3)("",!0)])),_:1}),(0,l.bF)(s,null,{default:(0,l.k6)((()=>[["BADOU_21S"].includes((0,t.R1)(g))?((0,l.uX)(),(0,l.Wv)(h,{key:0,placement:"top-start",trigger:"hover","popper-class":"custom-tooltip"},{content:(0,l.k6)((()=>[(0,l.Lk)("div",{innerHTML:_})])),default:(0,l.k6)((()=>[u[2]||(u[2]=(0,l.Lk)("img",{class:"question-icon",src:o,alt:""},null,-1))])),_:1})):(0,l.Q3)("",!0),N.value.canBuy?((0,l.uX)(),(0,l.CE)("p",p,(0,n.v_)(T.value),1)):(0,l.Q3)("",!0),V.value?((0,l.uX)(),(0,l.CE)("p",C,(0,n.v_)(V.value),1)):(0,l.Q3)("",!0)])),_:1})])),_:1}),(0,l.bF)(r.A,{tip:R.value,onEmitFunc:L,"buy-price":f.value.price,"can-buy":null===(a=N.value)||void 0===a?void 0:a.canBuy,hasAgentPrice:f.value.hasAgentPrice},null,8,["tip","buy-price","can-buy","hasAgentPrice"])])])}}}),E=a(83936);const b=(0,E.A)(g,[["__scopeId","data-v-f3ce01f2"]]);var f=b}}]);
//# sourceMappingURL=2189.f92064d1.js.map