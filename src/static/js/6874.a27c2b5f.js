"use strict";(self["webpackChunkdaili"]=self["webpackChunkdaili"]||[]).push([[6874],{46874:function(e,t,i){i.r(t),i.d(t,{default:function(){return H}});i(59784),i(29296),i(83238);var a=i(6254),l=i(25598),n=i(50947),d=i(10901),c=i(88365),s=i(57030),r=i(38627),o=i(616);const u={class:"main-aside"},v={key:0,class:"logo-name"},m={key:1,class:"logo"},p={class:"menu-icon","aria-hidden":"true"},h=["xlink:href"],k={class:"title"},b={class:"menu-icon","aria-hidden":"true"},f=["xlink:href"],g={class:"title"},_={class:"title"};var L=(0,a.pM)({__name:"main-aside",props:{routerList:{}},setup(e){const{route:t}=(0,d.dG)(),i=(0,l.Gc)({defaultMenu:""});return(0,a.wB)(t,(e=>{e.meta.defaultActiveMenu?i.defaultMenu=e.meta.defaultActiveMenu:e.matched.length>3?i.defaultMenu=e.matched[e.matched.length-2].path:i.defaultMenu=e.matched[e.matched.length-1].path}),{immediate:!0}),(e,t)=>{const n=(0,a.g2)("el-menu-item"),d=(0,a.g2)("el-sub-menu"),c=(0,a.g2)("el-menu");return(0,a.uX)(),(0,a.CE)("aside",u,[["ec-line"].includes((0,l.R1)(o.N9))?((0,a.uX)(),(0,a.CE)("div",v," 服务商系统 ")):((0,a.uX)(),(0,a.CE)("div",m)),(0,a.bF)(c,{class:"el-menu-vertical-demo","default-active":(0,l.R1)(i).defaultMenu,router:"","unique-opened":""},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.routerList,(e=>((0,a.uX)(),(0,a.CE)(a.FK,{key:e.path},[!e.children&&!e.meta.hideMenu||e.meta.filterSubMenu?((0,a.uX)(),(0,a.Wv)(n,{key:0,index:e.path},{title:(0,a.k6)((()=>[(0,a.Lk)("span",k,(0,r.v_)(e.meta.pageName),1)])),default:(0,a.k6)((()=>[((0,a.uX)(),(0,a.CE)("svg",p,[(0,a.Lk)("use",{"xlink:href":`#${e.meta.iconName}`},null,8,h)]))])),_:2},1032,["index"])):(0,a.Q3)("",!0),!e.children||e.meta.hideMenu||e.meta.filterSubMenu?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(d,{key:1,index:`${e.path}`},{title:(0,a.k6)((()=>[((0,a.uX)(),(0,a.CE)("svg",b,[(0,a.Lk)("use",{"xlink:href":`#${e.meta.iconName}`},null,8,f)])),(0,a.Lk)("span",g,(0,r.v_)(e.meta.pageName),1)])),default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.children,(e=>((0,a.uX)(),(0,a.CE)(a.FK,{key:e.path},[e.meta.hideMenu?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(n,{key:0,index:`${e.path}`},{default:(0,a.k6)((()=>[(0,a.Lk)("span",_,(0,r.v_)(e.meta.pageName),1)])),_:2},1032,["index"]))],64)))),128))])),_:2},1032,["index"]))],64)))),128))])),_:1},8,["default-active"])])}}}),y=i(83936);const C=(0,y.A)(L,[["__scopeId","data-v-525dc91f"]]);var I=C,x=i(14622),S=i(91373);const F={class:"home-header"},E={class:"left-container"},X={class:"page-name"},M={class:"right-container"},D={class:"invitation-list"},A={class:"QR-code"},$=["id"],R={class:"prompt"},V=["id","data-clipboard-text"],w={class:"user-info"},U={class:"name"},W=["src"],N={key:1,class:"head-portrait",src:x,alt:""};var K=(0,a.pM)({__name:"main-header",setup(e){const{route:t,goPage:n,backPage:s}=(0,d.dG)(),u=c.DT.getItem("bd_userInfo"),v=(0,a.EW)((()=>t.matched.slice(1,t.matched.length))),m=(0,l.KR)([{type:"saas",title:"邀请下级客户",text:"BDSaaS用户",copyUrl:`${(0,o.W_)().bdSaas}/reg?inviterId=${null===u||void 0===u?void 0:u.profileId}`,qrcode:"",id:"copy-saas"},{type:"daiLi",title:"邀请下级服务商",text:"服务商",copyUrl:`${(0,o.W_)().bdDaiLi}/#/register?inviterId=${null===u||void 0===u?void 0:u.profileId}`,qrcode:"",id:"copy-daiLi"}]),p=e=>{if("signOut"===e){const e=c.DT.getItem("bd_loginForm");c.DT.clear(),c.uW.clear(),e&&c.DT.setItem("bd_loginForm",e),n("/")}},h=()=>{(0,d.iD)({id:"copy-saas"}),(0,d.iD)({id:"copy-daiLi"})},k=(e,t)=>(0,d.i$)({dom:e,text:t,width:120,height:120});function b(e){e.target.src="1"===u.gender?i(14622):i(92752)}return(0,a.sV)((()=>{h(),m.value.map(((e,t)=>(e.qrcode=k(`qrCode${t}`,e.copyUrl),e)))})),(e,t)=>{var i;const n=(0,a.g2)("el-icon"),d=(0,a.g2)("el-breadcrumb-item"),c=(0,a.g2)("el-breadcrumb"),o=(0,a.g2)("el-popover"),h=(0,a.g2)("el-dropdown-item"),k=(0,a.g2)("el-dropdown-menu"),f=(0,a.g2)("el-dropdown");return(0,a.uX)(),(0,a.CE)("header",F,[(0,a.Lk)("div",E,[(0,a.Lk)("div",X,[(0,a.bF)(n,{onClick:t[0]||(t[0]=e=>(0,l.R1)(s)(-1))},{default:(0,a.k6)((()=>[(0,a.bF)((0,l.R1)(S.nkM))])),_:1}),(0,a.bF)(c,null,{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(v.value,((e,t)=>((0,a.uX)(),(0,a.Wv)(d,{key:t,to:{path:e.path}},{default:(0,a.k6)((()=>[(0,a.eW)((0,r.v_)(e.meta.pageName),1)])),_:2},1032,["to"])))),128))])),_:1})])]),(0,a.Lk)("div",M,[(0,a.bF)(o,{placement:"bottom",width:630,trigger:"hover",style:{padding:"0"}},{reference:(0,a.k6)((()=>t[1]||(t[1]=[(0,a.Lk)("div",{class:"invitation"},[(0,a.Lk)("svg",{class:"icon","aria-hidden":"true"},[(0,a.Lk)("use",{"xlink:href":"#icon-qr-code"})]),(0,a.Lk)("span",{class:"word"},"邀请下级")],-1)]))),default:(0,a.k6)((()=>[(0,a.Lk)("ul",D,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(m.value,((e,i)=>((0,a.uX)(),(0,a.CE)("li",{class:"item",key:i},[(0,a.Lk)("h6",null,(0,r.v_)(e["title"]),1),(0,a.Lk)("div",A,[(0,a.Lk)("div",{id:`qrCode${i}`},null,8,$)]),t[2]||(t[2]=(0,a.Lk)("span",{class:"word"},"【扫描二维码注册】",-1)),(0,a.Lk)("span",R,"复制链接注册成为"+(0,r.v_)(e["text"]),1),(0,a.Lk)("span",{id:e.id,class:"copy-button","data-clipboard-text":`${e["copyUrl"]}`},"点击复制",8,V)])))),128))])])),_:1}),(0,a.Lk)("div",w,[(0,a.Lk)("span",U,(0,r.v_)(null===(i=(0,l.R1)(u))||void 0===i?void 0:i.realName),1),(0,a.bF)(f,{onCommand:p},{dropdown:(0,a.k6)((()=>[(0,a.bF)(k,null,{default:(0,a.k6)((()=>[(0,a.bF)(h,{command:"signOut"},{default:(0,a.k6)((()=>t[3]||(t[3]=[(0,a.eW)("退出")]))),_:1})])),_:1})])),default:(0,a.k6)((()=>{var e,t;return[null!==(e=(0,l.R1)(u))&&void 0!==e&&e.portraitImgUrl?((0,a.uX)(),(0,a.CE)("img",{key:0,class:"head-portrait",src:null===(t=(0,l.R1)(u))||void 0===t?void 0:t.portraitImgUrl,alt:"",onError:b},null,40,W)):((0,a.uX)(),(0,a.CE)("img",N))]})),_:1})])])])}}});const T=(0,y.A)(K,[["__scopeId","data-v-1dc0cf2b"]]);var q=T;const P={class:"main"},G={class:"entry-container"},Q={class:"entry-content"};var B=(0,a.pM)({__name:"main-entry",setup(e){const t=(0,a.$V)((()=>Promise.all([i.e(2076),i.e(5877)]).then(i.bind(i,25877)))),r=(0,a.$V)((()=>i.e(3619).then(i.bind(i,3619)))),o=(0,a.$V)((()=>Promise.all([i.e(2076),i.e(9706)]).then(i.bind(i,51270)))),{route:u,replacePage:v,onBeforeRouteUpdate:m}=(0,d.dG)(),p=(0,l.Kh)({systemDisabledVisible:!1,serviceExpirationVisible:!1,certificationStatusVisible:!1,certificationStatus:c.DT.getItem("bd_checkStatus"),routerList:n.A,checkAdvice:""}),h=async()=>{try{const{data:e}=await s.Hb.getData();p.checkAdvice=e.checkAdvice,p.certificationStatus=e.checkStatus,c.DT.batchSetItem({bd_agentId:null===e||void 0===e?void 0:e.id,bd_checkAdvice:null===e||void 0===e?void 0:e.checkAdvice,bd_checkStatus:null===e||void 0===e?void 0:e.checkStatus,bd_virCompanyId:null===e||void 0===e?void 0:e.virCompanyId,bd_existCallInterface:null===e||void 0===e?void 0:e.existCallInterface}),b(null===e||void 0===e?void 0:e.msgReadState,null===e||void 0===e?void 0:e.existCloudCall)}catch(e){b(1,!0)}},{bd_existCallInterface:k}=c.DT.batchGetItem(["bd_existCallInterface"]),b=(e,t)=>{p.routerList=n.A.filter((e=>e.meta.role&&-1!==e.meta.role.indexOf(p.certificationStatus))),p.routerList.map((e=>("financialStatistics"!==e.name||t||(e.children=e.children.filter((e=>"advanceCharge"!==e.name))),"financialCenter"===e.name&&(e.children=e.children.filter((e=>0===k?"financialCenter.agencyPrice"!==e.name:e))),e))),2===p.certificationStatus&&("/certificationService"===u.path&&v("/customerManagement/personalCustomer/list"),0===e&&(p.certificationStatusVisible=!0))},f=()=>{s.TN.getData()};return f(),h(),b(1,!0),m((()=>{h()})),(e,i)=>{const n=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)("div",P,[(0,a.bF)(I,{routerList:p.routerList},null,8,["routerList"]),(0,a.Lk)("div",G,[(0,a.bF)(q),(0,a.Lk)("div",Q,[(0,a.bF)(n)])]),(0,a.bF)((0,l.R1)(r),{visible:p.serviceExpirationVisible,"onUpdate:visible":i[0]||(i[0]=e=>p.serviceExpirationVisible=e)},null,8,["visible"]),(0,a.bF)((0,l.R1)(t),{visible:p.systemDisabledVisible,"onUpdate:visible":i[1]||(i[1]=e=>p.systemDisabledVisible=e)},null,8,["visible"]),(0,a.bF)((0,l.R1)(o),{visible:p.certificationStatusVisible,"onUpdate:visible":i[2]||(i[2]=e=>p.certificationStatusVisible=e),certificationStatus:p.certificationStatus,checkAdvice:p.checkAdvice},null,8,["visible","certificationStatus","checkAdvice"])])}}});const O=(0,y.A)(B,[["__scopeId","data-v-074d556b"]]);var H=O}}]);
//# sourceMappingURL=6874.a27c2b5f.js.map