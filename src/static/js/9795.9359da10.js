"use strict";(self["webpackChunkdaili"]=self["webpackChunkdaili"]||[]).push([[9795],{9795:function(e,a,t){t.r(a),t.d(a,{default:function(){return s}});var n=t(6254),r=t(25598),l=t(6934),p=t(59259),i=t(88365),o=t(10901),m=t(62985);const d={class:"main-container"},g={class:"table-container"};var y=(0,n.pM)({name:"marketService.personalOrder",__name:"list",setup(e){const a=(0,n.$V)((()=>Promise.all([t.e(2076),t.e(9989)]).then(t.bind(t,23717)))),{goPage:y}=(0,o.dG)(),u=(0,r.Gc)({paymentVisible:!1,paymentInfo:{}}),{getList:c,pageNumberChange:s,pageSizeChange:b,pageData:k,resetPageNumber:f}=(0,i.N5)({listApi:m.gS,props:{pageNumber:"current",pageSize:"size"}}),T=e=>{let a="";[0,1].includes(e.paymentType)?a="onlinePayment":3===e.paymentType?a="balancePayment":4===e.paymentType&&(a="offlinePayment"),1===e.orderType?y(`/payment/deposit?amount=${e.price}&mode=${e.mode}&paymentType=${e.paymentType}&modePayment=${a}&orderNo=${e.orderNo}`):y(`/payment/buy?productId=${e.seriesId}&amount=${e.price}&agencyLevel=${e.agencyLevel}&durationYear=${e.durationYear}&mode=${e.mode}&orderType=${e.orderType}&paymentType=${e.paymentType}&modePayment=${a}&orderNo=${e.orderNo}`)},v=e=>{l.s.confirm("是否确认取消支付该订单?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{m.Ti.getData(e.orderNo).then((()=>{p.nk.success("已取消"),f(),c()}))}))};return(e,t)=>{const l=(0,n.g2)("el-table-column"),p=(0,n.g2)("el-link"),i=(0,n.g2)("el-tag"),o=(0,n.g2)("TableEmpty"),m=(0,n.g2)("el-table"),y=(0,n.g2)("PagePagination");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",d,[(0,n.Lk)("div",g,[(0,n.bF)(m,{data:(0,r.R1)(k).list,height:"calc(100vh - 208px)"},{empty:(0,n.k6)((()=>[(0,n.bF)(o,{"empty-text":"暂无订单"})])),default:(0,n.k6)((()=>[(0,n.bF)(l,{prop:"seriesName",label:"服务名",align:"left"}),(0,n.bF)(l,{prop:"agencyLevelName",label:"代理级别",align:"center"}),(0,n.bF)(l,{prop:"durationYear",label:"期限（年）",align:"center"}),(0,n.bF)(l,{prop:"orderNo",label:"订单编号",align:"center"}),(0,n.bF)(l,{prop:"createdTime",label:"下单时间",align:"center"}),(0,n.bF)(l,{prop:"price",label:"价格",align:"center"}),(0,n.bF)(l,{label:"状态",align:"center",fixed:"right","class-name":"operation-group"},{default:(0,n.k6)((({row:e})=>[4!==e.paymentType?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[1===e.orderState?((0,n.uX)(),(0,n.Wv)(p,{key:0,onClick:a=>T(e),type:"primary",underline:!1},{default:(0,n.k6)((()=>t[1]||(t[1]=[(0,n.eW)("去支付 ")]))),_:2},1032,["onClick"])):(0,n.Q3)("",!0),1===e.orderState?((0,n.uX)(),(0,n.Wv)(p,{key:1,onClick:a=>v(e),type:"danger",underline:!1},{default:(0,n.k6)((()=>t[2]||(t[2]=[(0,n.eW)("取消订单 ")]))),_:2},1032,["onClick"])):(0,n.Q3)("",!0)],64)):(0,n.Q3)("",!0),1===e.orderState&&4===e.paymentType?((0,n.uX)(),(0,n.Wv)(i,{key:1},{default:(0,n.k6)((()=>t[3]||(t[3]=[(0,n.eW)("正在审核")]))),_:1})):(0,n.Q3)("",!0),2===e.orderState?((0,n.uX)(),(0,n.Wv)(i,{key:2,type:"success"},{default:(0,n.k6)((()=>t[4]||(t[4]=[(0,n.eW)("已支付")]))),_:1})):(0,n.Q3)("",!0),3===e.orderState?((0,n.uX)(),(0,n.Wv)(i,{key:3,type:"danger"},{default:(0,n.k6)((()=>t[5]||(t[5]=[(0,n.eW)("已取消")]))),_:1})):(0,n.Q3)("",!0)])),_:1})])),_:1},8,["data"]),(0,n.bF)(y,{pageTotal:(0,r.R1)(k).pageTotal,pageSize:(0,r.R1)(k).pageSize,pageNumber:(0,r.R1)(k).pageNumber,onEmitPageSizeChange:(0,r.R1)(b),onEmitPageNumberChange:(0,r.R1)(s)},null,8,["pageTotal","pageSize","pageNumber","onEmitPageSizeChange","onEmitPageNumberChange"])])]),(0,n.bF)((0,r.R1)(a),{visible:(0,r.R1)(u).paymentVisible,"onUpdate:visible":t[0]||(t[0]=e=>(0,r.R1)(u).paymentVisible=e),paymentInfo:(0,r.R1)(u).paymentInfo},null,8,["visible","paymentInfo"])],64)}}}),u=t(83936);const c=(0,u.A)(y,[["__scopeId","data-v-2bdfc796"]]);var s=c}}]);
//# sourceMappingURL=9795.9359da10.js.map