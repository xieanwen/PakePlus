"use strict";(self["webpackChunkdaili"]=self["webpackChunkdaili"]||[]).push([[3868],{23868:function(e,l,a){a.r(l),a.d(l,{default:function(){return s}});var t=a(6254),o=a(25598),r=a(38627),i=a(18964),n=a(88365),d=a(91373);const p={class:"daily-bill"},u={class:"table-container"},b={key:0,class:"tip"};var m=(0,t.pM)({__name:"index",setup(e){const{bd_agentId:l}=n.DT.batchGetItem(["bd_agentId"]),m=(0,t.$V)((()=>a.e(7393).then(a.bind(a,47393)))),c={supervisorName:"此服务代理商上游账号，由此账号提供开票金额开票。",currentAccountName:"服务资源使用账户",billAmount:"代理商或代理商客户下单向数企业支付的金额。",commissionAmount:"当前账单返佣给代理商的金额"},g=(0,o.KR)(),s=(0,o.Kh)({time:[],orderId:""}),h=[{label:"交易时间",prop:"tradeTime"},{label:"订单号/交易号",prop:"orderNo",width:240},{label:"账单类型",prop:"billTypeLabel",width:130},{label:"产品",prop:"productName",width:140},{label:"计费模式",prop:"billModeLabel",width:160},{label:"使用账号",prop:"currentAccountName",width:140},{label:"消费时间",prop:"consumeTime",width:360},{label:"账单金额",prop:"billAmount",width:140},{label:"返佣金额",prop:"commissionAmount",width:140},{label:"可开票金额",prop:"invoicableBalance",width:140},{label:"可用余额",prop:"balanceAmount",width:140},{label:"当前保证金",prop:"depositAmount",width:140}],{getList:k,pageNumberChange:f,pageSizeChange:w,pageData:F,resetPageNumber:N}=(0,n.N5)({listApi:i.ar,props:{pageNumber:"page",pageSize:"pageSize"},searchParams(){return{agencyId:l,orderNo:s.orderId,tradeStartTime:_.head(s.time),tradeEndTime:_.last(s.time)}},notExecute:!0});function v(){N(),k()}function C(){s.orderId=localStorage.getItem("selectedOrderNumber")||"",k(),localStorage.removeItem("selectedOrderNumber")}return C(),(e,l)=>{const a=(0,t.g2)("el-date-picker"),i=(0,t.g2)("el-form-item"),n=(0,t.g2)("el-input"),k=(0,t.g2)("el-button"),_=(0,t.g2)("el-form"),N=(0,t.g2)("el-icon"),C=(0,t.g2)("el-tooltip"),y=(0,t.g2)("el-table-column"),A=(0,t.g2)("el-link"),I=(0,t.g2)("el-table"),S=(0,t.g2)("PagePagination");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("div",p,[(0,t.bF)(_,{inline:"",model:s},{default:(0,t.k6)((()=>[(0,t.bF)(i,{label:"交易时间"},{default:(0,t.k6)((()=>[(0,t.bF)(a,{modelValue:s.time,"onUpdate:modelValue":l[0]||(l[0]=e=>s.time=e),type:"daterange","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"YYYY-MM-DD"},null,8,["modelValue"])])),_:1}),(0,t.bF)(i,{label:"订单编号"},{default:(0,t.k6)((()=>[(0,t.bF)(n,{modelValue:s.orderId,"onUpdate:modelValue":l[1]||(l[1]=e=>s.orderId=e),placeholder:"请输入"},null,8,["modelValue"])])),_:1}),(0,t.bF)(i,{label:""},{default:(0,t.k6)((()=>[(0,t.bF)(k,{type:"primary",onClick:v},{default:(0,t.k6)((()=>l[2]||(l[2]=[(0,t.eW)("搜索")]))),_:1})])),_:1})])),_:1},8,["model"]),(0,t.Lk)("div",u,[(0,t.bF)(I,{data:(0,o.R1)(F).list,height:"calc(100vh - 250px)"},{default:(0,t.k6)((()=>[((0,t.uX)(),(0,t.CE)(t.FK,null,(0,t.pI)(h,((e,l)=>(0,t.bF)(y,{key:l,"show-overflow-tooltip":"",prop:e.prop,label:e.label,width:e.width??200},{header:(0,t.k6)((()=>[["supervisorName","currentAccountName","billAmount","commissionAmount"].includes(e.prop)?((0,t.uX)(),(0,t.CE)("div",b,[(0,t.Lk)("span",null,(0,r.v_)(e.label),1),(0,t.bF)(C,{effect:"dark",content:c[e.prop],placement:"top-start"},{default:(0,t.k6)((()=>[(0,t.bF)(N,{size:16,color:"#b1b3b8"},{default:(0,t.k6)((()=>[(0,t.bF)((0,o.R1)(d.lOC))])),_:1})])),_:2},1032,["content"])])):((0,t.uX)(),(0,t.CE)(t.FK,{key:1},[(0,t.eW)((0,r.v_)(e.label),1)],64))])),default:(0,t.k6)((({row:l})=>[(0,t.eW)((0,r.v_)(l[e.prop]??"-"),1)])),_:2},1032,["prop","label","width"]))),64)),(0,t.bF)(y,{label:"操作",fixed:"right",width:"200"},{default:(0,t.k6)((({row:e})=>[(0,t.bF)(A,{type:"primary",underline:!1,onClick:l=>g.value.show(e)},{default:(0,t.k6)((()=>l[3]||(l[3]=[(0,t.eW)("查看详情 ")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),(0,t.bF)(S,{pageTotal:(0,o.R1)(F).pageTotal,pageSize:(0,o.R1)(F).pageSize,pageNumber:(0,o.R1)(F).pageNumber,onEmitPageSizeChange:(0,o.R1)(w),onEmitPageNumberChange:(0,o.R1)(f)},null,8,["pageTotal","pageSize","pageNumber","onEmitPageSizeChange","onEmitPageNumberChange"])])]),(0,t.bF)((0,o.R1)(m),{ref_key:"dailyStatementDetailRef",ref:g},null,512)],64)}}}),c=a(83936);const g=(0,c.A)(m,[["__scopeId","data-v-64452d3a"]]);var s=g}}]);
//# sourceMappingURL=3868.d5889fca.js.map