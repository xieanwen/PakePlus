"use strict";(self["webpackChunkdaili"]=self["webpackChunkdaili"]||[]).push([[8672,9706],{60287:function(e,a,l){l.r(a),l.d(a,{default:function(){return M}});var t=l(6254),i=l(38627),n=l(25598),c=l(59259),s=l(88365),u=l(10901),o=l(616),d=l(62985),v=l(57030);const r={class:"agreement"},p=["innerHTML"];var m=(0,t.pM)({__name:"purchase-agreement-dialog",props:{visible:{type:Boolean}},emits:["update:visible"],setup(e,{emit:a}){const l=a,i=(0,n.Gc)({agreement:""}),c=()=>{const e={type:0};v.L7.getData(e).then((e=>{i.agreement=v.L7.handleData(e.data)}))},s=()=>{l("update:visible",!1)};return c(),(e,a)=>{const l=(0,t.g2)("el-dialog");return(0,t.uX)(),(0,t.Wv)(l,{class:"custom-dialog",width:"820px","lock-scroll":"","append-to-body":"",center:"",title:"数企订购协议","model-value":e.visible,onClose:s},{default:(0,t.k6)((()=>[(0,t.Lk)("div",r,[(0,t.Lk)("p",{class:"content",innerHTML:(0,n.R1)(i).agreement},null,8,p)])])),_:1},8,["model-value"])}}}),b=l(83936);const g=(0,b.A)(m,[["__scopeId","data-v-5cb8783d"]]);var L=g,k=l(51270);const h={class:"main-container"},f={class:"product-detail"},y={class:"name-function"},R={class:"name"},_={class:"function"},I={class:"buy-params-box"},F={class:"params-container"},V={class:"product-img"},C=["src"],w={class:"level-content"},x={class:"level"},D={class:"level-list"},A=["onClick"],S={class:"level"},K={key:0,class:"level"},N={class:"buy-container"},W={class:"amount"},X={class:"product-params-box"},E=["src"];var P=(0,t.pM)({name:"marketService.applicationCenter.detail",__name:"detail",setup(e){const{routeQuery:a,goPage:l}=(0,u.dG)(),v=s.DT.getItem("bd_checkStatus"),r=(0,n.KR)([]),p=(0,n.KR)({}),m=(0,n.Gc)({activeLevelIndex:-1,activeLevelLabel:"",activeLevelValue:-1,existBuyFlag:!1,agreementVisible:!1,certificationVisible:!1,agreementStatus:!1,checkAdvice:"",amount:0,timeLength:""}),b=async()=>{try{var e;const l={productId:a.value.productId},{data:t}=await d.dh.getData(l);p.value=d.dh.handleData(t),m.timeLength=null===(e=p.value)||void 0===e?void 0:e.timeLength,await P()}catch(l){console.log(l)}},g=async()=>{try{const e={productId:a.value.productId},{data:l}=await d.KK.getData(e);m.existBuyFlag=d.KK.handleData(l)}catch(e){console.log(e)}},P=async()=>{const{data:e}=await d.Iz.getData(),{levelList:a}=d.Iz.handleData(e);r.value=a,B(r.value[0],0)},B=(e,a)=>{m.activeLevelIndex=a,m.activeLevelLabel=e.label,m.activeLevelValue=e.value,m.amount=M(e.value,p.value)},M=(e,a)=>{switch(e){case 1:return a.highLevelAgentPrice;case 2:return a.midLevelAgentPrice;case 3:return a.lowLevelAgentPrice}},T=()=>{var e,a;if(2!==v){const e=s.DT.getItem("bd_checkAdvice");return e&&(m.checkAdvice=e),void(m.certificationVisible=!0)}m.agreementStatus||["ec-line"].includes(o.N9)?l(`/payment/buy?productId=${null===(e=p.value)||void 0===e?void 0:e.productId}&amount=${m.amount}&agencyLevel=${m.activeLevelValue}&durationYear=${null===(a=p.value)||void 0===a?void 0:a.timeLength}`):c.nk.error("请阅读并勾选数企订购协议")},U=({rowIndex:e,columnIndex:a})=>{var l,t;if(0===a||3===a)return e%(null===(l=p.value)||void 0===l?void 0:l.appList.length)===0?{rowspan:null===(t=p.value)||void 0===t?void 0:t.appList.length,colspan:1}:{rowspan:0,colspan:0}};return g(),b(),(e,a)=>{var l,c,s,u,d;const b=(0,t.g2)("el-option"),g=(0,t.g2)("el-select"),P=(0,t.g2)("el-checkbox"),M=(0,t.g2)("el-button"),$=(0,t.g2)("el-table-column"),G=(0,t.g2)("el-table");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("div",h,[(0,t.Lk)("div",f,[(0,t.Lk)("div",y,[(0,t.Lk)("h6",R,(0,i.v_)(null===(l=p.value)||void 0===l?void 0:l.productName),1),(0,t.Lk)("p",_,(0,i.v_)(null===(c=p.value)||void 0===c?void 0:c.productDescribe),1)]),(0,t.Lk)("div",I,[(0,t.Lk)("div",F,[(0,t.Lk)("div",V,[(0,t.Lk)("img",{src:null===(s=p.value)||void 0===s?void 0:s.procudtPrimaryImg,onError:a[0]||(a[0]=(...e)=>(0,n.R1)(o.Su)&&(0,n.R1)(o.Su)(...e)),alt:""},null,40,C)]),(0,t.Lk)("div",w,[(0,t.Lk)("div",x,[a[6]||(a[6]=(0,t.Lk)("span",{class:"label"},"服务商级别",-1)),(0,t.Lk)("ul",D,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(r.value,((e,a)=>((0,t.uX)(),(0,t.CE)("li",{class:(0,i.C4)(["item",(0,n.R1)(m).activeLevelIndex===a?"active":""]),key:a,onClick:l=>B(e,a)},(0,i.v_)(e.label),11,A)))),128))])]),(0,t.Lk)("div",S,[a[7]||(a[7]=(0,t.Lk)("span",{class:"label"},"代理周期",-1)),(0,t.bF)(g,{placeholder:"请选择代理周期",modelValue:(0,n.R1)(m).timeLength,"onUpdate:modelValue":a[1]||(a[1]=e=>(0,n.R1)(m).timeLength=e)},{default:(0,t.k6)((()=>{var e;return[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(null===(e=p.value)||void 0===e?void 0:e.timeList,(e=>((0,t.uX)(),(0,t.Wv)(b,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))]})),_:1},8,["modelValue"])]),["ec-line"].includes((0,n.R1)(o.N9))?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("div",K,[a[9]||(a[9]=(0,t.Lk)("span",{class:"label"},"服务协议",-1)),(0,t.bF)(P,{modelValue:(0,n.R1)(m).agreementStatus,"onUpdate:modelValue":a[2]||(a[2]=e=>(0,n.R1)(m).agreementStatus=e)},{default:(0,t.k6)((()=>a[8]||(a[8]=[(0,t.eW)("我已阅读并同意")]))),_:1},8,["modelValue"]),(0,t.Lk)("span",{class:"agreement",onClick:a[3]||(a[3]=e=>(0,n.R1)(m).agreementVisible=!0)},"《数企订购协议》")]))])]),(0,t.Lk)("div",N,[(0,t.Lk)("p",W,[a[10]||(a[10]=(0,t.Lk)("span",null,"¥",-1)),(0,t.eW)((0,i.v_)((0,n.R1)(m).amount),1)]),(0,t.bF)(M,{type:"primary",color:"#0056ff",disabled:(0,n.R1)(m).existBuyFlag,onClick:T},{default:(0,t.k6)((()=>[(0,t.eW)((0,i.v_)((0,n.R1)(m).existBuyFlag?"已购买服务商":"购买服务商"),1)])),_:1},8,["disabled"])])]),(0,t.Lk)("div",X,[a[11]||(a[11]=(0,t.Lk)("h6",{class:"title"},"· 系列产品介绍",-1)),(0,t.bF)(G,{data:null===(u=p.value)||void 0===u?void 0:u.appList,border:"",style:{width:"100%"},"span-method":U},{default:(0,t.k6)((()=>[(0,t.bF)($,{label:["ec-line"].includes((0,n.R1)(o.N9))?"系列名称":"数企系列"},{default:(0,t.k6)((()=>{var e;return[(0,t.eW)((0,i.v_)(null===(e=p.value)||void 0===e?void 0:e.productName),1)]})),_:1},8,["label"]),(0,t.bF)($,{prop:"appName",label:"产品名称"}),(0,t.bF)($,{prop:"groupNames",label:"规格"}),(0,t.bF)($,{label:"代理级别"},{default:(0,t.k6)((()=>[(0,t.eW)((0,i.v_)((0,n.R1)(m).activeLevelLabel),1)])),_:1}),(0,t.bF)($,{prop:"marketPrice",label:"市场价"})])),_:1},8,["data"]),(0,t.Lk)("img",{src:null===(d=p.value)||void 0===d?void 0:d.procudtDetailImg,alt:""},null,8,E)])])]),(0,t.bF)(k["default"],{visible:(0,n.R1)(m).certificationVisible,"onUpdate:visible":a[4]||(a[4]=e=>(0,n.R1)(m).certificationVisible=e),checkAdvice:(0,n.R1)(m).checkAdvice,certificationStatus:(0,n.R1)(v)},null,8,["visible","checkAdvice","certificationStatus"]),(0,t.bF)(L,{visible:(0,n.R1)(m).agreementVisible,"onUpdate:visible":a[5]||(a[5]=e=>(0,n.R1)(m).agreementVisible=e),agreement:(0,n.R1)(m).agreement},null,8,["visible","agreement"])],64)}}});const B=(0,b.A)(P,[["__scopeId","data-v-763bdb14"]]);var M=B}}]);
//# sourceMappingURL=8672.18b601a9.js.map