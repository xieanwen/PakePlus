{"version":3,"file":"static/js/105.84282af2.js","mappings":"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","sources":["webpack://daili/./src/components/order-management/create-order/application-center/resource-list.vue?9e81","webpack://daili/./src/components/order-management/create-order/application-center/resource-list.vue","webpack://daili/./src/components/order-management/create-order/application-center/resource-list.vue?e976"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, unref as _unref, Fragment as _Fragment, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"table-container\" }\n\nimport { shallowRef, defineAsyncComponent } from \"vue\";\r\n\r\nimport { useVueRouter } from \"@/assets/useHook\";\r\n\r\nimport { customerByServeApi } from \"@api/customer-management-api\";\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'resource-list',\n  setup(__props) {\n\r\nconst RenewDialog = defineAsyncComponent(\r\n  () =>\r\n    import(\r\n      \"@/components/order-management/create-order/application-center/renew-dialog.vue\"\r\n    )\r\n);\r\n\r\nconst { routeQuery } = useVueRouter();\r\n\r\nconst renewRef = shallowRef();\r\nconst serveList = shallowRef<unknown[]>([]);\r\n// 获取已购服务列表\r\nasync function getServeList() {\r\n  try {\r\n    const params = {\r\n      companyId: routeQuery.value.companyId,\r\n    };\r\n    const { data } = await customerByServeApi.getData(params);\r\n    serveList.value = customerByServeApi.handleData(data);\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n}\r\n// 续费\r\nconst handleRenew = (info) => {\r\n  renewRef.value.toggle(true, Object.assign(info, { productType: \"resource\" }));\r\n};\r\ngetServeList();\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_table_column = _resolveComponent(\"el-table-column\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_TableEmpty = _resolveComponent(\"TableEmpty\")!\n  const _component_el_table = _resolveComponent(\"el-table\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createVNode(_component_el_table, {\n        data: serveList.value,\n        height: \"calc(100vh - 280px)\"\n      }, {\n        empty: _withCtx(() => [\n          _createVNode(_component_TableEmpty, { \"empty-text\": \"暂无产品\" })\n        ]),\n        default: _withCtx(() => [\n          _createVNode(_component_el_table_column, {\n            prop: \"combineServiceName\",\n            label: \"服务名称\",\n            align: \"center\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"owned\",\n            label: \"总数量\",\n            align: \"center\"\n          }, {\n            default: _withCtx(({ row }) => [\n              _createTextVNode(_toDisplayString(row.owned) + _toDisplayString(row.unit), 1)\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"used\",\n            label: \"已用数量\",\n            align: \"center\"\n          }, {\n            default: _withCtx(({ row }) => [\n              _createTextVNode(_toDisplayString(row.used) + _toDisplayString(row.unit), 1)\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"residue\",\n            label: \"剩余数量\",\n            align: \"center\"\n          }, {\n            default: _withCtx(({ row }) => [\n              _createTextVNode(_toDisplayString(row.residue) + _toDisplayString(row.unit), 1)\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"startTime\",\n            label: \"购买日期\",\n            align: \"center\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"endTime\",\n            label: \"到期时间\",\n            align: \"center\"\n          }),\n          _createVNode(_component_el_table_column, {\n            label: \"操作\",\n            align: \"right\"\n          }, {\n            default: _withCtx(({ row }) => [\n              (row.isRenew)\n                ? (_openBlock(), _createBlock(_component_el_button, {\n                    key: 0,\n                    link: \"\",\n                    type: \"primary\",\n                    onClick: ($event: any) => (handleRenew(row))\n                  }, {\n                    default: _withCtx(() => _cache[0] || (_cache[0] = [\n                      _createTextVNode(\"续费\")\n                    ])),\n                    _: 2\n                  }, 1032, [\"onClick\"]))\n                : _createCommentVNode(\"\", true)\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 8, [\"data\"])\n    ]),\n    _createVNode(_unref(RenewDialog), {\n      ref_key: \"renewRef\",\n      ref: renewRef\n    }, null, 512)\n  ], 64))\n}\n}\n\n})","<template>\r\n  <div class=\"table-container\">\r\n    <el-table :data=\"serveList\" height=\"calc(100vh - 280px)\">\r\n      <el-table-column\r\n        prop=\"combineServiceName\"\r\n        label=\"服务名称\"\r\n        align=\"center\"\r\n      ></el-table-column>\r\n      <el-table-column prop=\"owned\" label=\"总数量\" align=\"center\">\r\n        <template #default=\"{ row }\"> {{ row.owned }}{{ row.unit }} </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"used\" label=\"已用数量\" align=\"center\">\r\n        <template #default=\"{ row }\"> {{ row.used }}{{ row.unit }} </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"residue\" label=\"剩余数量\" align=\"center\">\r\n        <template #default=\"{ row }\">\r\n          {{ row.residue }}{{ row.unit }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"startTime\"\r\n        label=\"购买日期\"\r\n        align=\"center\"\r\n      ></el-table-column>\r\n      <el-table-column\r\n        prop=\"endTime\"\r\n        label=\"到期时间\"\r\n        align=\"center\"\r\n      ></el-table-column>\r\n      <el-table-column label=\"操作\" align=\"right\">\r\n        <template #default=\"{ row }\">\r\n          <el-button\r\n            v-if=\"row.isRenew\"\r\n            link\r\n            type=\"primary\"\r\n            @click=\"handleRenew(row)\"\r\n            >续费</el-button\r\n          >\r\n        </template>\r\n      </el-table-column>\r\n      <template #empty>\r\n        <TableEmpty empty-text=\"暂无产品\"></TableEmpty>\r\n      </template>\r\n    </el-table>\r\n  </div>\r\n  <RenewDialog ref=\"renewRef\"></RenewDialog>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport { shallowRef, defineAsyncComponent } from \"vue\";\r\n\r\nimport { useVueRouter } from \"@/assets/useHook\";\r\n\r\nimport { customerByServeApi } from \"@api/customer-management-api\";\r\n\r\nconst RenewDialog = defineAsyncComponent(\r\n  () =>\r\n    import(\r\n      \"@/components/order-management/create-order/application-center/renew-dialog.vue\"\r\n    )\r\n);\r\n\r\nconst { routeQuery } = useVueRouter();\r\n\r\nconst renewRef = shallowRef();\r\nconst serveList = shallowRef<unknown[]>([]);\r\n// 获取已购服务列表\r\nasync function getServeList() {\r\n  try {\r\n    const params = {\r\n      companyId: routeQuery.value.companyId,\r\n    };\r\n    const { data } = await customerByServeApi.getData(params);\r\n    serveList.value = customerByServeApi.handleData(data);\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n}\r\n// 续费\r\nconst handleRenew = (info) => {\r\n  renewRef.value.toggle(true, Object.assign(info, { productType: \"resource\" }));\r\n};\r\ngetServeList();\r\n</script>\r\n","import script from \"./resource-list.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./resource-list.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["_hoisted_1","class","_defineComponent","__name","setup","__props","RenewDialog","defineAsyncComponent","routeQuery","useVueRouter","renewRef","shallowRef","serveList","async","getServeList","params","companyId","value","data","customerByServeApi","getData","handleData","e","console","log","handleRenew","info","toggle","Object","assign","productType","_ctx","_cache","_component_el_table_column","_resolveComponent","_component_el_button","_component_TableEmpty","_component_el_table","_openBlock","_createElementBlock","_Fragment","_createElementVNode","_createVNode","height","empty","_withCtx","default","prop","label","align","row","_createTextVNode","_toDisplayString","owned","unit","_","used","residue","isRenew","_createBlock","key","link","type","onClick","$event","_createCommentVNode","_unref","ref_key","ref","__exports__"],"sourceRoot":""}