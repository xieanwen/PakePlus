{"version":3,"file":"static/js/1992.d40150dd.js","mappings":"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","sources":["webpack://daili/./src/views/financial-center/fund-management/fund-allocation/AddFundVoucherDrawer.vue?5565","webpack://daili/./src/views/financial-center/fund-management/fund-allocation/AddFundVoucherDrawer.vue","webpack://daili/./src/views/financial-center/fund-management/fund-allocation/AddFundVoucherDrawer.vue?6fe2","webpack://daili/./src/views/financial-center/fund-management/fund-allocation/FundAllocationDetailsDrawer.vue?1db0","webpack://daili/./src/views/financial-center/fund-management/fund-allocation/FundAllocationDetailsDrawer.vue","webpack://daili/./src/views/financial-center/fund-management/fund-allocation/FundAllocationDetailsDrawer.vue?24b8","webpack://daili/./src/views/financial-center/fund-management/fund-allocation/index.vue?4246","webpack://daili/./src/views/financial-center/fund-management/fund-allocation/index.vue","webpack://daili/./src/views/financial-center/fund-management/fund-allocation/index.vue?5a38"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, withCtx as _withCtx, createVNode as _createVNode, unref as _unref, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"form-item-inner\" }\nconst _hoisted_2 = { class: \"form-item-inner\" }\nconst _hoisted_3 = { class: \"form-item-inner\" }\n\nimport { reactive, ref, watch } from \"vue\";\r\nimport { QuestionFilled } from \"@element-plus/icons-vue\";\r\nimport { LocalStorage } from \"jz-tool-lib\";\r\nimport {\r\n  getAllUseProductApi,\r\n  issuingAgencyCashCouponApi,\r\n  myCustomerApi,\r\n} from \"@api/financial-center-api\";\r\nimport { testMoney } from \"jz-tool-lib\";\r\nimport { ElMessage } from \"element-plus\";\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'AddFundVoucherDrawer',\n  props: {\n    refresh: { type: Function }\n  },\n  setup(__props: any, { expose: __expose }) {\n\r\nconst props = __props;\r\nconst visible = ref(false);\r\nconst formData = reactive({\r\n  companyId: \"\",\r\n  couponAmount: \"\",\r\n  productIds: [\"1\"],\r\n  expTime: \"\",\r\n});\r\nconst formRef = ref();\r\nconst checkAmount = (rule, value, callback) => {\r\n  if (!testMoney(value)) {\r\n    return callback(new Error(\"请输入正确金额\"));\r\n  } else {\r\n    callback();\r\n  }\r\n};\r\nconst rules = {\r\n  companyId: [\r\n    {\r\n      required: true,\r\n      message: \"输入公司名称\",\r\n      trigger: \"blur\",\r\n    },\r\n  ],\r\n  couponAmount: [\r\n    {\r\n      required: true,\r\n      validator: checkAmount,\r\n      trigger: \"blur\",\r\n    },\r\n  ],\r\n  productIds: [\r\n    {\r\n      required: true,\r\n      message: \"请选择使用范围\",\r\n      trigger: \"blur\",\r\n    },\r\n  ],\r\n  expTime: [\r\n    {\r\n      required: true,\r\n      message: \"请选择到期时间\",\r\n      trigger: \"blur\",\r\n    },\r\n  ],\r\n};\r\nconst options = ref<Record<string, any>[]>([]);\r\nconst products = ref<Record<string, any>[]>([]);\r\nconst loading = ref(false);\r\nconst agentId = LocalStorage.getItem(\"bd_agentId\");\r\nconst userInfo = LocalStorage.getItem(\"bd_userInfo\");\r\n\r\nconst remoteMethod = (query: string) => {\r\n  if (query) {\r\n    loading.value = true;\r\n    getMyCustomer(query);\r\n  } else {\r\n    options.value = [];\r\n  }\r\n};\r\n\r\nwatch(visible, (val) => {\r\n  if (!val) {\r\n    formRef.value?.resetFields();\r\n  }\r\n});\r\n\r\nfunction handleClose() {\r\n  visible.value = false;\r\n}\r\n\r\nfunction handleProductIds() {\r\n  // 判断是否是“全部”\r\n  if (formData.productIds.includes(\"1\")) {\r\n    formData.productIds = []; // 为空，代表所有产品\r\n  }\r\n}\r\n\r\nfunction handleOk() {\r\n  formRef.value.validate((valid: boolean) => {\r\n    if (valid) {\r\n      console.log(valid, \"valid\");\r\n      handleProductIds();\r\n      issuingAgencyCashCouponApi({\r\n        agencyId: agentId,\r\n        couponAmount: formData.couponAmount,\r\n        productIds: formData.productIds,\r\n        expTime: formData.expTime,\r\n        companyId: formData.companyId,\r\n        createdBy: userInfo.profileId,\r\n        createdName: userInfo.realName,\r\n      }).then((res) => {\r\n        console.log(res, \"line 178\");\r\n        ElMessage.success(res.msg || \"操作成功\");\r\n        props.refresh?.();\r\n        formRef.value?.resetFields();\r\n        toggle(false);\r\n      });\r\n    }\r\n  });\r\n}\r\n\r\nfunction toggle(val = true) {\r\n  visible.value = val;\r\n  if (val) {\r\n    getAllUseProduct();\r\n  }\r\n}\r\n\r\nfunction getMyCustomer(companyName: string) {\r\n  myCustomerApi({\r\n    companyName,\r\n    parentId: userInfo.profileId,\r\n    page: 1,\r\n    pageSize: 50,\r\n  }).then((res) => {\r\n    console.log(res, \"line 170\");\r\n    loading.value = false;\r\n    options.value = res?.data?.records || [];\r\n  });\r\n}\r\n\r\nfunction getAllUseProduct() {\r\n  getAllUseProductApi({\r\n    agencyId: agentId,\r\n  }).then((res) => {\r\n    console.log(res, \"line 41\");\r\n    products.value = res?.data || [];\r\n  });\r\n}\r\n\r\n__expose({ toggle });\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_option = _resolveComponent(\"el-option\")!\n  const _component_el_select = _resolveComponent(\"el-select\")!\n  const _component_el_form_item = _resolveComponent(\"el-form-item\")!\n  const _component_el_input = _resolveComponent(\"el-input\")!\n  const _component_el_icon = _resolveComponent(\"el-icon\")!\n  const _component_el_tooltip = _resolveComponent(\"el-tooltip\")!\n  const _component_el_date_picker = _resolveComponent(\"el-date-picker\")!\n  const _component_el_form = _resolveComponent(\"el-form\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_drawer = _resolveComponent(\"el-drawer\")!\n\n  return (_openBlock(), _createBlock(_component_el_drawer, {\n    \"model-value\": visible.value,\n    title: \"新增资金券\",\n    size: \"500\",\n    class: \"custom-drawer\",\n    \"before-close\": handleClose\n  }, {\n    footer: _withCtx(() => [\n      _createVNode(_component_el_button, {\n        type: \"primary\",\n        onClick: handleOk\n      }, {\n        default: _withCtx(() => _cache[5] || (_cache[5] = [\n          _createTextVNode(\"确认下发\")\n        ])),\n        _: 1\n      }),\n      _createVNode(_component_el_button, {\n        onClick: _cache[4] || (_cache[4] = ($event: any) => (toggle(false)))\n      }, {\n        default: _withCtx(() => _cache[6] || (_cache[6] = [\n          _createTextVNode(\"关闭\")\n        ])),\n        _: 1\n      })\n    ]),\n    default: _withCtx(() => [\n      _createVNode(_component_el_form, {\n        ref_key: \"formRef\",\n        ref: formRef,\n        model: formData,\n        rules: rules\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_el_form_item, {\n            label: \"选择公司：\",\n            prop: \"companyId\"\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_el_select, {\n                modelValue: formData.companyId,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((formData.companyId) = $event)),\n                filterable: \"\",\n                remote: \"\",\n                \"reserve-keyword\": \"\",\n                placeholder: \"输入公司名称，在客户管理中搜索公司信息\",\n                \"remote-show-suffix\": \"\",\n                \"remote-method\": remoteMethod,\n                loading: loading.value,\n                style: {\"width\":\"360px\"}\n              }, {\n                default: _withCtx(() => [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(options.value, (item) => {\n                    return (_openBlock(), _createBlock(_component_el_option, {\n                      key: item.companyId,\n                      label: `${item.companyName} —— ${item.companyCode}`,\n                      value: item.companyId\n                    }, null, 8, [\"label\", \"value\"]))\n                  }), 128))\n                ]),\n                _: 1\n              }, 8, [\"modelValue\", \"loading\"])\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_form_item, {\n            label: \"分配金额：\",\n            prop: \"couponAmount\"\n          }, {\n            default: _withCtx(() => [\n              _createElementVNode(\"div\", _hoisted_1, [\n                _createVNode(_component_el_input, {\n                  style: {\"width\":\"360px\"},\n                  modelValue: formData.couponAmount,\n                  \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((formData.couponAmount) = $event)),\n                  placeholder: \"请输入金额\"\n                }, null, 8, [\"modelValue\"]),\n                _createVNode(_component_el_tooltip, {\n                  class: \"box-item\",\n                  effect: \"dark\",\n                  content: \"下发给客户的资金将以调拨类型从代理商余额中扣除。\",\n                  placement: \"top\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_el_icon, null, {\n                      default: _withCtx(() => [\n                        _createVNode(_unref(QuestionFilled))\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                })\n              ])\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_form_item, {\n            label: \"使用范围：\",\n            prop: \"productIds\"\n          }, {\n            default: _withCtx(() => [\n              _createElementVNode(\"div\", _hoisted_2, [\n                _createVNode(_component_el_select, {\n                  style: {\"width\":\"360px\"},\n                  modelValue: formData.productIds,\n                  \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((formData.productIds) = $event)),\n                  multiple: \"\",\n                  placeholder: \"请选择使用范围\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_el_option, {\n                      label: \"全部\",\n                      value: \"1\"\n                    }),\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(products.value, (item) => {\n                      return (_openBlock(), _createBlock(_component_el_option, {\n                        key: item.productId,\n                        label: item.productName,\n                        value: item.productId\n                      }, null, 8, [\"label\", \"value\"]))\n                    }), 128))\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\"]),\n                _createVNode(_component_el_tooltip, {\n                  class: \"box-item\",\n                  effect: \"dark\",\n                  content: \"可用来购买那些产品，如果选择全部，则可以用来支付代理商代理的全部产品。\",\n                  placement: \"top\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_el_icon, null, {\n                      default: _withCtx(() => [\n                        _createVNode(_unref(QuestionFilled))\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                })\n              ])\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_form_item, {\n            label: \"到期时间：\",\n            prop: \"expTime\"\n          }, {\n            default: _withCtx(() => [\n              _createElementVNode(\"div\", _hoisted_3, [\n                _createVNode(_component_el_date_picker, {\n                  style: {\"width\":\"360px\"},\n                  modelValue: formData.expTime,\n                  \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((formData.expTime) = $event)),\n                  type: \"datetime\",\n                  placeholder: \"请选择到期时间\",\n                  \"value-format\": \"YYYY-MM-DD HH:mm:ss\"\n                }, null, 8, [\"modelValue\"]),\n                _createVNode(_component_el_tooltip, {\n                  class: \"box-item\",\n                  effect: \"dark\",\n                  content: \"券到期后，自动退回到代理商余额中。\",\n                  placement: \"top\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_el_icon, null, {\n                      default: _withCtx(() => [\n                        _createVNode(_unref(QuestionFilled))\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                })\n              ])\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 8, [\"model\"])\n    ]),\n    _: 1\n  }, 8, [\"model-value\"]))\n}\n}\n\n})","<script setup lang=\"ts\">\r\nimport { reactive, ref, watch } from \"vue\";\r\nimport { QuestionFilled } from \"@element-plus/icons-vue\";\r\nimport { LocalStorage } from \"jz-tool-lib\";\r\nimport {\r\n  getAllUseProductApi,\r\n  issuingAgencyCashCouponApi,\r\n  myCustomerApi,\r\n} from \"@api/financial-center-api\";\r\nimport { testMoney } from \"jz-tool-lib\";\r\nimport { ElMessage } from \"element-plus\";\r\n\r\nconst props = defineProps<{\r\n  refresh: () => void;\r\n}>();\r\nconst visible = ref(false);\r\nconst formData = reactive({\r\n  companyId: \"\",\r\n  couponAmount: \"\",\r\n  productIds: [\"1\"],\r\n  expTime: \"\",\r\n});\r\nconst formRef = ref();\r\nconst checkAmount = (rule, value, callback) => {\r\n  if (!testMoney(value)) {\r\n    return callback(new Error(\"请输入正确金额\"));\r\n  } else {\r\n    callback();\r\n  }\r\n};\r\nconst rules = {\r\n  companyId: [\r\n    {\r\n      required: true,\r\n      message: \"输入公司名称\",\r\n      trigger: \"blur\",\r\n    },\r\n  ],\r\n  couponAmount: [\r\n    {\r\n      required: true,\r\n      validator: checkAmount,\r\n      trigger: \"blur\",\r\n    },\r\n  ],\r\n  productIds: [\r\n    {\r\n      required: true,\r\n      message: \"请选择使用范围\",\r\n      trigger: \"blur\",\r\n    },\r\n  ],\r\n  expTime: [\r\n    {\r\n      required: true,\r\n      message: \"请选择到期时间\",\r\n      trigger: \"blur\",\r\n    },\r\n  ],\r\n};\r\nconst options = ref<Record<string, any>[]>([]);\r\nconst products = ref<Record<string, any>[]>([]);\r\nconst loading = ref(false);\r\nconst agentId = LocalStorage.getItem(\"bd_agentId\");\r\nconst userInfo = LocalStorage.getItem(\"bd_userInfo\");\r\n\r\nconst remoteMethod = (query: string) => {\r\n  if (query) {\r\n    loading.value = true;\r\n    getMyCustomer(query);\r\n  } else {\r\n    options.value = [];\r\n  }\r\n};\r\n\r\nwatch(visible, (val) => {\r\n  if (!val) {\r\n    formRef.value?.resetFields();\r\n  }\r\n});\r\n\r\nfunction handleClose() {\r\n  visible.value = false;\r\n}\r\n\r\nfunction handleProductIds() {\r\n  // 判断是否是“全部”\r\n  if (formData.productIds.includes(\"1\")) {\r\n    formData.productIds = []; // 为空，代表所有产品\r\n  }\r\n}\r\n\r\nfunction handleOk() {\r\n  formRef.value.validate((valid: boolean) => {\r\n    if (valid) {\r\n      console.log(valid, \"valid\");\r\n      handleProductIds();\r\n      issuingAgencyCashCouponApi({\r\n        agencyId: agentId,\r\n        couponAmount: formData.couponAmount,\r\n        productIds: formData.productIds,\r\n        expTime: formData.expTime,\r\n        companyId: formData.companyId,\r\n        createdBy: userInfo.profileId,\r\n        createdName: userInfo.realName,\r\n      }).then((res) => {\r\n        console.log(res, \"line 178\");\r\n        ElMessage.success(res.msg || \"操作成功\");\r\n        props.refresh?.();\r\n        formRef.value?.resetFields();\r\n        toggle(false);\r\n      });\r\n    }\r\n  });\r\n}\r\n\r\nfunction toggle(val = true) {\r\n  visible.value = val;\r\n  if (val) {\r\n    getAllUseProduct();\r\n  }\r\n}\r\n\r\nfunction getMyCustomer(companyName: string) {\r\n  myCustomerApi({\r\n    companyName,\r\n    parentId: userInfo.profileId,\r\n    page: 1,\r\n    pageSize: 50,\r\n  }).then((res) => {\r\n    console.log(res, \"line 170\");\r\n    loading.value = false;\r\n    options.value = res?.data?.records || [];\r\n  });\r\n}\r\n\r\nfunction getAllUseProduct() {\r\n  getAllUseProductApi({\r\n    agencyId: agentId,\r\n  }).then((res) => {\r\n    console.log(res, \"line 41\");\r\n    products.value = res?.data || [];\r\n  });\r\n}\r\n\r\ndefineExpose({ toggle });\r\n</script>\r\n\r\n<template>\r\n  <el-drawer\r\n    :model-value=\"visible\"\r\n    title=\"新增资金券\"\r\n    size=\"500\"\r\n    class=\"custom-drawer\"\r\n    :before-close=\"handleClose\"\r\n  >\r\n    <el-form ref=\"formRef\" :model=\"formData\" :rules=\"rules\">\r\n      <el-form-item label=\"选择公司：\" prop=\"companyId\">\r\n        <el-select\r\n          v-model=\"formData.companyId\"\r\n          filterable\r\n          remote\r\n          reserve-keyword\r\n          placeholder=\"输入公司名称，在客户管理中搜索公司信息\"\r\n          remote-show-suffix\r\n          :remote-method=\"remoteMethod\"\r\n          :loading=\"loading\"\r\n          style=\"width: 360px\"\r\n        >\r\n          <el-option\r\n            v-for=\"item in options\"\r\n            :key=\"item.companyId\"\r\n            :label=\"`${item.companyName} —— ${item.companyCode}`\"\r\n            :value=\"item.companyId\"\r\n          />\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"分配金额：\" prop=\"couponAmount\">\r\n        <div class=\"form-item-inner\">\r\n          <el-input\r\n            style=\"width: 360px\"\r\n            v-model=\"formData.couponAmount\"\r\n            placeholder=\"请输入金额\"\r\n          />\r\n          <el-tooltip\r\n            class=\"box-item\"\r\n            effect=\"dark\"\r\n            content=\"下发给客户的资金将以调拨类型从代理商余额中扣除。\"\r\n            placement=\"top\"\r\n          >\r\n            <el-icon><QuestionFilled /></el-icon>\r\n          </el-tooltip>\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item label=\"使用范围：\" prop=\"productIds\">\r\n        <div class=\"form-item-inner\">\r\n          <el-select\r\n            style=\"width: 360px\"\r\n            v-model=\"formData.productIds\"\r\n            multiple\r\n            placeholder=\"请选择使用范围\"\r\n          >\r\n            <el-option label=\"全部\" value=\"1\"></el-option>\r\n            <el-option\r\n              v-for=\"item of products\"\r\n              :key=\"item.productId\"\r\n              :label=\"item.productName\"\r\n              :value=\"item.productId\"\r\n            ></el-option>\r\n          </el-select>\r\n          <el-tooltip\r\n            class=\"box-item\"\r\n            effect=\"dark\"\r\n            content=\"可用来购买那些产品，如果选择全部，则可以用来支付代理商代理的全部产品。\"\r\n            placement=\"top\"\r\n          >\r\n            <el-icon><QuestionFilled /></el-icon>\r\n          </el-tooltip>\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item label=\"到期时间：\" prop=\"expTime\">\r\n        <div class=\"form-item-inner\">\r\n          <el-date-picker\r\n            style=\"width: 360px\"\r\n            v-model=\"formData.expTime\"\r\n            type=\"datetime\"\r\n            placeholder=\"请选择到期时间\"\r\n            value-format=\"YYYY-MM-DD HH:mm:ss\"\r\n          />\r\n          <el-tooltip\r\n            class=\"box-item\"\r\n            effect=\"dark\"\r\n            content=\"券到期后，自动退回到代理商余额中。\"\r\n            placement=\"top\"\r\n          >\r\n            <el-icon><QuestionFilled /></el-icon>\r\n          </el-tooltip>\r\n        </div>\r\n      </el-form-item>\r\n    </el-form>\r\n    <template #footer>\r\n      <el-button type=\"primary\" @click=\"handleOk\">确认下发</el-button>\r\n      <el-button @click=\"toggle(false)\">关闭</el-button>\r\n    </template>\r\n  </el-drawer>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n.form-item-inner {\r\n  display: flex;\r\n  align-items: center;\r\n  column-gap: 10px;\r\n  :deep(.el-icon) {\r\n    color: #9ca6b9;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./AddFundVoucherDrawer.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./AddFundVoucherDrawer.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./AddFundVoucherDrawer.vue?vue&type=style&index=0&id=dfe2187c&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../../node_modules/.pnpm/vue-loader@17.4.2_@vue+compiler-sfc@3.5.13_vue@3.5.13_typescript@5.7.2__webpack@5.97.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-dfe2187c\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport { ref } from \"vue\";\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'FundAllocationDetailsDrawer',\n  props: {\n    info: {}\n  },\n  setup(__props: any, { expose: __expose }) {\n\r\nconst props = __props;\r\n\r\nconst visible = ref(false);\r\n\r\nfunction handleClose() {\r\n  visible.value = false;\r\n}\r\n\r\nfunction handleMoney(val: any) {\r\n  return val ? `${val}￥` : \"-\";\r\n}\r\n\r\nfunction toggle(val = true) {\r\n  visible.value = val;\r\n}\r\n\r\n__expose({ toggle });\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_form_item = _resolveComponent(\"el-form-item\")!\n  const _component_el_form = _resolveComponent(\"el-form\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_drawer = _resolveComponent(\"el-drawer\")!\n\n  return (_openBlock(), _createBlock(_component_el_drawer, {\n    \"model-value\": visible.value,\n    title: \"查看使用情况\",\n    size: \"600\",\n    class: \"custom-drawer\",\n    \"before-close\": handleClose\n  }, {\n    footer: _withCtx(() => [\n      _createVNode(_component_el_button, {\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (toggle(false)))\n      }, {\n        default: _withCtx(() => _cache[1] || (_cache[1] = [\n          _createTextVNode(\"关闭\")\n        ])),\n        _: 1\n      })\n    ]),\n    default: _withCtx(() => [\n      _createVNode(_component_el_form, null, {\n        default: _withCtx(() => [\n          _createVNode(_component_el_form_item, { label: \"选择公司：\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(_toDisplayString(props.info.companyName || \"-\"), 1)\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_form_item, { label: \"分配金额：\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(_toDisplayString(handleMoney(props.info.couponAmount)), 1)\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_form_item, { label: \"订单编号：\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(_toDisplayString(props.info.orderNo), 1)\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_form_item, { label: \"订单金额：\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(_toDisplayString(handleMoney(props.info.orderAmount)), 1)\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_form_item, { label: \"资金券使用：\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(_toDisplayString(handleMoney(props.info.useAmount)), 1)\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_form_item, { label: \"客户余额使用：\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(_toDisplayString(handleMoney(props.info.balanceAmount)), 1)\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }, 8, [\"model-value\"]))\n}\n}\n\n})","<script setup lang=\"ts\">\r\nimport { ref } from \"vue\";\r\n\r\nconst props = defineProps<{\r\n  info: Record<string, any>;\r\n}>();\r\n\r\nconst visible = ref(false);\r\n\r\nfunction handleClose() {\r\n  visible.value = false;\r\n}\r\n\r\nfunction handleMoney(val: any) {\r\n  return val ? `${val}￥` : \"-\";\r\n}\r\n\r\nfunction toggle(val = true) {\r\n  visible.value = val;\r\n}\r\n\r\ndefineExpose({ toggle });\r\n</script>\r\n\r\n<template>\r\n  <el-drawer\r\n    :model-value=\"visible\"\r\n    title=\"查看使用情况\"\r\n    size=\"600\"\r\n    class=\"custom-drawer\"\r\n    :before-close=\"handleClose\"\r\n  >\r\n    <el-form>\r\n      <el-form-item label=\"选择公司：\">\r\n        {{ props.info.companyName || \"-\" }}\r\n      </el-form-item>\r\n      <el-form-item label=\"分配金额：\">\r\n        {{ handleMoney(props.info.couponAmount) }}\r\n      </el-form-item>\r\n      <el-form-item label=\"订单编号：\">\r\n        {{ props.info.orderNo }}\r\n      </el-form-item>\r\n      <el-form-item label=\"订单金额：\">\r\n        {{ handleMoney(props.info.orderAmount) }}\r\n      </el-form-item>\r\n      <el-form-item label=\"资金券使用：\">\r\n        {{ handleMoney(props.info.useAmount) }}\r\n      </el-form-item>\r\n      <el-form-item label=\"客户余额使用：\">\r\n        {{ handleMoney(props.info.balanceAmount) }}\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n    <template #footer>\r\n      <el-button @click=\"toggle(false)\">关闭</el-button>\r\n    </template>\r\n  </el-drawer>\r\n</template>\r\n\r\n<style scoped lang=\"scss\"></style>\r\n","import script from \"./FundAllocationDetailsDrawer.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./FundAllocationDetailsDrawer.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createVNode as _createVNode, unref as _unref, withCtx as _withCtx, createTextVNode as _createTextVNode, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"fund-allocation-page\" }\nconst _hoisted_2 = { class: \"table-container\" }\nconst _hoisted_3 = { key: 2 }\n\nimport { nextTick, reactive, ref } from \"vue\";\r\nimport { QuestionFilled } from \"@element-plus/icons-vue\";\r\nimport AddFundVoucherDrawer from \"@views/financial-center/fund-management/fund-allocation/AddFundVoucherDrawer.vue\";\r\nimport FundAllocationDetailsDrawer from \"@views/financial-center/fund-management/fund-allocation/FundAllocationDetailsDrawer.vue\";\r\nimport { ElMessage, ElMessageBox } from \"element-plus\";\r\nimport { LocalStorage, usePage } from \"jz-tool-lib\";\r\nimport {\r\n  pageForCashCouponApi,\r\n  recoveryAgencyCashCouponApi,\r\n} from \"@api/financial-center-api\";\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\r\nconst activeName = ref(\"1\");\r\nconst addFundVoucherDrawerRef = ref();\r\nconst fundAllocationDetailsDrawerRef = ref();\r\nconst currentRow = ref({});\r\n\r\nconst tabs = [\r\n  {\r\n    label: \"待使用\",\r\n    name: \"1\",\r\n  },\r\n  {\r\n    label: \"已使用\",\r\n    name: \"2\",\r\n  },\r\n  {\r\n    label: \"已过期\",\r\n    name: \"3\",\r\n  },\r\n  {\r\n    label: \"全部\",\r\n    name: \"\",\r\n  },\r\n];\r\n\r\nconst agentId = LocalStorage.getItem(\"bd_agentId\");\r\nconst { pageNumberChange, pageSizeChange, pageData, getList, resetPageNumber } =\r\n  usePage({\r\n    listApi: pageForCashCouponApi,\r\n    props: {\r\n      pageNumber: \"current\",\r\n      pageSize: \"size\",\r\n    },\r\n    searchParams() {\r\n      return {\r\n        agencyId: agentId,\r\n        status: activeName.value,\r\n        page: pageData.pageNumber,\r\n        pageSize: pageData.pageSize,\r\n        companyName: formData.companyName,\r\n        companyCode: formData.companyCode,\r\n      };\r\n    },\r\n    notExecute: true,\r\n  });\r\n\r\nconst formData = reactive({\r\n  companyName: \"\",\r\n  companyCode: \"\",\r\n});\r\n\r\nfunction viewDetails(row) {\r\n  currentRow.value = row;\r\n  nextTick(() => {\r\n    fundAllocationDetailsDrawerRef.value.toggle();\r\n  });\r\n}\r\n\r\nfunction handleRetrieve(row) {\r\n  ElMessageBox.confirm(\r\n    \"回收资金券后客户不可再使用该金额在服务市场下单。\",\r\n    \"确认回收资金券\",\r\n    {\r\n      confirmButtonText: \"确定\",\r\n      cancelButtonText: \"取消\",\r\n      type: \"warning\",\r\n    }\r\n  ).then(() => {\r\n    recoveryAgencyCashCouponApi({\r\n      couponId: row.id,\r\n    }).then((res) => {\r\n      ElMessage.success(res.msg || \"收回成功\");\r\n    });\r\n  });\r\n  // MessageBox({\r\n  //   title: \"确认回收资金券\",\r\n  //   content: \"回收资金券后客户不可再使用该金额在服务市场下单。\",\r\n  //   type: \"warning\",\r\n  //   okText: \"确定\",\r\n  //   cancelText: \"取消\",\r\n  //   onOk() {\r\n  //     console.log(\"确认回收资金券\");\r\n  //     recoveryAgencyCashCouponApi({\r\n  //       couponId: row.id,\r\n  //     }).then((res) => {\r\n  //       console.log(res, \"175\");\r\n  //       ElMessage.success(res.msg || \"收回成功\");\r\n  //       getList();\r\n  //     });\r\n  //   },\r\n  //   onCancel() {\r\n  //     console.log(\"取消回收资金券\");\r\n  //   },\r\n  // });\r\n  //\r\n}\r\n\r\ngetList();\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_tab_pane = _resolveComponent(\"el-tab-pane\")!\n  const _component_el_tabs = _resolveComponent(\"el-tabs\")!\n  const _component_el_input = _resolveComponent(\"el-input\")!\n  const _component_el_form_item = _resolveComponent(\"el-form-item\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_form = _resolveComponent(\"el-form\")!\n  const _component_el_table_column = _resolveComponent(\"el-table-column\")!\n  const _component_el_icon = _resolveComponent(\"el-icon\")!\n  const _component_el_tooltip = _resolveComponent(\"el-tooltip\")!\n  const _component_el_link = _resolveComponent(\"el-link\")!\n  const _component_TableEmpty = _resolveComponent(\"TableEmpty\")!\n  const _component_el_table = _resolveComponent(\"el-table\")!\n  const _component_PagePagination = _resolveComponent(\"PagePagination\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createVNode(_component_el_tabs, {\n        modelValue: activeName.value,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((activeName).value = $event)),\n        class: \"no-border-tabs\",\n        onTabChange: _unref(getList)\n      }, {\n        default: _withCtx(() => [\n          (_openBlock(), _createElementBlock(_Fragment, null, _renderList(tabs, (item) => {\n            return _createVNode(_component_el_tab_pane, {\n              key: item.name,\n              label: item.label,\n              name: item.name\n            }, null, 8, [\"label\", \"name\"])\n          }), 64))\n        ]),\n        _: 1\n      }, 8, [\"modelValue\", \"onTabChange\"]),\n      _createVNode(_component_el_form, {\n        class: \"modify-form-style\",\n        inline: true,\n        model: formData\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_el_form_item, { label: \"企业名称：\" }, {\n            default: _withCtx(() => [\n              _createVNode(_component_el_input, {\n                modelValue: formData.companyName,\n                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((formData.companyName) = $event)),\n                placeholder: \"请输入企业名称\"\n              }, null, 8, [\"modelValue\"])\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_form_item, { label: \"企业代码：\" }, {\n            default: _withCtx(() => [\n              _createVNode(_component_el_input, {\n                modelValue: formData.companyCode,\n                \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((formData.companyCode) = $event)),\n                placeholder: \"请输入企业代码\"\n              }, null, 8, [\"modelValue\"])\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_form_item, null, {\n            default: _withCtx(() => [\n              _createVNode(_component_el_button, {\n                type: \"primary\",\n                onClick: _unref(getList)\n              }, {\n                default: _withCtx(() => _cache[3] || (_cache[3] = [\n                  _createTextVNode(\"搜索\")\n                ])),\n                _: 1\n              }, 8, [\"onClick\"]),\n              _createVNode(_component_el_button, {\n                type: \"primary\",\n                onClick: addFundVoucherDrawerRef.value?.toggle\n              }, {\n                default: _withCtx(() => _cache[4] || (_cache[4] = [\n                  _createTextVNode(\"下发资金券 \")\n                ])),\n                _: 1\n              }, 8, [\"onClick\"])\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 8, [\"model\"]),\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createVNode(_component_el_table, {\n          data: _unref(pageData).list,\n          height: \"calc(100vh - 280px)\"\n        }, {\n          empty: _withCtx(() => [\n            _createVNode(_component_TableEmpty)\n          ]),\n          default: _withCtx(() => [\n            _createVNode(_component_el_table_column, {\n              prop: \"companyName\",\n              label: \"企业名称\",\n              \"min-width\": \"200\"\n            }),\n            _createVNode(_component_el_table_column, {\n              prop: \"companyCode\",\n              label: \"企业代码\",\n              width: \"130\"\n            }),\n            _createVNode(_component_el_table_column, {\n              prop: \"couponAmount\",\n              label: \"代金券金额\",\n              width: \"160\"\n            }),\n            _createVNode(_component_el_table_column, {\n              prop: \"statusText\",\n              label: \"使用状态\",\n              width: \"130\"\n            }),\n            _createVNode(_component_el_table_column, {\n              prop: \"useAmount\",\n              label: \"实际使用金额\",\n              width: \"180\"\n            }, {\n              header: _withCtx(() => [\n                _cache[5] || (_cache[5] = _createTextVNode(\" 实际使用金额 \")),\n                _createVNode(_component_el_tooltip, {\n                  class: \"box-item\",\n                  effect: \"dark\",\n                  content: \"代金券只能使用一次，使用后产生了多余金额，退回 代理商余额中。\",\n                  placement: \"top\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_el_icon, null, {\n                      default: _withCtx(() => [\n                        _createVNode(_unref(QuestionFilled))\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_el_table_column, {\n              prop: \"useTime\",\n              label: \"实际使用时间\",\n              width: \"200\"\n            }),\n            _createVNode(_component_el_table_column, {\n              prop: \"createdName\",\n              label: \"创建人\",\n              width: \"160\"\n            }),\n            _createVNode(_component_el_table_column, {\n              prop: \"createdTime\",\n              label: \"创建时间\",\n              width: \"200\"\n            }),\n            _createVNode(_component_el_table_column, {\n              prop: \"companyName\",\n              label: \"操作\",\n              width: \"120\"\n            }, {\n              default: _withCtx(({ row }) => [\n                (row.status === 1)\n                  ? (_openBlock(), _createBlock(_component_el_link, {\n                      key: 0,\n                      type: \"primary\",\n                      onClick: ($event: any) => (handleRetrieve(row))\n                    }, {\n                      default: _withCtx(() => _cache[6] || (_cache[6] = [\n                        _createTextVNode(\" 收回 \")\n                      ])),\n                      _: 2\n                    }, 1032, [\"onClick\"]))\n                  : (row.status === 2)\n                    ? (_openBlock(), _createBlock(_component_el_link, {\n                        key: 1,\n                        type: \"primary\",\n                        onClick: ($event: any) => (viewDetails(row))\n                      }, {\n                        default: _withCtx(() => _cache[7] || (_cache[7] = [\n                          _createTextVNode(\" 查看 \")\n                        ])),\n                        _: 2\n                      }, 1032, [\"onClick\"]))\n                    : (_openBlock(), _createElementBlock(\"span\", _hoisted_3, \"-\"))\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"data\"]),\n        _createVNode(_component_PagePagination, {\n          pageTotal: _unref(pageData).pageTotal,\n          pageSize: _unref(pageData).pageSize,\n          pageNumber: _unref(pageData).pageNumber,\n          onEmitPageSizeChange: _unref(pageSizeChange),\n          onEmitPageNumberChange: _unref(pageNumberChange)\n        }, null, 8, [\"pageTotal\", \"pageSize\", \"pageNumber\", \"onEmitPageSizeChange\", \"onEmitPageNumberChange\"])\n      ])\n    ]),\n    _createVNode(AddFundVoucherDrawer, {\n      ref_key: \"addFundVoucherDrawerRef\",\n      ref: addFundVoucherDrawerRef,\n      refresh: _unref(getList)\n    }, null, 8, [\"refresh\"]),\n    _createVNode(FundAllocationDetailsDrawer, {\n      info: currentRow.value,\n      ref_key: \"fundAllocationDetailsDrawerRef\",\n      ref: fundAllocationDetailsDrawerRef\n    }, null, 8, [\"info\"])\n  ], 64))\n}\n}\n\n})","<template>\r\n  <div class=\"fund-allocation-page\">\r\n    <el-tabs v-model=\"activeName\" class=\"no-border-tabs\" @tab-change=\"getList\">\r\n      <el-tab-pane\r\n        v-for=\"item of tabs\"\r\n        :key=\"item.name\"\r\n        :label=\"item.label\"\r\n        :name=\"item.name\"\r\n      />\r\n    </el-tabs>\r\n\r\n    <el-form class=\"modify-form-style\" :inline=\"true\" :model=\"formData\">\r\n      <el-form-item label=\"企业名称：\">\r\n        <el-input v-model=\"formData.companyName\" placeholder=\"请输入企业名称\" />\r\n      </el-form-item>\r\n      <el-form-item label=\"企业代码：\">\r\n        <el-input v-model=\"formData.companyCode\" placeholder=\"请输入企业代码\" />\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"getList\">搜索</el-button>\r\n        <el-button type=\"primary\" @click=\"addFundVoucherDrawerRef?.toggle\"\r\n          >下发资金券\r\n        </el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n    <div class=\"table-container\">\r\n      <el-table :data=\"pageData.list\" height=\"calc(100vh - 280px)\">\r\n        <el-table-column prop=\"companyName\" label=\"企业名称\" min-width=\"200\" />\r\n        <el-table-column prop=\"companyCode\" label=\"企业代码\" width=\"130\" />\r\n        <el-table-column prop=\"couponAmount\" label=\"代金券金额\" width=\"160\" />\r\n        <el-table-column prop=\"statusText\" label=\"使用状态\" width=\"130\" />\r\n        <el-table-column prop=\"useAmount\" label=\"实际使用金额\" width=\"180\">\r\n          <template #header>\r\n            实际使用金额\r\n            <el-tooltip\r\n              class=\"box-item\"\r\n              effect=\"dark\"\r\n              content=\"代金券只能使用一次，使用后产生了多余金额，退回 代理商余额中。\"\r\n              placement=\"top\"\r\n            >\r\n              <el-icon>\r\n                <QuestionFilled />\r\n              </el-icon>\r\n            </el-tooltip>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"useTime\" label=\"实际使用时间\" width=\"200\" />\r\n        <el-table-column prop=\"createdName\" label=\"创建人\" width=\"160\" />\r\n        <el-table-column prop=\"createdTime\" label=\"创建时间\" width=\"200\" />\r\n        <el-table-column prop=\"companyName\" label=\"操作\" width=\"120\">\r\n          <template #default=\"{ row }\">\r\n            <el-link\r\n              v-if=\"row.status === 1\"\r\n              type=\"primary\"\r\n              @click=\"handleRetrieve(row)\"\r\n            >\r\n              收回\r\n            </el-link>\r\n            <el-link\r\n              v-else-if=\"row.status === 2\"\r\n              type=\"primary\"\r\n              @click=\"viewDetails(row)\"\r\n            >\r\n              查看\r\n            </el-link>\r\n            <span v-else>-</span>\r\n          </template>\r\n        </el-table-column>\r\n        <template #empty>\r\n          <TableEmpty />\r\n        </template>\r\n      </el-table>\r\n\r\n      <PagePagination\r\n        :pageTotal=\"pageData.pageTotal\"\r\n        :pageSize=\"pageData.pageSize\"\r\n        :pageNumber=\"pageData.pageNumber\"\r\n        @emitPageSizeChange=\"pageSizeChange\"\r\n        @emitPageNumberChange=\"pageNumberChange\"\r\n      ></PagePagination>\r\n    </div>\r\n  </div>\r\n\r\n  <AddFundVoucherDrawer ref=\"addFundVoucherDrawerRef\" :refresh=\"getList\" />\r\n\r\n  <FundAllocationDetailsDrawer\r\n    :info=\"currentRow\"\r\n    ref=\"fundAllocationDetailsDrawerRef\"\r\n  />\r\n</template>\r\n<script setup lang=\"ts\">\r\nimport { nextTick, reactive, ref } from \"vue\";\r\nimport { QuestionFilled } from \"@element-plus/icons-vue\";\r\nimport AddFundVoucherDrawer from \"@views/financial-center/fund-management/fund-allocation/AddFundVoucherDrawer.vue\";\r\nimport FundAllocationDetailsDrawer from \"@views/financial-center/fund-management/fund-allocation/FundAllocationDetailsDrawer.vue\";\r\nimport { ElMessage, ElMessageBox } from \"element-plus\";\r\nimport { LocalStorage, usePage } from \"jz-tool-lib\";\r\nimport {\r\n  pageForCashCouponApi,\r\n  recoveryAgencyCashCouponApi,\r\n} from \"@api/financial-center-api\";\r\n\r\nconst activeName = ref(\"1\");\r\nconst addFundVoucherDrawerRef = ref();\r\nconst fundAllocationDetailsDrawerRef = ref();\r\nconst currentRow = ref({});\r\n\r\nconst tabs = [\r\n  {\r\n    label: \"待使用\",\r\n    name: \"1\",\r\n  },\r\n  {\r\n    label: \"已使用\",\r\n    name: \"2\",\r\n  },\r\n  {\r\n    label: \"已过期\",\r\n    name: \"3\",\r\n  },\r\n  {\r\n    label: \"全部\",\r\n    name: \"\",\r\n  },\r\n];\r\n\r\nconst agentId = LocalStorage.getItem(\"bd_agentId\");\r\nconst { pageNumberChange, pageSizeChange, pageData, getList, resetPageNumber } =\r\n  usePage({\r\n    listApi: pageForCashCouponApi,\r\n    props: {\r\n      pageNumber: \"current\",\r\n      pageSize: \"size\",\r\n    },\r\n    searchParams() {\r\n      return {\r\n        agencyId: agentId,\r\n        status: activeName.value,\r\n        page: pageData.pageNumber,\r\n        pageSize: pageData.pageSize,\r\n        companyName: formData.companyName,\r\n        companyCode: formData.companyCode,\r\n      };\r\n    },\r\n    notExecute: true,\r\n  });\r\n\r\nconst formData = reactive({\r\n  companyName: \"\",\r\n  companyCode: \"\",\r\n});\r\n\r\nfunction viewDetails(row) {\r\n  currentRow.value = row;\r\n  nextTick(() => {\r\n    fundAllocationDetailsDrawerRef.value.toggle();\r\n  });\r\n}\r\n\r\nfunction handleRetrieve(row) {\r\n  ElMessageBox.confirm(\r\n    \"回收资金券后客户不可再使用该金额在服务市场下单。\",\r\n    \"确认回收资金券\",\r\n    {\r\n      confirmButtonText: \"确定\",\r\n      cancelButtonText: \"取消\",\r\n      type: \"warning\",\r\n    }\r\n  ).then(() => {\r\n    recoveryAgencyCashCouponApi({\r\n      couponId: row.id,\r\n    }).then((res) => {\r\n      ElMessage.success(res.msg || \"收回成功\");\r\n    });\r\n  });\r\n  // MessageBox({\r\n  //   title: \"确认回收资金券\",\r\n  //   content: \"回收资金券后客户不可再使用该金额在服务市场下单。\",\r\n  //   type: \"warning\",\r\n  //   okText: \"确定\",\r\n  //   cancelText: \"取消\",\r\n  //   onOk() {\r\n  //     console.log(\"确认回收资金券\");\r\n  //     recoveryAgencyCashCouponApi({\r\n  //       couponId: row.id,\r\n  //     }).then((res) => {\r\n  //       console.log(res, \"175\");\r\n  //       ElMessage.success(res.msg || \"收回成功\");\r\n  //       getList();\r\n  //     });\r\n  //   },\r\n  //   onCancel() {\r\n  //     console.log(\"取消回收资金券\");\r\n  //   },\r\n  // });\r\n  //\r\n}\r\n\r\ngetList();\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.fund-allocation-page {\r\n  position: relative;\r\n}\r\n\r\n.modify-form-style {\r\n  position: absolute;\r\n  top: 0;\r\n  right: -12px;\r\n\r\n  :deep(.el-form-item) {\r\n    margin-right: 12px;\r\n    margin-bottom: 0;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=bcbb504e&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../../node_modules/.pnpm/vue-loader@17.4.2_@vue+compiler-sfc@3.5.13_vue@3.5.13_typescript@5.7.2__webpack@5.97.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-bcbb504e\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","_defineComponent","__name","props","refresh","type","Function","setup","__props","expose","__expose","visible","ref","formData","reactive","companyId","couponAmount","productIds","expTime","formRef","checkAmount","rule","value","callback","testMoney","Error","rules","required","message","trigger","validator","options","products","loading","agentId","LocalStorage","getItem","userInfo","remoteMethod","query","getMyCustomer","handleClose","handleProductIds","includes","handleOk","validate","valid","console","log","issuingAgencyCashCouponApi","agencyId","createdBy","profileId","createdName","realName","then","res","_props$refresh","_formRef$value2","ElMessage","success","msg","call","resetFields","toggle","val","getAllUseProduct","companyName","myCustomerApi","parentId","page","pageSize","_res$data","data","records","getAllUseProductApi","watch","_formRef$value","_ctx","_cache","_component_el_option","_resolveComponent","_component_el_select","_component_el_form_item","_component_el_input","_component_el_icon","_component_el_tooltip","_component_el_date_picker","_component_el_form","_component_el_button","_component_el_drawer","_openBlock","_createBlock","title","size","footer","_withCtx","_createVNode","onClick","default","_createTextVNode","_","$event","ref_key","model","label","prop","modelValue","filterable","remote","placeholder","style","_createElementBlock","_Fragment","_renderList","item","key","companyCode","_createElementVNode","effect","content","placement","_unref","QuestionFilled","multiple","productId","productName","__exports__","info","handleMoney","_toDisplayString","orderNo","orderAmount","useAmount","balanceAmount","activeName","addFundVoucherDrawerRef","fundAllocationDetailsDrawerRef","currentRow","tabs","name","pageNumberChange","pageSizeChange","pageData","getList","resetPageNumber","usePage","listApi","pageForCashCouponApi","pageNumber","searchParams","status","notExecute","viewDetails","row","nextTick","handleRetrieve","ElMessageBox","confirm","confirmButtonText","cancelButtonText","recoveryAgencyCashCouponApi","couponId","id","_component_el_tab_pane","_component_el_tabs","_component_el_table_column","_component_el_link","_component_TableEmpty","_component_el_table","_component_PagePagination","onTabChange","inline","_addFundVoucherDrawer","list","height","empty","width","header","pageTotal","onEmitPageSizeChange","onEmitPageNumberChange","AddFundVoucherDrawer","FundAllocationDetailsDrawer"],"sourceRoot":""}