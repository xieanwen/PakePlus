"use strict";(self["webpackChunkdaili"]=self["webpackChunkdaili"]||[]).push([[3138],{93138:function(e,a,t){t.r(a),t.d(a,{default:function(){return R}});var n=t(6254),l=t(25598),i=t(55533),o=t(38627),u=(t(59259),t(6934),t(7080)),p=t(91373),r=t(88365),d=t(616),s=t(10901),c=t(49211),m=t(35287);const g={class:"report"},b={class:"form-container"},y={class:"search-box"},f={class:"table-container"};var k=(0,n.pM)({name:"businessManagement.ospreyCloudCall.report.list",__name:"list",setup(e){const a=(0,n.$V)((()=>t.e(3677).then(t.bind(t,13677)))),k=(0,n.$V)((()=>Promise.all([t.e(2076),t.e(4657)]).then(t.bind(t,44657)))),C=(0,n.$V)((()=>Promise.all([t.e(2076),t.e(8196)]).then(t.bind(t,8196)))),v=(0,n.$V)((()=>Promise.all([t.e(2076),t.e(3955)]).then(t.bind(t,83955)))),R=(0,n.$V)((()=>t.e(9663).then(t.bind(t,49663)))),h=(0,n.$V)((()=>Promise.all([t.e(2076),t.e(9790)]).then(t.bind(t,89790)))),{goPage:F}=(0,s.dG)(),{bd_userInfo:_,bd_virCompanyId:I,bd_existCallInterface:N}=r.DT.batchGetItem(["bd_userInfo","bd_virCompanyId","bd_existCallInterface"]),S=(0,l.KR)(""),x=(0,l.KR)(),w=(0,l.KR)(),T=(0,l.KR)(),W=(0,l.KR)(),E=(0,l.KR)(),P=(0,l.KR)(),K=(0,l.Gc)({id:"",companyId:"",companyCode:"",companyName:"",businessType:""}),z=(0,l.Gc)({status:"",applyName:"",companyId:I,agentId:_.profileId}),{getList:V,pageNumberChange:L,pageSizeChange:X,pageData:Q,resetPageNumber:$}=(0,r.N5)({listApi:m.te,props:{pageSize:"size",pageNumber:"current"},paramsData:z}),G=()=>{$(),V()},D=e=>{S.value=e.value,z.status=e.value,V()};function M(e){"a"===e?T.value.trigger(!0,1):"b"===e&&w.value.trigger(!0,{type:"add"})}function j(e){K.id=e.id,K.companyName=e.applyName,K.companyCode=e.agentSubCompanyCode,K.companyId=e.agentSubCompanyId??e.companyId,1===e.sourceType?F({path:"/businessManagement/ospreyCloudCall/report/detail",query:K}):x.value.trigger(!0,K)}function A(e){"add"===e.type?W.value.trigger(!0,e.type,e.info):"edit"===e.type&&(K.id=e.info.id,K.companyName=e.info.applyName,K.companyId=e.info.agentSubCompanyId??e.info.companyId,K.companyCode=e.info.agentSubCompanyCode,K.businessType=e.info.businessType,0===e.info.sourceType?W.value.trigger(!0,e.type,K):w.value.trigger(!0,{type:"edit",info:K}))}function q(e){if("list"===e.type)V();else if("report-electron"===e.type)w.value.trigger(!0,{type:"edit",info:e.info}),W.value.trigger(!1,"",{id:"",companyId:"",companyName:""});else if("report-manual"===e.type){var a,t;K.id=(null===(a=e.info)||void 0===a?void 0:a.id)??"",K.companyId=(null===(t=e.info)||void 0===t?void 0:t.companyId)??"",W.value.trigger(!0,"edit",K),w.value.trigger(!1,{type:"",info:{id:"",companyId:"",companyName:""}})}}function U(e){E.value.trigger(!0,"add",e)}function B(e){P.value.trigger(!0,e)}function H(e,a){E.value.trigger(!0,"edit",e,a)}return(e,t)=>{const r=(0,n.g2)("TabList"),s=(0,n.g2)("el-icon"),m=(0,n.g2)("el-button"),F=(0,n.g2)("el-dropdown-item"),_=(0,n.g2)("el-dropdown-menu"),I=(0,n.g2)("el-dropdown"),K=(0,n.g2)("el-table-column"),V=(0,n.g2)("el-tag"),$=(0,n.g2)("el-link"),J=(0,n.g2)("TableEmpty"),O=(0,n.g2)("el-table"),Y=(0,n.g2)("PagePagination");return(0,n.uX)(),(0,n.CE)("div",g,[(0,n.Lk)("div",b,[(0,n.bF)(r,{onEmitTab:D,list:(0,l.R1)(d.tK)(!0,(0,l.R1)(c.lK)),activeIndex:S.value},null,8,["list","activeIndex"]),(0,n.Lk)("div",y,[(0,n.bF)((0,l.R1)(u.WK),{onKeyup:(0,i.jR)(G,["enter"]),modelValue:(0,l.R1)(z).applyName,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,l.R1)(z).applyName=e),placeholder:"请输入公司名称/公司code"},{suffix:(0,n.k6)((()=>[(0,n.bF)(s,{onClick:G},{default:(0,n.k6)((()=>[(0,n.bF)((0,l.R1)(p.vji))])),_:1})])),_:1},8,["modelValue"]),(0,n.bF)(I,{onCommand:M},{dropdown:(0,n.k6)((()=>[(0,n.bF)(_,null,{default:(0,n.k6)((()=>[0!==(0,l.R1)(N)?((0,n.uX)(),(0,n.Wv)(F,{key:0,command:"a"},{default:(0,n.k6)((()=>t[2]||(t[2]=[(0,n.eW)("手动报备")]))),_:1})):(0,n.Q3)("",!0),(0,n.bF)(F,{command:"b"},{default:(0,n.k6)((()=>t[3]||(t[3]=[(0,n.eW)("电子化报备")]))),_:1})])),_:1})])),default:(0,n.k6)((()=>[(0,n.bF)(m,{type:"primary"},{default:(0,n.k6)((()=>t[1]||(t[1]=[(0,n.eW)("业务报备")]))),_:1})])),_:1})])]),(0,n.Lk)("div",f,[(0,n.bF)(O,{data:(0,l.R1)(Q).list,height:"calc(100vh - 260px)"},{empty:(0,n.k6)((()=>[(0,n.bF)(J,{"empty-text":"暂无数据"})])),default:(0,n.k6)((()=>[(0,n.bF)(K,{align:"center",prop:"applyName",label:"企业名称",width:"250px"}),(0,n.bF)(K,{align:"center",prop:"companyCode",label:"企业code",width:"250px"}),(0,n.bF)(K,{align:"center",prop:"businessTypeName",label:"业务开展方式",width:"250px"}),(0,n.bF)(K,{align:"left",prop:"status",label:"状态",width:"250px","class-name":"audit-status-box"},{default:(0,n.k6)((({row:e})=>[[5,6].includes(e.recheckStatus)?((0,n.uX)(),(0,n.CE)("span",{key:1,class:(0,o.C4)(["audit-status",e.statusClass])},(0,o.v_)(e.recheckStatusLabel),3)):((0,n.uX)(),(0,n.CE)("span",{key:0,class:(0,o.C4)(["audit-status",e.statusClass])},(0,o.v_)(e.statusLabel),3)),5===e.recheckStatus&&"0"!==e.infoFullStatus?((0,n.uX)(),(0,n.Wv)(V,{key:2,type:e.infoFullStatusType,effect:"dark",size:"small"},{default:(0,n.k6)((()=>[(0,n.eW)((0,o.v_)(e.infoFullStatusName),1)])),_:2},1032,["type"])):(0,n.Q3)("",!0)])),_:1}),(0,n.bF)(K,{align:"center",prop:"createdTime",label:"报备时间",width:"250px"}),(0,n.bF)(K,{align:"center",prop:"code",label:"唯一标识码",width:"180px"}),(0,n.bF)(K,{align:"center",prop:"bz",label:"审核结果",width:"180px"}),(0,n.bF)(K,{align:"center",label:"操作",width:"150px",fixed:"right","class-name":"operation-group"},{default:(0,n.k6)((({row:e})=>[(0,n.bF)($,{underline:!1,type:"primary",onClick:a=>j(e)},{default:(0,n.k6)((()=>t[4]||(t[4]=[(0,n.eW)("查看 ")]))),_:2},1032,["onClick"]),["3","6"].includes(e.status)?((0,n.uX)(),(0,n.Wv)($,{key:0,underline:!1,type:"primary",onClick:a=>A({type:"edit",info:e})},{default:(0,n.k6)((()=>t[5]||(t[5]=[(0,n.eW)("再次提交 ")]))),_:2},1032,["onClick"])):(0,n.Q3)("",!0),5===e.recheckStatus&&"1"===e.infoFullStatus?((0,n.uX)(),(0,n.Wv)($,{key:1,underline:!1,type:"primary",onClick:a=>U(e)},{default:(0,n.k6)((()=>t[6]||(t[6]=[(0,n.eW)("补充资料")]))),_:2},1032,["onClick"])):(0,n.Q3)("",!0),5===e.recheckStatus&&"0"!==e.infoFullStatus&&1!==Number(e.infoFullStatus)?((0,n.uX)(),(0,n.Wv)($,{key:2,underline:!1,type:"primary",onClick:a=>B(e)},{default:(0,n.k6)((()=>t[7]||(t[7]=[(0,n.eW)("补充记录")]))),_:2},1032,["onClick"])):(0,n.Q3)("",!0)])),_:1})])),_:1},8,["data"]),(0,n.bF)(Y,{pageTotal:(0,l.R1)(Q).pageTotal,pageSize:(0,l.R1)(Q).pageSize,pageNumber:(0,l.R1)(Q).pageNumber,onEmitPageSizeChange:(0,l.R1)(X),onEmitPageNumberChange:(0,l.R1)(L)},null,8,["pageTotal","pageSize","pageNumber","onEmitPageSizeChange","onEmitPageNumberChange"])]),(0,n.bF)((0,l.R1)(v),{ref_key:"reportQRCodeRef",ref:w},null,512),(0,n.bF)((0,l.R1)(C),{ref_key:"selectCompanyRef",ref:T,onEmitFunc:A},null,512),(0,n.bF)((0,l.R1)(a),{ref_key:"addEditReportRef",ref:W,onEmitFunc:q},null,512),(0,n.bF)((0,l.R1)(k),{ref_key:"detailReportRef",ref:x},null,512),(0,n.bF)((0,l.R1)(R),{ref_key:"supplementInfoRef",ref:E,onEmitFunc:q},null,512),(0,n.bF)((0,l.R1)(h),{ref_key:"supplementLogRef",ref:P,onReSubmit:H},null,512)])}}}),C=t(83936);const v=(0,C.A)(k,[["__scopeId","data-v-26e4179f"]]);var R=v}}]);
//# sourceMappingURL=3138.c78dfc48.js.map