{"version":3,"file":"static/js/856.88303f71.js","mappings":"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","sources":["webpack://daili/./src/components/market-service/personal-agent/product-detail-dialog.vue?038f","webpack://daili/./src/components/market-service/personal-agent/product-detail-dialog.vue","webpack://daili/./src/components/market-service/personal-agent/product-detail-dialog.vue?40cf"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"body-container\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"ec-switch\"\n}\nconst _hoisted_3 = {\n  key: 1,\n  class: \"company-key-secret\"\n}\n\nimport { shallowReactive } from \"vue\";\r\n\r\nimport { systemName } from \"@assets/common\";\r\n\r\nimport { enableEcLineApi } from \"@api/ec-line-api\";\r\nimport { agentProductDetailApi } from \"@api/market-service-api\";\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'product-detail-dialog',\n  props: {\n    visible: { type: Boolean },\n    productInfo: {}\n  },\n  emits: [\"update:visible\"],\n  setup(__props: any, { emit: __emit }) {\n\r\nconst props = __props;\r\nconst emits = __emit;\r\nconst initData = shallowReactive({\r\n  list: [],\r\n  ecSwitch: 0,\r\n  isEcEnable: false,\r\n  companyKeySecret: \"\",\r\n});\r\n\r\nconst handleEcSwitch = async (value: number) => {\r\n  initData.ecSwitch = value;\r\n  await enableEcLineApi.getData({\r\n    ecSwitch: initData.ecSwitch,\r\n  });\r\n};\r\n\r\nconst handleOpen = () => {\r\n  getAgentProductDetail();\r\n};\r\n\r\nconst handleClose = () => {\r\n  initData.list = [];\r\n  initData.companyKeySecret = \"\";\r\n  emits(\"update:visible\", false);\r\n};\r\nconst getAgentProductDetail = async () => {\r\n  const { data } = await agentProductDetailApi.getData(\r\n    props.productInfo.orderId\r\n  );\r\n  const { ecSwitch, productList, companyKeySecret } =\r\n    agentProductDetailApi.handleData(data);\r\n  initData.list = productList;\r\n  initData.ecSwitch = ecSwitch;\r\n  initData.isEcEnable = initData.isEcEnable = !!productList.find((item) =>\r\n    [\"CALL_INTERFACE_SERVICE\"].includes(item.combineServiceCode)\r\n  );\r\n  initData.companyKeySecret = companyKeySecret;\r\n};\r\nconst spanMerge = ({ columnIndex, rowIndex }) => {\r\n  if (columnIndex === 0 || columnIndex === 3) {\r\n    if (rowIndex === 0) {\r\n      return {\r\n        rowspan: initData.list.length,\r\n        colspan: 1,\r\n      };\r\n    } else {\r\n      return {\r\n        rowspan: 0,\r\n        colspan: 0,\r\n      };\r\n    }\r\n  }\r\n};\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_table_column = _resolveComponent(\"el-table-column\")!\n  const _component_el_table = _resolveComponent(\"el-table\")!\n  const _component_el_checkbox = _resolveComponent(\"el-checkbox\")!\n  const _component_el_dialog = _resolveComponent(\"el-dialog\")!\n\n  return (_openBlock(), _createBlock(_component_el_dialog, {\n    class: \"custom-dialog\",\n    width: \"1000px\",\n    \"lock-scroll\": \"\",\n    \"append-to-body\": \"\",\n    \"close-on-click-modal\": false,\n    title: \"详情\",\n    \"model-value\": _ctx.visible,\n    onOpen: handleOpen,\n    onClose: handleClose\n  }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createVNode(_component_el_table, {\n          data: _unref(initData).list,\n          \"span-method\": spanMerge,\n          height: \"calc(100vh - 365px)\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_el_table_column, {\n              align: \"center\",\n              label: ['ec-line'].includes(_unref(systemName)) ? '系列名称' : '数企系列'\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(_toDisplayString(_ctx.productInfo.seriesName), 1)\n              ]),\n              _: 1\n            }, 8, [\"label\"]),\n            _createVNode(_component_el_table_column, {\n              align: \"center\",\n              prop: \"appName\",\n              label: \"产品名称\"\n            }),\n            _createVNode(_component_el_table_column, {\n              prop: \"groupNames\",\n              label: \"规格\"\n            }),\n            _createVNode(_component_el_table_column, {\n              align: \"center\",\n              prop: \"agencyLevelName\",\n              label: \"代理级别\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(_toDisplayString(_ctx.productInfo.agencyLevelName), 1)\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_el_table_column, {\n              align: \"center\",\n              prop: \"marketPrice\",\n              label: \"市场价\"\n            }),\n            _createVNode(_component_el_table_column, {\n              align: \"center\",\n              prop: \"appPrice\",\n              label: \"代理价格\"\n            }),\n            _createVNode(_component_el_table_column, {\n              align: \"center\",\n              prop: \"proxyStatusName\",\n              label: \"代理状态\"\n            })\n          ]),\n          _: 1\n        }, 8, [\"data\"]),\n        (_unref(initData).isEcEnable && ['ec-line'].includes(_unref(systemName)))\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n              _createVNode(_component_el_checkbox, {\n                \"model-value\": _unref(initData).ecSwitch,\n                \"true-value\": 1,\n                \"false-value\": 0,\n                onChange: _cache[0] || (_cache[0] = ($event: any) => (handleEcSwitch($event)))\n              }, {\n                default: _withCtx(() => _cache[1] || (_cache[1] = [\n                  _createTextVNode(\"启用与EC系统对接设置\")\n                ])),\n                _: 1\n              }, 8, [\"model-value\"])\n            ]))\n          : _createCommentVNode(\"\", true),\n        (_unref(initData).companyKeySecret)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n              _createElementVNode(\"span\", null, \"APPKEY：\" + _toDisplayString(_unref(initData).companyKeySecret.appKey), 1),\n              _createElementVNode(\"span\", null, \"APPSECRET：\" + _toDisplayString(_unref(initData).companyKeySecret.appSecret), 1)\n            ]))\n          : _createCommentVNode(\"\", true)\n      ])\n    ]),\n    _: 1\n  }, 8, [\"model-value\"]))\n}\n}\n\n})","<template>\r\n  <el-dialog\r\n    class=\"custom-dialog\"\r\n    width=\"1000px\"\r\n    lock-scroll\r\n    append-to-body\r\n    :close-on-click-modal=\"false\"\r\n    title=\"详情\"\r\n    :model-value=\"visible\"\r\n    @open=\"handleOpen\"\r\n    @close=\"handleClose\"\r\n  >\r\n    <div class=\"body-container\">\r\n      <el-table\r\n        :data=\"initData.list\"\r\n        :span-method=\"spanMerge\"\r\n        height=\"calc(100vh - 365px)\"\r\n      >\r\n        <el-table-column\r\n          align=\"center\"\r\n          :label=\"['ec-line'].includes(systemName) ? '系列名称' : '数企系列'\"\r\n        >\r\n          <template #default>{{ productInfo.seriesName }}</template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          align=\"center\"\r\n          prop=\"appName\"\r\n          label=\"产品名称\"\r\n        ></el-table-column>\r\n        <el-table-column prop=\"groupNames\" label=\"规格\"></el-table-column>\r\n        <el-table-column align=\"center\" prop=\"agencyLevelName\" label=\"代理级别\">\r\n          <template #default>{{ productInfo.agencyLevelName }}</template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          align=\"center\"\r\n          prop=\"marketPrice\"\r\n          label=\"市场价\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          align=\"center\"\r\n          prop=\"appPrice\"\r\n          label=\"代理价格\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          align=\"center\"\r\n          prop=\"proxyStatusName\"\r\n          label=\"代理状态\"\r\n        ></el-table-column>\r\n      </el-table>\r\n      <div\r\n        v-if=\"initData.isEcEnable && ['ec-line'].includes(systemName)\"\r\n        class=\"ec-switch\"\r\n      >\r\n        <el-checkbox\r\n          :model-value=\"initData.ecSwitch\"\r\n          :true-value=\"1\"\r\n          :false-value=\"0\"\r\n          @change=\"handleEcSwitch($event)\"\r\n          >启用与EC系统对接设置</el-checkbox\r\n        >\r\n      </div>\r\n      <div v-if=\"initData.companyKeySecret\" class=\"company-key-secret\">\r\n        <span>APPKEY：{{ initData.companyKeySecret.appKey }}</span>\r\n        <span>APPSECRET：{{ initData.companyKeySecret.appSecret }}</span>\r\n      </div>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { shallowReactive } from \"vue\";\r\n\r\nimport { systemName } from \"@assets/common\";\r\n\r\nimport { enableEcLineApi } from \"@api/ec-line-api\";\r\nimport { agentProductDetailApi } from \"@api/market-service-api\";\r\n\r\nconst props = defineProps<{\r\n  visible: boolean;\r\n  productInfo: any;\r\n}>();\r\nconst emits = defineEmits<{\r\n  (e: \"update:visible\", value: boolean): void;\r\n}>();\r\nconst initData = shallowReactive({\r\n  list: [],\r\n  ecSwitch: 0,\r\n  isEcEnable: false,\r\n  companyKeySecret: \"\",\r\n});\r\n\r\nconst handleEcSwitch = async (value: number) => {\r\n  initData.ecSwitch = value;\r\n  await enableEcLineApi.getData({\r\n    ecSwitch: initData.ecSwitch,\r\n  });\r\n};\r\n\r\nconst handleOpen = () => {\r\n  getAgentProductDetail();\r\n};\r\n\r\nconst handleClose = () => {\r\n  initData.list = [];\r\n  initData.companyKeySecret = \"\";\r\n  emits(\"update:visible\", false);\r\n};\r\nconst getAgentProductDetail = async () => {\r\n  const { data } = await agentProductDetailApi.getData(\r\n    props.productInfo.orderId\r\n  );\r\n  const { ecSwitch, productList, companyKeySecret } =\r\n    agentProductDetailApi.handleData(data);\r\n  initData.list = productList;\r\n  initData.ecSwitch = ecSwitch;\r\n  initData.isEcEnable = initData.isEcEnable = !!productList.find((item) =>\r\n    [\"CALL_INTERFACE_SERVICE\"].includes(item.combineServiceCode)\r\n  );\r\n  initData.companyKeySecret = companyKeySecret;\r\n};\r\nconst spanMerge = ({ columnIndex, rowIndex }) => {\r\n  if (columnIndex === 0 || columnIndex === 3) {\r\n    if (rowIndex === 0) {\r\n      return {\r\n        rowspan: initData.list.length,\r\n        colspan: 1,\r\n      };\r\n    } else {\r\n      return {\r\n        rowspan: 0,\r\n        colspan: 0,\r\n      };\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.body-container {\r\n  :deep(.el-table th.el-table__cell) {\r\n    padding: 15px;\r\n    background-color: #f5f7fb;\r\n  }\r\n}\r\n\r\n.company-key-secret {\r\n  @include flex(center, space-around);\r\n  height: 40px;\r\n}\r\n</style>\r\n","import script from \"./product-detail-dialog.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./product-detail-dialog.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./product-detail-dialog.vue?vue&type=style&index=0&id=2fe6d4b6&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../node_modules/.pnpm/vue-loader@17.4.2_@vue+compiler-sfc@3.5.13_vue@3.5.13_typescript@5.7.2__webpack@5.97.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2fe6d4b6\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","key","_hoisted_3","_defineComponent","__name","props","visible","type","Boolean","productInfo","emits","setup","__props","emit","__emit","initData","shallowReactive","list","ecSwitch","isEcEnable","companyKeySecret","handleEcSwitch","async","value","enableEcLineApi","getData","handleOpen","getAgentProductDetail","handleClose","data","agentProductDetailApi","orderId","productList","handleData","find","item","includes","combineServiceCode","spanMerge","columnIndex","rowIndex","rowspan","length","colspan","_ctx","_cache","_component_el_table_column","_resolveComponent","_component_el_table","_component_el_checkbox","_component_el_dialog","_openBlock","_createBlock","width","title","onOpen","onClose","default","_withCtx","_createElementVNode","_createVNode","_unref","height","align","label","systemName","_createTextVNode","_toDisplayString","seriesName","_","prop","agencyLevelName","_createElementBlock","onChange","$event","_createCommentVNode","appKey","appSecret","__exports__"],"sourceRoot":""}