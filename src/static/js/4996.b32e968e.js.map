{"version":3,"file":"static/js/4996.b32e968e.js","mappings":"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","sources":["webpack://daili/./src/views/order-management/create-order/confirm-order/index.vue?9a74","webpack://daili/./src/views/order-management/create-order/confirm-order/index.vue","webpack://daili/./src/views/order-management/create-order/confirm-order/index.vue?1b35"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"confirm-order table-container\" }\nconst _hoisted_2 = [\"src\"]\nconst _hoisted_3 = { class: \"footer\" }\nconst _hoisted_4 = { class: \"sum-price\" }\n\nimport { useVueRouter } from \"@assets/useHook\";\r\nimport { handleImgError } from \"@assets/common\";\r\nimport { LocalStorage, SessionStorage } from \"jz-tool-lib\";\r\nimport { servicePlaceOrderApi } from \"@api/order-management-api\";\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  ...{\r\n  name: \"orderManagement.createOrder.confirmOrder\",\r\n},\n  __name: 'index',\n  setup(__props) {\n\r\n\r\nconst { goPage } = useVueRouter();\r\nconst userInfo = LocalStorage.getItem(\"bd_userInfo\");\r\nconst {\r\n  \"bd_market-cart\": marketCart,\r\n  \"bd_market-commodity\": marketCommodity = {\r\n    list: [],\r\n    sumPrice: \"0.00\",\r\n  },\r\n} = SessionStorage.batchGetItem([\"bd_market-cart\", \"bd_market-commodity\"]);\r\nconst handleFastPay = async () => {\r\n  const params = {\r\n    helpOrder: 1,\r\n    payType: \"DLSZHYE\", // 默认企付宝\r\n    agentId: userInfo.profileId,\r\n    companyId: marketCart.companyId,\r\n    profileId: marketCart.profileId,\r\n    buyType: marketCart.buyType,\r\n    shopBuyList: marketCart.shopBuyList,\r\n    total: marketCart.sumPrice,\r\n  };\r\n  if (marketCart.businessTagsInfo) {\r\n    Reflect.set(params, \"businessTagsInfo\", marketCart.businessTagsInfo);\r\n  }\r\n  if (marketCart.paramStr) {\r\n    Reflect.set(params, \"paramStr\", marketCart.paramStr);\r\n  }\r\n  const { data } = await servicePlaceOrderApi.getData(params);\r\n  SessionStorage.setItem(\"bd_market-payment\", {\r\n    paymentType: \"DLSZHYE\",\r\n    profileId: userInfo.profileId,\r\n    companyId: marketCart.companyId,\r\n    sumPrice: marketCart.sumPrice,\r\n    modePayment: \"balancePayment\",\r\n  });\r\n  await goPage(`/payment/vip-buy/${data.outTradeNo}`);\r\n};\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_table_column = _resolveComponent(\"el-table-column\")!\n  const _component_el_table = _resolveComponent(\"el-table\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _cache[2] || (_cache[2] = _createElementVNode(\"h3\", { class: \"module-title\" }, \"产品清单\", -1)),\n    _createVNode(_component_el_table, {\n      data: _unref(marketCommodity).list,\n      \"row-key\": \"combineServiceCode\",\n      \"tree-props\": {\r\n        children: 'augmentedServiceList',\r\n      },\n      \"default-expand-all\": \"\",\n      style: {\"min-height\":\"calc(100vh - 450px)\"}\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_el_table_column, {\n          width: \"300\",\n          label: \"产品信息\",\n          \"class-name\": \"product-info\"\n        }, {\n          default: _withCtx(({ row }) => [\n            _createElementVNode(\"img\", {\n              src: row.imgUrlStr,\n              alt: \"\",\n              onError: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_unref(handleImgError) && _unref(handleImgError)(...args)))\n            }, null, 40, _hoisted_2),\n            _createTextVNode(\" \" + _toDisplayString(row.combineServiceName), 1)\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_el_table_column, {\n          align: \"center\",\n          prop: \"specsInfo\",\n          label: \"详情\"\n        }),\n        _createVNode(_component_el_table_column, {\n          align: \"center\",\n          prop: \"price\",\n          label: \"价格\",\n          width: \"300\"\n        }, {\n          default: _withCtx(({ row }) => [\n            _createTextVNode(\"¥ \" + _toDisplayString(row.price), 1)\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }, 8, [\"data\"]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createElementVNode(\"div\", _hoisted_4, \" 总计：¥ \" + _toDisplayString(_unref(marketCommodity).sumPrice), 1),\n      _createVNode(_component_el_button, {\n        type: \"primary\",\n        onClick: handleFastPay\n      }, {\n        default: _withCtx(() => _cache[1] || (_cache[1] = [\n          _createTextVNode(\"提交订单\")\n        ])),\n        _: 1\n      })\n    ])\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"confirm-order table-container\">\r\n    <h3 class=\"module-title\">产品清单</h3>\r\n    <el-table\r\n      :data=\"marketCommodity.list\"\r\n      row-key=\"combineServiceCode\"\r\n      :tree-props=\"{\r\n        children: 'augmentedServiceList',\r\n      }\"\r\n      default-expand-all\r\n      style=\"min-height: calc(100vh - 450px)\"\r\n    >\r\n      <el-table-column width=\"300\" label=\"产品信息\" class-name=\"product-info\">\r\n        <template #default=\"{ row }\">\r\n          <img :src=\"row.imgUrlStr\" alt=\"\" @error=\"handleImgError\" />\r\n          {{ row.combineServiceName }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        align=\"center\"\r\n        prop=\"specsInfo\"\r\n        label=\"详情\"\r\n      ></el-table-column>\r\n      <el-table-column align=\"center\" prop=\"price\" label=\"价格\" width=\"300\">\r\n        <template #default=\"{ row }\">&yen;&nbsp;{{ row.price }}</template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <div class=\"footer\">\r\n      <div class=\"sum-price\">\r\n        总计：&yen;&nbsp;{{ marketCommodity.sumPrice }}\r\n      </div>\r\n      <el-button type=\"primary\" @click=\"handleFastPay\">提交订单</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script setup lang=\"ts\">\r\nimport { useVueRouter } from \"@assets/useHook\";\r\nimport { handleImgError } from \"@assets/common\";\r\nimport { LocalStorage, SessionStorage } from \"jz-tool-lib\";\r\nimport { servicePlaceOrderApi } from \"@api/order-management-api\";\r\n\r\ndefineOptions({\r\n  name: \"orderManagement.createOrder.confirmOrder\",\r\n});\r\nconst { goPage } = useVueRouter();\r\nconst userInfo = LocalStorage.getItem(\"bd_userInfo\");\r\nconst {\r\n  \"bd_market-cart\": marketCart,\r\n  \"bd_market-commodity\": marketCommodity = {\r\n    list: [],\r\n    sumPrice: \"0.00\",\r\n  },\r\n} = SessionStorage.batchGetItem([\"bd_market-cart\", \"bd_market-commodity\"]);\r\nconst handleFastPay = async () => {\r\n  const params = {\r\n    helpOrder: 1,\r\n    payType: \"DLSZHYE\", // 默认企付宝\r\n    agentId: userInfo.profileId,\r\n    companyId: marketCart.companyId,\r\n    profileId: marketCart.profileId,\r\n    buyType: marketCart.buyType,\r\n    shopBuyList: marketCart.shopBuyList,\r\n    total: marketCart.sumPrice,\r\n  };\r\n  if (marketCart.businessTagsInfo) {\r\n    Reflect.set(params, \"businessTagsInfo\", marketCart.businessTagsInfo);\r\n  }\r\n  if (marketCart.paramStr) {\r\n    Reflect.set(params, \"paramStr\", marketCart.paramStr);\r\n  }\r\n  const { data } = await servicePlaceOrderApi.getData(params);\r\n  SessionStorage.setItem(\"bd_market-payment\", {\r\n    paymentType: \"DLSZHYE\",\r\n    profileId: userInfo.profileId,\r\n    companyId: marketCart.companyId,\r\n    sumPrice: marketCart.sumPrice,\r\n    modePayment: \"balancePayment\",\r\n  });\r\n  await goPage(`/payment/vip-buy/${data.outTradeNo}`);\r\n};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.confirm-order {\r\n  padding: 0 30px 30px;\r\n  border-top: 1px solid #ddd;\r\n  background-color: #fff;\r\n}\r\n.module-title {\r\n  padding: 20px 0;\r\n}\r\n.footer {\r\n  @include flex(flex-end, initial, column);\r\n  .sum-price {\r\n    font-size: 20px;\r\n    font-weight: 600;\r\n    color: #f12525;\r\n    margin: 15px 0;\r\n  }\r\n}\r\n.product-info {\r\n  img {\r\n    width: 36px;\r\n    height: 36px;\r\n    margin-right: 5px;\r\n    vertical-align: middle;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=99f67456&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../../node_modules/.pnpm/vue-loader@17.4.2_@vue+compiler-sfc@3.5.13_vue@3.5.13_typescript@5.7.2__webpack@5.97.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-99f67456\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_defineComponent","name","__name","setup","__props","goPage","useVueRouter","userInfo","LocalStorage","getItem","marketCart","marketCommodity","list","sumPrice","SessionStorage","batchGetItem","handleFastPay","async","params","helpOrder","payType","agentId","profileId","companyId","buyType","shopBuyList","total","businessTagsInfo","Reflect","set","paramStr","data","servicePlaceOrderApi","getData","setItem","paymentType","modePayment","outTradeNo","_ctx","_cache","_component_el_table_column","_resolveComponent","_component_el_table","_component_el_button","_openBlock","_createElementBlock","_createElementVNode","_createVNode","_unref","children","style","default","_withCtx","width","label","row","src","imgUrlStr","alt","onError","args","handleImgError","_createTextVNode","_toDisplayString","combineServiceName","_","align","prop","price","type","onClick","__exports__"],"sourceRoot":""}