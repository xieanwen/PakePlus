{"version":3,"file":"static/js/3868.d5889fca.js","mappings":"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","sources":["webpack://daili/./src/views/financial-center/bill-management/daily-statement/index.vue?3eff","webpack://daili/./src/views/financial-center/bill-management/daily-statement/index.vue","webpack://daili/./src/views/financial-center/bill-management/daily-statement/index.vue?97d4"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"daily-bill\" }\nconst _hoisted_2 = { class: \"table-container\" }\nconst _hoisted_3 = {\n  key: 0,\n  class: \"tip\"\n}\n\nimport { defineAsyncComponent, reactive, ref } from \"vue\";\r\nimport { queryFlowBillListApi } from \"@api/financial-center/bill-management/daily-statement\";\r\nimport { LocalStorage, usePage } from \"jz-tool-lib\";\r\nimport { QuestionFilled } from \"@element-plus/icons-vue\";\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\r\nconst { bd_agentId: agentId } = LocalStorage.batchGetItem([\"bd_agentId\"]);\r\nconst DailyStatementDetail = defineAsyncComponent(\r\n  () => import(\"./components/daily-statement-detail.vue\")\r\n);\r\nconst tipMap = {\r\n  supervisorName: \"此服务代理商上游账号，由此账号提供开票金额开票。\",\r\n  currentAccountName: \"服务资源使用账户\",\r\n  billAmount: \"代理商或代理商客户下单向数企业支付的金额。\",\r\n  commissionAmount: \"当前账单返佣给代理商的金额\",\r\n};\r\nconst dailyStatementDetailRef = ref();\r\nconst form = reactive({\r\n  time: [],\r\n  orderId: \"\",\r\n});\r\n// const conditionData = ref({\r\n//   orderNo: form.orderId,\r\n//   tradeStartTime: _.head(form.time),\r\n//   tradeEndTime: _.last(form.time),\r\n// });\r\nconst columns = [\r\n  { label: \"交易时间\", prop: \"tradeTime\" },\r\n  { label: \"订单号/交易号\", prop: \"orderNo\", width: 240 },\r\n  { label: \"账单类型\", prop: \"billTypeLabel\", width: 130 },\r\n  { label: \"产品\", prop: \"productName\", width: 140 },\r\n  { label: \"计费模式\", prop: \"billModeLabel\", width: 160 },\r\n  { label: \"使用账号\", prop: \"currentAccountName\", width: 140 },\r\n  { label: \"消费时间\", prop: \"consumeTime\", width: 360 },\r\n  { label: \"账单金额\", prop: \"billAmount\", width: 140 },\r\n  { label: \"返佣金额\", prop: \"commissionAmount\", width: 140 },\r\n  { label: \"可开票金额\", prop: \"invoicableBalance\", width: 140 },\r\n  { label: \"可用余额\", prop: \"balanceAmount\", width: 140 },\r\n  { label: \"当前保证金\", prop: \"depositAmount\", width: 140 },\r\n];\r\nconst { getList, pageNumberChange, pageSizeChange, pageData, resetPageNumber } =\r\n  usePage({\r\n    listApi: queryFlowBillListApi,\r\n    props: {\r\n      pageNumber: \"page\",\r\n      pageSize: \"pageSize\",\r\n    },\r\n    searchParams() {\r\n      return {\r\n        agencyId: agentId,\r\n        orderNo: form.orderId,\r\n        tradeStartTime: _.head(form.time),\r\n        tradeEndTime: _.last(form.time),\r\n      };\r\n    },\r\n    notExecute: true,\r\n  });\r\n\r\nfunction search() {\r\n  // conditionData.value = {\r\n  //   orderNo: form.orderId,\r\n  //   tradeStartTime: _.head(form.time),\r\n  //   tradeEndTime: _.last(form.time),\r\n  // };\r\n  resetPageNumber();\r\n  getList();\r\n}\r\n\r\nfunction otherPagesJumpCallback() {\r\n  form.orderId = localStorage.getItem(\"selectedOrderNumber\") || \"\";\r\n  getList();\r\n  localStorage.removeItem(\"selectedOrderNumber\");\r\n}\r\n\r\notherPagesJumpCallback();\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_date_picker = _resolveComponent(\"el-date-picker\")!\n  const _component_el_form_item = _resolveComponent(\"el-form-item\")!\n  const _component_el_input = _resolveComponent(\"el-input\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_form = _resolveComponent(\"el-form\")!\n  const _component_el_icon = _resolveComponent(\"el-icon\")!\n  const _component_el_tooltip = _resolveComponent(\"el-tooltip\")!\n  const _component_el_table_column = _resolveComponent(\"el-table-column\")!\n  const _component_el_link = _resolveComponent(\"el-link\")!\n  const _component_el_table = _resolveComponent(\"el-table\")!\n  const _component_PagePagination = _resolveComponent(\"PagePagination\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createVNode(_component_el_form, {\n        inline: \"\",\n        model: form\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_el_form_item, { label: \"交易时间\" }, {\n            default: _withCtx(() => [\n              _createVNode(_component_el_date_picker, {\n                modelValue: form.time,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((form.time) = $event)),\n                type: \"daterange\",\n                \"start-placeholder\": \"开始时间\",\n                \"end-placeholder\": \"结束时间\",\n                \"value-format\": \"YYYY-MM-DD\"\n              }, null, 8, [\"modelValue\"])\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_form_item, { label: \"订单编号\" }, {\n            default: _withCtx(() => [\n              _createVNode(_component_el_input, {\n                modelValue: form.orderId,\n                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((form.orderId) = $event)),\n                placeholder: \"请输入\"\n              }, null, 8, [\"modelValue\"])\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_form_item, { label: \"\" }, {\n            default: _withCtx(() => [\n              _createVNode(_component_el_button, {\n                type: \"primary\",\n                onClick: search\n              }, {\n                default: _withCtx(() => _cache[2] || (_cache[2] = [\n                  _createTextVNode(\"搜索\")\n                ])),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 8, [\"model\"]),\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createVNode(_component_el_table, {\n          data: _unref(pageData).list,\n          height: \"calc(100vh - 250px)\"\n        }, {\n          default: _withCtx(() => [\n            (_openBlock(), _createElementBlock(_Fragment, null, _renderList(columns, (item, index) => {\n              return _createVNode(_component_el_table_column, {\n                key: index,\n                \"show-overflow-tooltip\": \"\",\n                prop: item.prop,\n                label: item.label,\n                width: item.width ?? 200\n              }, {\n                header: _withCtx(() => [\n                  (\r\n                  [\r\n                    'supervisorName',\r\n                    'currentAccountName',\r\n                    'billAmount',\r\n                    'commissionAmount',\r\n                  ].includes(item.prop)\r\n                )\n                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n                        _createElementVNode(\"span\", null, _toDisplayString(item.label), 1),\n                        _createVNode(_component_el_tooltip, {\n                          effect: \"dark\",\n                          content: tipMap[item.prop],\n                          placement: \"top-start\"\n                        }, {\n                          default: _withCtx(() => [\n                            _createVNode(_component_el_icon, {\n                              size: 16,\n                              color: \"#b1b3b8\"\n                            }, {\n                              default: _withCtx(() => [\n                                _createVNode(_unref(QuestionFilled))\n                              ]),\n                              _: 1\n                            })\n                          ]),\n                          _: 2\n                        }, 1032, [\"content\"])\n                      ]))\n                    : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                        _createTextVNode(_toDisplayString(item.label), 1)\n                      ], 64))\n                ]),\n                default: _withCtx(({ row }) => [\n                  _createTextVNode(_toDisplayString(row[item.prop] ?? \"-\"), 1)\n                ]),\n                _: 2\n              }, 1032, [\"prop\", \"label\", \"width\"])\n            }), 64)),\n            _createVNode(_component_el_table_column, {\n              label: \"操作\",\n              fixed: \"right\",\n              width: \"200\"\n            }, {\n              default: _withCtx(({ row }) => [\n                _createVNode(_component_el_link, {\n                  type: \"primary\",\n                  underline: false,\n                  onClick: ($event: any) => (dailyStatementDetailRef.value.show(row))\n                }, {\n                  default: _withCtx(() => _cache[3] || (_cache[3] = [\n                    _createTextVNode(\"查看详情 \")\n                  ])),\n                  _: 2\n                }, 1032, [\"onClick\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"data\"]),\n        _createVNode(_component_PagePagination, {\n          pageTotal: _unref(pageData).pageTotal,\n          pageSize: _unref(pageData).pageSize,\n          pageNumber: _unref(pageData).pageNumber,\n          onEmitPageSizeChange: _unref(pageSizeChange),\n          onEmitPageNumberChange: _unref(pageNumberChange)\n        }, null, 8, [\"pageTotal\", \"pageSize\", \"pageNumber\", \"onEmitPageSizeChange\", \"onEmitPageNumberChange\"])\n      ])\n    ]),\n    _createVNode(_unref(DailyStatementDetail), {\n      ref_key: \"dailyStatementDetailRef\",\n      ref: dailyStatementDetailRef\n    }, null, 512)\n  ], 64))\n}\n}\n\n})","<template>\r\n  <div class=\"daily-bill\">\r\n    <el-form inline :model=\"form\">\r\n      <el-form-item label=\"交易时间\">\r\n        <el-date-picker\r\n          v-model=\"form.time\"\r\n          type=\"daterange\"\r\n          start-placeholder=\"开始时间\"\r\n          end-placeholder=\"结束时间\"\r\n          value-format=\"YYYY-MM-DD\"\r\n        />\r\n      </el-form-item>\r\n      <el-form-item label=\"订单编号\">\r\n        <el-input v-model=\"form.orderId\" placeholder=\"请输入\" />\r\n      </el-form-item>\r\n      <el-form-item label=\"\">\r\n        <el-button type=\"primary\" @click=\"search\">搜索</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n    <div class=\"table-container\">\r\n      <el-table :data=\"pageData.list\" height=\"calc(100vh - 250px)\">\r\n        <template v-for=\"(item, index) in columns\" :key=\"index\">\r\n          <el-table-column\r\n            show-overflow-tooltip\r\n            :prop=\"item.prop\"\r\n            :label=\"item.label\"\r\n            :width=\"item.width ?? 200\"\r\n          >\r\n            <template #header>\r\n              <template\r\n                v-if=\"\r\n                  [\r\n                    'supervisorName',\r\n                    'currentAccountName',\r\n                    'billAmount',\r\n                    'commissionAmount',\r\n                  ].includes(item.prop)\r\n                \"\r\n              >\r\n                <div class=\"tip\">\r\n                  <span>{{ item.label }}</span>\r\n                  <el-tooltip\r\n                    effect=\"dark\"\r\n                    :content=\"tipMap[item.prop]\"\r\n                    placement=\"top-start\"\r\n                  >\r\n                    <el-icon :size=\"16\" color=\"#b1b3b8\">\r\n                      <QuestionFilled />\r\n                    </el-icon>\r\n                  </el-tooltip>\r\n                </div>\r\n              </template>\r\n              <template v-else>\r\n                {{ item.label }}\r\n              </template>\r\n            </template>\r\n            <template #default=\"{ row }\">\r\n              {{ row[item.prop] ?? \"-\" }}\r\n            </template>\r\n          </el-table-column>\r\n        </template>\r\n        <el-table-column label=\"操作\" fixed=\"right\" width=\"200\">\r\n          <template #default=\"{ row }\">\r\n            <el-link\r\n              type=\"primary\"\r\n              :underline=\"false\"\r\n              @click=\"dailyStatementDetailRef.show(row)\"\r\n              >查看详情\r\n            </el-link>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <PagePagination\r\n        :pageTotal=\"pageData.pageTotal\"\r\n        :pageSize=\"pageData.pageSize\"\r\n        :pageNumber=\"pageData.pageNumber\"\r\n        @emitPageSizeChange=\"pageSizeChange\"\r\n        @emitPageNumberChange=\"pageNumberChange\"\r\n      />\r\n    </div>\r\n  </div>\r\n  <!-- 查看详情 -->\r\n  <DailyStatementDetail ref=\"dailyStatementDetailRef\" />\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { defineAsyncComponent, reactive, ref } from \"vue\";\r\nimport { queryFlowBillListApi } from \"@api/financial-center/bill-management/daily-statement\";\r\nimport { LocalStorage, usePage } from \"jz-tool-lib\";\r\nimport { QuestionFilled } from \"@element-plus/icons-vue\";\r\n\r\nconst { bd_agentId: agentId } = LocalStorage.batchGetItem([\"bd_agentId\"]);\r\nconst DailyStatementDetail = defineAsyncComponent(\r\n  () => import(\"./components/daily-statement-detail.vue\")\r\n);\r\nconst tipMap = {\r\n  supervisorName: \"此服务代理商上游账号，由此账号提供开票金额开票。\",\r\n  currentAccountName: \"服务资源使用账户\",\r\n  billAmount: \"代理商或代理商客户下单向数企业支付的金额。\",\r\n  commissionAmount: \"当前账单返佣给代理商的金额\",\r\n};\r\nconst dailyStatementDetailRef = ref();\r\nconst form = reactive({\r\n  time: [],\r\n  orderId: \"\",\r\n});\r\n// const conditionData = ref({\r\n//   orderNo: form.orderId,\r\n//   tradeStartTime: _.head(form.time),\r\n//   tradeEndTime: _.last(form.time),\r\n// });\r\nconst columns = [\r\n  { label: \"交易时间\", prop: \"tradeTime\" },\r\n  { label: \"订单号/交易号\", prop: \"orderNo\", width: 240 },\r\n  { label: \"账单类型\", prop: \"billTypeLabel\", width: 130 },\r\n  { label: \"产品\", prop: \"productName\", width: 140 },\r\n  { label: \"计费模式\", prop: \"billModeLabel\", width: 160 },\r\n  { label: \"使用账号\", prop: \"currentAccountName\", width: 140 },\r\n  { label: \"消费时间\", prop: \"consumeTime\", width: 360 },\r\n  { label: \"账单金额\", prop: \"billAmount\", width: 140 },\r\n  { label: \"返佣金额\", prop: \"commissionAmount\", width: 140 },\r\n  { label: \"可开票金额\", prop: \"invoicableBalance\", width: 140 },\r\n  { label: \"可用余额\", prop: \"balanceAmount\", width: 140 },\r\n  { label: \"当前保证金\", prop: \"depositAmount\", width: 140 },\r\n];\r\nconst { getList, pageNumberChange, pageSizeChange, pageData, resetPageNumber } =\r\n  usePage({\r\n    listApi: queryFlowBillListApi,\r\n    props: {\r\n      pageNumber: \"page\",\r\n      pageSize: \"pageSize\",\r\n    },\r\n    searchParams() {\r\n      return {\r\n        agencyId: agentId,\r\n        orderNo: form.orderId,\r\n        tradeStartTime: _.head(form.time),\r\n        tradeEndTime: _.last(form.time),\r\n      };\r\n    },\r\n    notExecute: true,\r\n  });\r\n\r\nfunction search() {\r\n  // conditionData.value = {\r\n  //   orderNo: form.orderId,\r\n  //   tradeStartTime: _.head(form.time),\r\n  //   tradeEndTime: _.last(form.time),\r\n  // };\r\n  resetPageNumber();\r\n  getList();\r\n}\r\n\r\nfunction otherPagesJumpCallback() {\r\n  form.orderId = localStorage.getItem(\"selectedOrderNumber\") || \"\";\r\n  getList();\r\n  localStorage.removeItem(\"selectedOrderNumber\");\r\n}\r\n\r\notherPagesJumpCallback();\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.daily-bill {\r\n  height: 100%;\r\n\r\n  :deep(.el-form) {\r\n    height: 40px;\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    margin-bottom: 20px;\r\n  }\r\n\r\n  .table-container {\r\n    height: calc(100% - 60px);\r\n\r\n    .tip {\r\n      display: flex;\r\n      align-items: center;\r\n      column-gap: 4px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import script from \"./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=64452d3a&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../../node_modules/.pnpm/vue-loader@17.4.2_@vue+compiler-sfc@3.5.13_vue@3.5.13_typescript@5.7.2__webpack@5.97.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-64452d3a\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","key","_defineComponent","__name","setup","__props","bd_agentId","agentId","LocalStorage","batchGetItem","DailyStatementDetail","defineAsyncComponent","tipMap","supervisorName","currentAccountName","billAmount","commissionAmount","dailyStatementDetailRef","ref","form","reactive","time","orderId","columns","label","prop","width","getList","pageNumberChange","pageSizeChange","pageData","resetPageNumber","usePage","listApi","queryFlowBillListApi","props","pageNumber","pageSize","searchParams","agencyId","orderNo","tradeStartTime","_","head","tradeEndTime","last","notExecute","search","otherPagesJumpCallback","localStorage","getItem","removeItem","_ctx","_cache","_component_el_date_picker","_resolveComponent","_component_el_form_item","_component_el_input","_component_el_button","_component_el_form","_component_el_icon","_component_el_tooltip","_component_el_table_column","_component_el_link","_component_el_table","_component_PagePagination","_openBlock","_createElementBlock","_Fragment","_createElementVNode","_createVNode","inline","model","default","_withCtx","modelValue","$event","type","placeholder","onClick","_createTextVNode","data","_unref","list","height","_renderList","item","index","header","includes","_toDisplayString","effect","content","placement","size","color","QuestionFilled","row","fixed","underline","value","show","pageTotal","onEmitPageSizeChange","onEmitPageNumberChange","ref_key","__exports__"],"sourceRoot":""}