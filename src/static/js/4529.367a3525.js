"use strict";(self["webpackChunkdaili"]=self["webpackChunkdaili"]||[]).push([[4529],{507:function(e,a,l){l.r(a),l.d(a,{default:function(){return m}});var u=l(6254),c=l(25598),r=l(38627),t=l(10901),i=l(88365),s=l(8610),n=l(64108),o=l(4710);const d={class:"product-detail"},p={class:"service-specs"},v={class:"word"};var b=(0,u.pM)({__name:"ordinary-service",props:{productData:{},purchasedData:{}},setup(e){const a=e,{routeQuery:l}=(0,t.dG)(),{serviceCode:b}=l.value,{bd_userInfo:f}=i.DT.batchGetItem(["bd_userInfo"]),y=(0,c.Gc)({cycle:1}),m=(0,c.IJ)({price:"0.00",sumPrice:"0.00",unitPrice:0,subMarketList:[],hasAgentPrice:!1}),I=((0,u.EW)((()=>a.purchasedData??[])),(0,u.EW)((()=>a.productData))),h=(0,u.EW)((()=>I.value.serviceInfo)),_=(0,u.EW)((()=>`合计：商品单价${m.value.unitPrice}元 x ${y.cycle}年期\n          = ${m.value.sumPrice}元`)),g=(0,u.EW)((()=>["MARKETING_MESSAGE"].includes(b)?"此产品已购买，请勿重复购买":""));async function k(){const e=E().params;m.value=await(0,o.AV)(e)}function E(){const e={agentId:f.profileId,buyCar:!1,helpOrder:1,buyType:l.value.buyType??"BUY_SERVER",companyId:l.value.companyId,profileId:l.value.profileId,shopBuyList:[{agentId:f.profileId,isisTry:!1,dateType:3,dateValue:y.cycle,marketCode:b,coding:null,baseCodeList:null}],sumPrice:m.value.price},a={list:[{...h.value,price:m.value.price,specsInfo:`服务周期：${y.cycle}年`}],sumPrice:m.value.sumPrice};return{params:e,commodityInfo:a}}function P(){(0,o.$d)(E())}return(0,u.sV)((()=>{k()})),(e,a)=>{var l;const t=(0,u.g2)("el-option"),i=(0,u.g2)("el-select"),o=(0,u.g2)("el-form-item"),b=(0,u.g2)("el-form");return(0,u.uX)(),(0,u.CE)("div",d,[(0,u.bF)(n.A,{serviceData:h.value},null,8,["serviceData"]),(0,u.Lk)("div",p,[(0,u.bF)(b,{"label-width":"150px"},{default:(0,u.k6)((()=>[(0,u.bF)(o,{label:"购买数量",class:"amount-form-item"},{default:(0,u.k6)((()=>[(0,u.bF)(i,{modelValue:(0,c.R1)(y).cycle,"onUpdate:modelValue":a[0]||(a[0]=e=>(0,c.R1)(y).cycle=e),onChange:k},{default:(0,u.k6)((()=>[(0,u.bF)(t,{label:"1年期",value:1}),(0,u.bF)(t,{label:"2年期",value:2}),(0,u.bF)(t,{label:"3年期",value:3})])),_:1},8,["modelValue"])])),_:1}),(0,u.bF)(o,null,{default:(0,u.k6)((()=>[(0,u.Lk)("p",v,(0,r.v_)(_.value),1)])),_:1})])),_:1}),(0,u.bF)(s.A,{tip:g.value,onEmitFunc:P,"buy-price":m.value.price,"can-buy":null===(l=I.value)||void 0===l?void 0:l.canBuy,hasAgentPrice:m.value.hasAgentPrice},null,8,["tip","buy-price","can-buy","hasAgentPrice"])])])}}}),f=l(83936);const y=(0,f.A)(b,[["__scopeId","data-v-080fbcdd"]]);var m=y}}]);
//# sourceMappingURL=4529.367a3525.js.map