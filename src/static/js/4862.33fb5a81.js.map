{"version":3,"file":"static/js/4862.33fb5a81.js","mappings":"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","sources":["webpack://daili/./src/views/customer-management/personal-service/list.vue?c7d4","webpack://daili/./src/views/customer-management/personal-service/list.vue","webpack://daili/./src/views/customer-management/personal-service/list.vue?b044"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, resolveComponent as _resolveComponent, createVNode as _createVNode, withKeys as _withKeys, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"personal-customer main-container\" }\nconst _hoisted_2 = { class: \"form-container\" }\nconst _hoisted_3 = { class: \"form\" }\nconst _hoisted_4 = { class: \"table-container\" }\n\nimport { shallowReactive } from \"vue\";\r\n\r\nimport { usePage } from \"jz-tool-lib\";\r\nimport { concatList } from \"@assets/common\";\r\nimport { agencyLevelList } from \"@assets/typeStatus\";\r\nimport { useVueRouter } from \"@assets/useHook\";\r\n\r\nimport { agencyLevelApi } from \"@api/common-api\";\r\nimport { personalAgencyListApi } from \"@api/customer-management-api\";\r\n\r\n\r\nconst __default__ = {\r\n  name: \"customer-management-personal-service-list\",\r\n};\r\n\nexport default /*@__PURE__*/_defineComponent({\n  ...__default__,\n  ...{\r\n  name: \"customerManagement.personalService.list\",\r\n},\n  setup(__props) {\n\r\n\r\n\r\nconst { goPage } = useVueRouter();\r\n\r\nconst initData = shallowReactive({\r\n  tabList: [],\r\n  agencyName: \"\",\r\n  agencyLevel: 0,\r\n});\r\nconst { getList, pageNumberChange, pageSizeChange, pageData, resetPageNumber } =\r\n  usePage({\r\n    listApi: personalAgencyListApi,\r\n    props: {\r\n      pageNumber: \"current\",\r\n      pageSize: \"size\",\r\n    },\r\n    searchParams: () => {\r\n      return {\r\n        agencyName: initData.agencyName,\r\n        agencyLevel: initData.agencyLevel,\r\n      };\r\n    },\r\n  });\r\n\r\n// tab 点击\r\nconst tabClick = (item: Record<string, any>) => {\r\n  initData.agencyLevel = item.value;\r\n  resetPageNumber();\r\n  getList();\r\n};\r\n// 查看详情\r\nconst handleLookDetail = (row: Record<string, any>) => {\r\n  goPage(`/customerManagement/personalService/detail?agencyId=${row.agencyId}`);\r\n};\r\n// 查询当前代理商级别\r\nconst agencyLevel = async () => {\r\n  try {\r\n    const { data: level } = await agencyLevelApi.getData();\r\n    const leveList = agencyLevelList;\r\n    const list = leveList.slice(level, leveList.length);\r\n    initData.tabList = concatList(\r\n      [\r\n        {\r\n          label: \"全部\",\r\n          value: 0,\r\n        },\r\n      ],\r\n      list\r\n    );\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n};\r\nagencyLevel();\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_TabList = _resolveComponent(\"TabList\")!\n  const _component_el_input = _resolveComponent(\"el-input\")!\n  const _component_el_table_column = _resolveComponent(\"el-table-column\")!\n  const _component_el_link = _resolveComponent(\"el-link\")!\n  const _component_TableEmpty = _resolveComponent(\"TableEmpty\")!\n  const _component_el_table = _resolveComponent(\"el-table\")!\n  const _component_PagePagination = _resolveComponent(\"PagePagination\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(_component_TabList, {\n        onEmitTab: tabClick,\n        list: _unref(initData).tabList,\n        activeIndex: _unref(initData).agencyLevel\n      }, null, 8, [\"list\", \"activeIndex\"]),\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createVNode(_component_el_input, {\n          clearable: \"\",\n          placeholder: \"代理商名称\",\n          modelValue: _unref(initData).agencyName,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_unref(initData).agencyName) = $event)),\n          modelModifiers: { trim: true },\n          onKeyup: _withKeys(_unref(getList), [\"enter\"]),\n          onBlur: _unref(getList)\n        }, null, 8, [\"modelValue\", \"onKeyup\", \"onBlur\"])\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_4, [\n      _createVNode(_component_el_table, {\n        data: _unref(pageData).list,\n        height: \"calc(100vh - 270px)\"\n      }, {\n        empty: _withCtx(() => [\n          _createVNode(_component_TableEmpty, { \"empty-text\": \"您还没有下级代理商，试试点击右上角二维码邀请\" })\n        ]),\n        default: _withCtx(() => [\n          _createVNode(_component_el_table_column, {\n            prop: \"userName\",\n            label: \"购买人\",\n            align: \"center\",\n            \"min-width\": \"220\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"mobilePhone\",\n            label: \"手机号\",\n            align: \"center\",\n            \"min-width\": \"180\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"seriesName\",\n            label: \"系列名称\",\n            align: \"center\",\n            \"min-width\": \"200\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"parentName\",\n            label: \"上级服务商\",\n            align: \"center\",\n            \"min-width\": \"200\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"modeName\",\n            label: \"代理模式\",\n            align: \"center\",\n            \"min-width\": \"150\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"agencyLevelName\",\n            label: \"代理级别\",\n            align: \"center\",\n            \"min-width\": \"150\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"sourceName\",\n            label: \"客户来源\",\n            align: \"center\",\n            \"min-width\": \"120\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"createdTime\",\n            label: \"创建时间\",\n            align: \"center\",\n            \"min-width\": \"200\"\n          }),\n          _createVNode(_component_el_table_column, {\n            label: \"操作\",\n            align: \"center\",\n            fixed: \"right\",\n            width: \"150\"\n          }, {\n            default: _withCtx(({ row }) => [\n              _createVNode(_component_el_link, {\n                underline: false,\n                type: \"primary\",\n                onClick: ($event: any) => (handleLookDetail(row))\n              }, {\n                default: _withCtx(() => _cache[1] || (_cache[1] = [\n                  _createTextVNode(\"查看\")\n                ])),\n                _: 2\n              }, 1032, [\"onClick\"])\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 8, [\"data\"]),\n      _createVNode(_component_PagePagination, {\n        pageTotal: _unref(pageData).pageTotal,\n        pageSize: _unref(pageData).pageSize,\n        pageNumber: _unref(pageData).pageNumber,\n        onEmitPageSizeChange: _unref(pageSizeChange),\n        onEmitPageNumberChange: _unref(pageNumberChange)\n      }, null, 8, [\"pageTotal\", \"pageSize\", \"pageNumber\", \"onEmitPageSizeChange\", \"onEmitPageNumberChange\"])\n    ])\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"personal-customer main-container\">\r\n    <div class=\"form-container\">\r\n      <TabList\r\n        @emitTab=\"tabClick\"\r\n        :list=\"initData.tabList\"\r\n        :activeIndex=\"initData.agencyLevel\"\r\n      ></TabList>\r\n      <!--   表单搜索   -->\r\n      <div class=\"form\">\r\n        <el-input\r\n          clearable\r\n          placeholder=\"代理商名称\"\r\n          v-model.trim=\"initData.agencyName\"\r\n          @keyup.enter=\"getList\"\r\n          @blur=\"getList\"\r\n        >\r\n        </el-input>\r\n      </div>\r\n    </div>\r\n    <div class=\"table-container\">\r\n      <!--   列表   -->\r\n      <el-table :data=\"pageData.list\" height=\"calc(100vh - 270px)\">\r\n        <el-table-column\r\n          prop=\"userName\"\r\n          label=\"购买人\"\r\n          align=\"center\"\r\n          min-width=\"220\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"mobilePhone\"\r\n          label=\"手机号\"\r\n          align=\"center\"\r\n          min-width=\"180\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"seriesName\"\r\n          label=\"系列名称\"\r\n          align=\"center\"\r\n          min-width=\"200\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"parentName\"\r\n          label=\"上级服务商\"\r\n          align=\"center\"\r\n          min-width=\"200\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"modeName\"\r\n          label=\"代理模式\"\r\n          align=\"center\"\r\n          min-width=\"150\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"agencyLevelName\"\r\n          label=\"代理级别\"\r\n          align=\"center\"\r\n          min-width=\"150\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"sourceName\"\r\n          label=\"客户来源\"\r\n          align=\"center\"\r\n          min-width=\"120\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"createdTime\"\r\n          label=\"创建时间\"\r\n          align=\"center\"\r\n          min-width=\"200\"\r\n        ></el-table-column>\r\n        <el-table-column label=\"操作\" align=\"center\" fixed=\"right\" width=\"150\">\r\n          <template #default=\"{ row }\">\r\n            <el-link\r\n              :underline=\"false\"\r\n              type=\"primary\"\r\n              @click=\"handleLookDetail(row)\"\r\n              >查看</el-link\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n        <template #empty>\r\n          <TableEmpty\r\n            empty-text=\"您还没有下级代理商，试试点击右上角二维码邀请\"\r\n          ></TableEmpty>\r\n        </template>\r\n      </el-table>\r\n      <!--   分页   -->\r\n      <PagePagination\r\n        :pageTotal=\"pageData.pageTotal\"\r\n        :pageSize=\"pageData.pageSize\"\r\n        :pageNumber=\"pageData.pageNumber\"\r\n        @emitPageSizeChange=\"pageSizeChange\"\r\n        @emitPageNumberChange=\"pageNumberChange\"\r\n      ></PagePagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script lang=\"ts\">\r\nexport default {\r\n  name: \"customer-management-personal-service-list\",\r\n};\r\n</script>\r\n<script lang=\"ts\" setup>\r\nimport { shallowReactive } from \"vue\";\r\n\r\nimport { usePage } from \"jz-tool-lib\";\r\nimport { concatList } from \"@assets/common\";\r\nimport { agencyLevelList } from \"@assets/typeStatus\";\r\nimport { useVueRouter } from \"@assets/useHook\";\r\n\r\nimport { agencyLevelApi } from \"@api/common-api\";\r\nimport { personalAgencyListApi } from \"@api/customer-management-api\";\r\n\r\ndefineOptions({\r\n  name: \"customerManagement.personalService.list\",\r\n});\r\n\r\nconst { goPage } = useVueRouter();\r\n\r\nconst initData = shallowReactive({\r\n  tabList: [],\r\n  agencyName: \"\",\r\n  agencyLevel: 0,\r\n});\r\nconst { getList, pageNumberChange, pageSizeChange, pageData, resetPageNumber } =\r\n  usePage({\r\n    listApi: personalAgencyListApi,\r\n    props: {\r\n      pageNumber: \"current\",\r\n      pageSize: \"size\",\r\n    },\r\n    searchParams: () => {\r\n      return {\r\n        agencyName: initData.agencyName,\r\n        agencyLevel: initData.agencyLevel,\r\n      };\r\n    },\r\n  });\r\n\r\n// tab 点击\r\nconst tabClick = (item: Record<string, any>) => {\r\n  initData.agencyLevel = item.value;\r\n  resetPageNumber();\r\n  getList();\r\n};\r\n// 查看详情\r\nconst handleLookDetail = (row: Record<string, any>) => {\r\n  goPage(`/customerManagement/personalService/detail?agencyId=${row.agencyId}`);\r\n};\r\n// 查询当前代理商级别\r\nconst agencyLevel = async () => {\r\n  try {\r\n    const { data: level } = await agencyLevelApi.getData();\r\n    const leveList = agencyLevelList;\r\n    const list = leveList.slice(level, leveList.length);\r\n    initData.tabList = concatList(\r\n      [\r\n        {\r\n          label: \"全部\",\r\n          value: 0,\r\n        },\r\n      ],\r\n      list\r\n    );\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n};\r\nagencyLevel();\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.form-container {\r\n  :deep(.el-input) {\r\n    width: 240px;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./list.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./list.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./list.vue?vue&type=style&index=0&id=69787fe2&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/.pnpm/vue-loader@17.4.2_@vue+compiler-sfc@3.5.13_vue@3.5.13_typescript@5.7.2__webpack@5.97.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-69787fe2\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","__default__","name","_defineComponent","setup","__props","goPage","useVueRouter","initData","shallowReactive","tabList","agencyName","agencyLevel","getList","pageNumberChange","pageSizeChange","pageData","resetPageNumber","usePage","listApi","personalAgencyListApi","props","pageNumber","pageSize","searchParams","tabClick","item","value","handleLookDetail","row","agencyId","async","data","level","agencyLevelApi","getData","leveList","agencyLevelList","list","slice","length","concatList","label","e","console","log","_ctx","_cache","_component_TabList","_resolveComponent","_component_el_input","_component_el_table_column","_component_el_link","_component_TableEmpty","_component_el_table","_component_PagePagination","_openBlock","_createElementBlock","_createElementVNode","_createVNode","onEmitTab","_unref","activeIndex","clearable","placeholder","modelValue","$event","modelModifiers","trim","onKeyup","_withKeys","onBlur","height","empty","_withCtx","default","prop","align","fixed","width","underline","type","onClick","_createTextVNode","_","pageTotal","onEmitPageSizeChange","onEmitPageNumberChange","__exports__"],"sourceRoot":""}