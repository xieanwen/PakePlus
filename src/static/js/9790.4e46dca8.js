"use strict";(self["webpackChunkdaili"]=self["webpackChunkdaili"]||[]).push([[9790],{89790:function(e,a,t){t.r(a),t.d(a,{default:function(){return g}});var l=t(6254),s=t(38627),i=t(15137),n=t(25598),c=t(35287);const u={class:"content"},o={class:"collapse-content"},d={class:"content"},r={class:"supplement-content"},p={class:"content"},m={key:0,class:"describe"},v={key:1,class:"img-box"},k=["onClick"],y={key:0,class:"reSubmit-btn"};var b=(0,l.pM)({__name:"supplement-log-drawer",emits:["reSubmit"],setup(e,{expose:a,emit:t}){const b=t,f=(0,n.Kh)({type:"",visible:!1,activeName:"",listData:[],industryList:[]}),C=(0,n.KR)({id:"",companyId:"",companyCode:"",companyName:"",businessType:""}),g=async()=>{var e;const a={reportId:C.value.id},{data:t}=await c.f3.getData(a),{list:l}=c.f3.handleData(t,f.industryList);f.listData=l,f.activeName=(null===(e=f.listData[0])||void 0===e?void 0:e.id)||""},_=async()=>{const{data:e}=await c.Bu.getData();f.industryList=c.Bu.handleData(e)};function L(e){const a=document.createElement("a");a.href=e.url,a.target="_blank",a.download=e.name,a.click()}function X(e){b("reSubmit",C.value,e),f.visible=!1}async function E(e,a){f.visible=e,C.value=a,e&&(await _(),g())}return a({trigger:E}),(e,a)=>{const t=(0,l.g2)("el-tag"),n=(0,l.g2)("el-image"),c=(0,l.g2)("el-button"),b=(0,l.g2)("el-collapse-item"),C=(0,l.g2)("el-collapse"),g=(0,l.g2)("el-drawer");return(0,l.uX)(),(0,l.Wv)(g,{modelValue:f.visible,"onUpdate:modelValue":a[2]||(a[2]=e=>f.visible=e),class:"custom-drawer",title:"补充记录",size:"700"},{footer:(0,l.k6)((()=>[(0,l.bF)(c,{onClick:a[1]||(a[1]=e=>f.visible=!1)},{default:(0,l.k6)((()=>a[8]||(a[8]=[(0,l.eW)("关闭")]))),_:1})])),default:(0,l.k6)((()=>[(0,l.bF)(C,{accordion:"",modelValue:f.activeName,"onUpdate:modelValue":a[0]||(a[0]=e=>f.activeName=e),class:"body-content"},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(f.listData,((e,f)=>((0,l.uX)(),(0,l.Wv)(b,{key:f,name:e.id,class:"card-item"},{title:(0,l.k6)((()=>[a[3]||(a[3]=(0,l.Lk)("span",{class:"label"},"补充时间",-1)),(0,l.Lk)("span",u,(0,s.v_)(e.createdTime),1),(0,l.bF)(t,{class:"status",type:e.statusType,size:"small"},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(e.statusDesc),1)])),_:2},1032,["type"])])),default:(0,l.k6)((()=>[(0,l.Lk)("div",o,[(0,l.Lk)("div",null,[a[4]||(a[4]=(0,l.Lk)("span",{class:"label"},"补充人员",-1)),(0,l.Lk)("span",d,(0,s.v_)(e.createdName),1)]),(0,l.Lk)("div",r,[a[6]||(a[6]=(0,l.Lk)("span",{class:"label crimp"},"补充内容",-1)),(0,l.Lk)("div",p,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.recordContentList,((e,t)=>((0,l.uX)(),(0,l.CE)("div",{class:"component",key:t},[(0,l.Lk)("p",null,(0,s.v_)(e.tagName)+":",1),[9,13].includes(e.propertyType)?((0,l.uX)(),(0,l.CE)("div",v,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.value,((e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t,class:"box-item"},["image"===e.type?((0,l.uX)(),(0,l.Wv)(n,{key:0,src:e.url,fit:"cover","preview-src-list":[e.url],class:"img-item"},null,8,["src","preview-src-list"])):((0,l.uX)(),(0,l.CE)("div",{key:1,class:"file-icon",onClick:a=>L(e)},a[5]||(a[5]=[(0,l.Lk)("img",{src:i,alt:""},null,-1)]),8,k))])))),128))])):((0,l.uX)(),(0,l.CE)("p",m,[[4,5,11,12].includes(e.propertyType)?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[(0,l.eW)((0,s.v_)(e.label),1)],64)):((0,l.uX)(),(0,l.CE)(l.FK,{key:1},[(0,l.eW)((0,s.v_)(e.value),1)],64))]))])))),128))])]),"3"===e.status?((0,l.uX)(),(0,l.CE)("div",y,[(0,l.bF)(c,{type:"primary",onClick:a=>X(e)},{default:(0,l.k6)((()=>a[7]||(a[7]=[(0,l.eW)("重新提交")]))),_:2},1032,["onClick"])])):(0,l.Q3)("",!0)])])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])}}}),f=t(83936);const C=(0,f.A)(b,[["__scopeId","data-v-e248cee0"]]);var g=C}}]);
//# sourceMappingURL=9790.4e46dca8.js.map