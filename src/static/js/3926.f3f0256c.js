"use strict";(self["webpackChunkdaili"]=self["webpackChunkdaili"]||[]).push([[3926],{19780:function(s,e,o){o.r(e),o.d(e,{default:function(){return P}});var r=o(6254),a=o(38627),d=o(25598),l=o(59259),t=o(88365),i=o(10901),p=o(27656),n=o(74718),u=o(86220);const w={class:"modify-password"},c={class:"container"},m=["xlink:href"],g=["xlink:href"],f=["xlink:href"],h={class:"copyright"};var k=(0,r.pM)({name:"forgetPassword",__name:"modify-password",setup(s){const e=(0,d.KR)(),{goPage:o}=(0,i.dG)(),{storeState:k}=(0,i.VO)(),y=t.DT.getItem("bd_authorization"),b=(0,d.Kh)({submitFlag:!1,oldPasswordType:"password",passwordType:"password",rePasswordType:"password"}),P=(0,d.Kh)({oldPassword:"",password:"",rePassword:""}),v={oldPassword:[{required:!0,message:"请输入旧密码",trigger:"blur"}],password:[{validator:(s,o,r)=>{(0,p.Oj)(s,o,r,P,e,"rePassword")},trigger:"blur"}],rePassword:[{validator:(s,e,o)=>{(0,p.lx)(s,e,o,P,"password")},trigger:"blur"}]},F=(s,e)=>{e[s]="text"===e[s]?"password":"text"},T=()=>{e.value.validate((s=>{if(!s)return!1;{if(b.submitFlag)return;b.submitFlag=!0;let s={oldPwd:P.oldPassword,newPwd:P.password,token:y};n.AK.getData(s).then((()=>{b.submitFlag=!1,(0,l.nk)({message:"密码修改成功,请重新登录",type:"success"}),o("/login")})).catch((()=>{b.submitFlag=!1}))}}))};return(s,o)=>{const l=(0,r.g2)("el-alert"),t=(0,r.g2)("el-input"),i=(0,r.g2)("el-form-item"),p=(0,r.g2)("el-form");return(0,r.uX)(),(0,r.CE)("div",w,[(0,r.bF)(u.A,{pageName:"register"}),(0,r.bF)(l,{class:"tip",title:"重设密码",description:"您的密码过于简单。密码设置要求8~16位，包含大写字母、小写字母、数字、特殊字符（.!@#$%^&*`~()-+=），任意3种组合；",type:"warning"}),(0,r.Lk)("div",c,[o[6]||(o[6]=(0,r.Lk)("h6",null,"修改密码",-1)),(0,r.bF)(p,{ref_key:"formRef",ref:e,model:P,rules:v},{default:(0,r.k6)((()=>[(0,r.bF)(i,{prop:"oldPassword",class:"password-item"},{default:(0,r.k6)((()=>[(0,r.bF)(t,{modelValue:P.oldPassword,"onUpdate:modelValue":o[0]||(o[0]=s=>P.oldPassword=s),modelModifiers:{trim:!0},type:b.oldPasswordType,placeholder:"请输入旧密码"},null,8,["modelValue","type"]),((0,r.uX)(),(0,r.CE)("svg",{class:"icon","aria-hidden":"true",onClick:o[1]||(o[1]=s=>F("oldPasswordType",b))},[(0,r.Lk)("use",{"xlink:href":"password"===b.oldPasswordType?"#icon-password-hide":"#icon-password-show"},null,8,m)]))])),_:1}),(0,r.bF)(i,{prop:"password",class:"password-item"},{default:(0,r.k6)((()=>[(0,r.bF)(t,{modelValue:P.password,"onUpdate:modelValue":o[2]||(o[2]=s=>P.password=s),modelModifiers:{trim:!0},type:b.passwordType,placeholder:"请输入新密码"},null,8,["modelValue","type"]),((0,r.uX)(),(0,r.CE)("svg",{class:"icon","aria-hidden":"true",onClick:o[3]||(o[3]=s=>F("passwordType",b))},[(0,r.Lk)("use",{"xlink:href":"password"===b.passwordType?"#icon-password-hide":"#icon-password-show"},null,8,g)]))])),_:1}),(0,r.bF)(i,{prop:"rePassword",class:"password-item"},{default:(0,r.k6)((()=>[(0,r.bF)(t,{modelValue:P.rePassword,"onUpdate:modelValue":o[4]||(o[4]=s=>P.rePassword=s),modelModifiers:{trim:!0},type:b.rePasswordType,placeholder:"请再次输入确认密码"},null,8,["modelValue","type"]),((0,r.uX)(),(0,r.CE)("svg",{class:"icon","aria-hidden":"true",onClick:o[5]||(o[5]=s=>F("rePasswordType",b))},[(0,r.Lk)("use",{"xlink:href":"password"===b.rePasswordType?"#icon-password-hide":"#icon-password-show"},null,8,f)]))])),_:1}),(0,r.bF)(i,null,{default:(0,r.k6)((()=>[(0,r.Lk)("div",{class:"submit-button",onClick:T},"登录")])),_:1})])),_:1},8,["model"])]),(0,r.Lk)("div",h,(0,a.v_)((0,d.R1)(k).copyright),1)])}}}),y=o(83936);const b=(0,y.A)(k,[["__scopeId","data-v-6b7970a6"]]);var P=b}}]);
//# sourceMappingURL=3926.f3f0256c.js.map