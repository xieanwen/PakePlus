"use strict";(self["webpackChunkdaili"]=self["webpackChunkdaili"]||[]).push([[1582],{91582:function(e,t,a){a.r(t),a.d(t,{default:function(){return s}});var n=a(6254),l=a(25598),r=a(10901),c=a(79689);const i={class:"table-container"};var o=(0,n.pM)({__name:"service-list",setup(e){const t=(0,n.$V)((()=>Promise.all([a.e(2076),a.e(9128)]).then(a.bind(a,79128)))),{route:o,onBeforeRouteLeave:u}=(0,r.dG)(),s=(0,l.KR)(),p=(0,l.Gc)({renewVisible:!1,productList:[],timer:null});async function d(){try{const e={companyId:o.query.companyId},{data:t}=await c.DV.getData(e);p.productList=c.DV.handleData(t)}catch(e){console.log(e)}}o.query.companyId?d():p.timer=setInterval((()=>{o.query.companyId&&(d(),clearInterval(p.timer))}),2e3);const b=e=>{s.value.toggle(!0,Object.assign(e,{productType:"service"}))};return u((()=>{clearInterval(p.timer)})),(e,a)=>{const r=(0,n.g2)("el-table-column"),c=(0,n.g2)("el-button"),o=(0,n.g2)("TableEmpty"),u=(0,n.g2)("el-table");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",i,[(0,n.bF)(u,{data:(0,l.R1)(p).productList,height:"calc(100vh - 280px)"},{empty:(0,n.k6)((()=>[(0,n.bF)(o,{"empty-text":"暂无产品"})])),default:(0,n.k6)((()=>[(0,n.bF)(r,{prop:"combineServiceName",label:"产品名称",align:"center"}),(0,n.bF)(r,{prop:"startTime",label:"购买日期",align:"center"}),(0,n.bF)(r,{prop:"endTime",label:"到期时间",align:"center"}),(0,n.bF)(r,{label:"操作",align:"right"},{default:(0,n.k6)((({row:e})=>[e.isRenew?((0,n.uX)(),(0,n.Wv)(c,{key:0,link:"",type:"primary",onClick:t=>b(e)},{default:(0,n.k6)((()=>a[0]||(a[0]=[(0,n.eW)("续费")]))),_:2},1032,["onClick"])):(0,n.Q3)("",!0)])),_:1})])),_:1},8,["data"])]),(0,n.bF)((0,l.R1)(t),{ref_key:"renewRef",ref:s},null,512)],64)}}});const u=o;var s=u}}]);
//# sourceMappingURL=1582.d6e8358a.js.map