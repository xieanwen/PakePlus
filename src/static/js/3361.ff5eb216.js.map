{"version":3,"file":"static/js/3361.ff5eb216.js","mappings":"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","sources":["webpack://daili/./src/views/order-management/create-order/company-list/index.vue?ecbc","webpack://daili/./src/views/order-management/create-order/company-list/index.vue","webpack://daili/./src/views/order-management/create-order/company-list/index.vue?4141"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, withKeys as _withKeys, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"company-list\" }\nconst _hoisted_2 = { class: \"form-container\" }\nconst _hoisted_3 = { class: \"table-container\" }\nconst _hoisted_4 = { class: \"button-group\" }\n\nimport { ref, unref, shallowReactive } from \"vue\";\r\nimport { Search } from \"@element-plus/icons-vue\";\r\nimport { ElMessage } from \"element-plus\";\r\n\r\nimport { usePage, LocalStorage } from \"jz-tool-lib\";\r\nimport { useVueRouter } from \"@assets/useHook\";\r\n\r\nimport { allCustomerApi } from \"@api/customer-management-api\";\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  ...{\r\n  name: \"orderManagement.createOrder.companyList\",\r\n},\n  __name: 'index',\n  setup(__props) {\n\r\n\r\n\r\nconst { bd_userInfo: userInfo } = LocalStorage.batchGetItem([\"bd_userInfo\"]);\r\nconst { goPage } = useVueRouter();\r\nconst tableRef = ref();\r\nconst companyInfo = ref<Record<string, any>>({});\r\nconst paramsData = shallowReactive({\r\n  companyName: \"\",\r\n  serviceStatus: 1,\r\n  parentId: userInfo.profileId,\r\n});\r\nconst { getList, pageNumberChange, pageSizeChange, pageData, resetPageNumber } =\r\n  usePage({\r\n    listApi: allCustomerApi,\r\n    props: {\r\n      pageSize: \"pageSize\",\r\n      pageNumber: \"page\",\r\n    },\r\n    paramsData,\r\n  });\r\n\r\nfunction handleSearch() {\r\n  resetPageNumber();\r\n  getList();\r\n}\r\n\r\nfunction handleSelect(selection, row) {\r\n  selectRow(row);\r\n}\r\n\r\nfunction selectRow(row) {\r\n  unref(tableRef).clearSelection();\r\n  unref(tableRef).toggleRowSelection(row, true);\r\n  companyInfo.value = row;\r\n}\r\n\r\nfunction handleMarkTrue() {\r\n  if (!Object.keys(companyInfo.value).length) {\r\n    ElMessage.warning(\"请选择客户\");\r\n    return;\r\n  }\r\n  goPage(\r\n    `/orderManagement/createOrder/applicationCenter?businessType=${companyInfo.value?.businessType}&companyId=${companyInfo.value?.companyId}&profileId=${companyInfo.value?.profileId}`\r\n  );\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_icon = _resolveComponent(\"el-icon\")!\n  const _component_el_input = _resolveComponent(\"el-input\")!\n  const _component_el_table_column = _resolveComponent(\"el-table-column\")!\n  const _component_TableEmpty = _resolveComponent(\"TableEmpty\")!\n  const _component_el_table = _resolveComponent(\"el-table\")!\n  const _component_PagePagination = _resolveComponent(\"PagePagination\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(_component_el_input, {\n        modelValue: _unref(paramsData).companyName,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_unref(paramsData).companyName) = $event)),\n        onKeyup: _withKeys(handleSearch, [\"enter\"]),\n        clearable: \"\",\n        placeholder: \"请输入公司名称\"\n      }, {\n        suffix: _withCtx(() => [\n          _createVNode(_component_el_icon, { onClick: handleSearch }, {\n            default: _withCtx(() => [\n              _createVNode(_unref(Search))\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 8, [\"modelValue\"])\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createVNode(_component_el_table, {\n        ref_key: \"tableRef\",\n        ref: tableRef,\n        onSelect: handleSelect,\n        onRowClick: selectRow,\n        data: _unref(pageData).list,\n        \"row-key\": (val) => val.companyId,\n        height: \"calc(100vh - 408px)\"\n      }, {\n        empty: _withCtx(() => [\n          _createVNode(_component_TableEmpty, { \"empty-text\": \"暂无列表\" })\n        ]),\n        default: _withCtx(() => [\n          _createVNode(_component_el_table_column, {\n            type: \"selection\",\n            \"reserve-selection\": true,\n            width: \"55\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"companyName\",\n            label: \"企业名称\",\n            align: \"center\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"simpleName\",\n            label: \"别称\",\n            align: \"center\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"companyCode\",\n            label: \"企业code\",\n            align: \"center\"\n          })\n        ]),\n        _: 1\n      }, 8, [\"data\", \"row-key\"]),\n      _createVNode(_component_PagePagination, {\n        pageTotal: _unref(pageData).pageTotal,\n        pageSize: _unref(pageData).pageSize,\n        pageNumber: _unref(pageData).pageNumber,\n        onEmitPageSizeChange: _unref(pageSizeChange),\n        onEmitPageNumberChange: _unref(pageNumberChange)\n      }, null, 8, [\"pageTotal\", \"pageSize\", \"pageNumber\", \"onEmitPageSizeChange\", \"onEmitPageNumberChange\"]),\n      _createElementVNode(\"div\", _hoisted_4, [\n        _createVNode(_component_el_button, {\n          type: \"primary\",\n          onClick: handleMarkTrue\n        }, {\n          default: _withCtx(() => _cache[1] || (_cache[1] = [\n            _createTextVNode(\"确定选择\")\n          ])),\n          _: 1\n        })\n      ])\n    ])\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"company-list\">\r\n    <div class=\"form-container\">\r\n      <el-input\r\n        v-model=\"paramsData.companyName\"\r\n        @keyup.enter=\"handleSearch\"\r\n        clearable\r\n        placeholder=\"请输入公司名称\"\r\n      >\r\n        <template #suffix>\r\n          <el-icon @click=\"handleSearch\">\r\n            <Search />\r\n          </el-icon>\r\n        </template>\r\n      </el-input>\r\n    </div>\r\n    <div class=\"table-container\">\r\n      <!--   列表   -->\r\n      <el-table\r\n        ref=\"tableRef\"\r\n        @select=\"handleSelect\"\r\n        @row-click=\"selectRow\"\r\n        :data=\"pageData.list\"\r\n        :row-key=\"(val) => val.companyId\"\r\n        height=\"calc(100vh - 408px)\"\r\n      >\r\n        <el-table-column\r\n          type=\"selection\"\r\n          :reserve-selection=\"true\"\r\n          width=\"55\"\r\n        />\r\n        <el-table-column\r\n          prop=\"companyName\"\r\n          label=\"企业名称\"\r\n          align=\"center\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"simpleName\"\r\n          label=\"别称\"\r\n          align=\"center\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"companyCode\"\r\n          label=\"企业code\"\r\n          align=\"center\"\r\n        ></el-table-column>\r\n        <template #empty>\r\n          <TableEmpty empty-text=\"暂无列表\"></TableEmpty>\r\n        </template>\r\n      </el-table>\r\n      <!--   分页   -->\r\n      <PagePagination\r\n        :pageTotal=\"pageData.pageTotal\"\r\n        :pageSize=\"pageData.pageSize\"\r\n        :pageNumber=\"pageData.pageNumber\"\r\n        @emitPageSizeChange=\"pageSizeChange\"\r\n        @emitPageNumberChange=\"pageNumberChange\"\r\n      ></PagePagination>\r\n      <div class=\"button-group\">\r\n        <el-button type=\"primary\" @click=\"handleMarkTrue\">确定选择</el-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport { ref, unref, shallowReactive } from \"vue\";\r\nimport { Search } from \"@element-plus/icons-vue\";\r\nimport { ElMessage } from \"element-plus\";\r\n\r\nimport { usePage, LocalStorage } from \"jz-tool-lib\";\r\nimport { useVueRouter } from \"@assets/useHook\";\r\n\r\nimport { allCustomerApi } from \"@api/customer-management-api\";\r\n\r\ndefineOptions({\r\n  name: \"orderManagement.createOrder.companyList\",\r\n});\r\n\r\nconst { bd_userInfo: userInfo } = LocalStorage.batchGetItem([\"bd_userInfo\"]);\r\nconst { goPage } = useVueRouter();\r\nconst tableRef = ref();\r\nconst companyInfo = ref<Record<string, any>>({});\r\nconst paramsData = shallowReactive({\r\n  companyName: \"\",\r\n  serviceStatus: 1,\r\n  parentId: userInfo.profileId,\r\n});\r\nconst { getList, pageNumberChange, pageSizeChange, pageData, resetPageNumber } =\r\n  usePage({\r\n    listApi: allCustomerApi,\r\n    props: {\r\n      pageSize: \"pageSize\",\r\n      pageNumber: \"page\",\r\n    },\r\n    paramsData,\r\n  });\r\n\r\nfunction handleSearch() {\r\n  resetPageNumber();\r\n  getList();\r\n}\r\n\r\nfunction handleSelect(selection, row) {\r\n  selectRow(row);\r\n}\r\n\r\nfunction selectRow(row) {\r\n  unref(tableRef).clearSelection();\r\n  unref(tableRef).toggleRowSelection(row, true);\r\n  companyInfo.value = row;\r\n}\r\n\r\nfunction handleMarkTrue() {\r\n  if (!Object.keys(companyInfo.value).length) {\r\n    ElMessage.warning(\"请选择客户\");\r\n    return;\r\n  }\r\n  goPage(\r\n    `/orderManagement/createOrder/applicationCenter?businessType=${companyInfo.value?.businessType}&companyId=${companyInfo.value?.companyId}&profileId=${companyInfo.value?.profileId}`\r\n  );\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.form-container {\r\n  margin-top: 20px;\r\n  justify-content: flex-end;\r\n\r\n  .el-input {\r\n    width: 250px;\r\n  }\r\n}\r\n\r\n:deep(.el-table) {\r\n  .el-table__header-wrapper .el-table-column--selection .el-checkbox {\r\n    display: none;\r\n  }\r\n}\r\n\r\n.button-group {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  padding: 20px 10px 0;\r\n}\r\n</style>\r\n","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=885ec8a6&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/.pnpm/vue-loader@17.4.2_@vue+compiler-sfc@3.5.13_vue@3.5.13_typescript@5.7.2__webpack@5.97.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-885ec8a6\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_defineComponent","name","__name","setup","__props","bd_userInfo","userInfo","LocalStorage","batchGetItem","goPage","useVueRouter","tableRef","ref","companyInfo","paramsData","shallowReactive","companyName","serviceStatus","parentId","profileId","getList","pageNumberChange","pageSizeChange","pageData","resetPageNumber","usePage","listApi","allCustomerApi","props","pageSize","pageNumber","handleSearch","handleSelect","selection","row","selectRow","unref","clearSelection","toggleRowSelection","value","handleMarkTrue","_companyInfo$value","_companyInfo$value2","_companyInfo$value3","Object","keys","length","businessType","companyId","ElMessage","warning","_ctx","_cache","_component_el_icon","_resolveComponent","_component_el_input","_component_el_table_column","_component_TableEmpty","_component_el_table","_component_PagePagination","_component_el_button","_openBlock","_createElementBlock","_createElementVNode","_createVNode","modelValue","_unref","$event","onKeyup","_withKeys","clearable","placeholder","suffix","_withCtx","onClick","default","Search","_","ref_key","onSelect","onRowClick","data","list","val","height","empty","type","width","prop","label","align","pageTotal","onEmitPageSizeChange","onEmitPageNumberChange","_createTextVNode","__exports__"],"sourceRoot":""}