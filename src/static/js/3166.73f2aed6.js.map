{"version":3,"file":"static/js/3166.73f2aed6.js","mappings":"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","sources":["webpack://daili/./src/views/business-management/gathering-guests/price-setting/index.vue?6766","webpack://daili/./src/views/business-management/gathering-guests/price-setting/index.vue","webpack://daili/./src/views/business-management/gathering-guests/price-setting/index.vue?3a78"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"table-container\" }\n\nimport { ref, defineAsyncComponent } from \"vue\";\r\nimport { usePage, LocalStorage } from \"jz-tool-lib\";\r\nimport { companyLineListApi } from \"@api/business-management-api\";\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  ...{\r\n  name: \"businessManagement.gatheringGuests.priceSetting\",\r\n},\n  __name: 'index',\n  setup(__props) {\n\r\nconst setUnitPriceDialog = defineAsyncComponent(\r\n  () =>\r\n    import(\r\n      \"@/components/business-management/ospreyCloudCall/price-setting/set-unit-price-dialog.vue\"\r\n    )\r\n);\r\n\r\n\r\n\r\nconst setUnitPriceRef = ref();\r\nconst { bd_agentId: agentId, bd_userInfo: userInfo } =\r\n  LocalStorage.batchGetItem([\"bd_agentId\", \"bd_userInfo\"]);\r\n// 公司单价设置列表\r\nconst { getList, pageNumberChange, pageSizeChange, pageData, resetPageNumber } =\r\n  usePage({\r\n    listApi: companyLineListApi,\r\n    props: {\r\n      pageSize: \"pageSize\",\r\n      pageNumber: \"pageNo\",\r\n    },\r\n    searchParams: function () {\r\n      return {\r\n        prentId: userInfo.profileId,\r\n        agentId: agentId, // 代理商id\r\n        type: 1, // 0是呼叫 1是21s\r\n      };\r\n    },\r\n  });\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_table_column = _resolveComponent(\"el-table-column\")!\n  const _component_el_link = _resolveComponent(\"el-link\")!\n  const _component_TableEmpty = _resolveComponent(\"TableEmpty\")!\n  const _component_el_table = _resolveComponent(\"el-table\")!\n  const _component_PagePagination = _resolveComponent(\"PagePagination\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createVNode(_component_el_table, {\n        data: _unref(pageData).list,\n        height: \"calc(100vh - 220px)\"\n      }, {\n        empty: _withCtx(() => [\n          _createVNode(_component_TableEmpty, { \"empty-text\": \"暂无数据\" })\n        ]),\n        default: _withCtx(() => [\n          _createVNode(_component_el_table_column, {\n            prop: \"companyName\",\n            label: \"公司名称\",\n            align: \"center\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"lineName\",\n            label: \"线路\",\n            align: \"center\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"marketPrice\",\n            label: \"话费市场价\",\n            align: \"center\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"agentPrice\",\n            label: \"话费代理价\",\n            align: \"center\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"price\",\n            label: \"话费单价\",\n            align: \"center\"\n          }, {\n            default: _withCtx(({ row }) => [\n              _createTextVNode(_toDisplayString(row.price ? row.price / 1000 : 0), 1)\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"\",\n            label: \"操作\",\n            align: \"center\"\n          }, {\n            default: _withCtx(({ row }) => [\n              _createVNode(_component_el_link, {\n                disabled: !!row.lineCode,\n                type: \"primary\",\n                underline: false,\n                onClick: ($event: any) => (setUnitPriceRef.value.trigger(true, 1, row))\n              }, {\n                default: _withCtx(() => _cache[0] || (_cache[0] = [\n                  _createTextVNode(\"设置话费单价 \")\n                ])),\n                _: 2\n              }, 1032, [\"disabled\", \"onClick\"])\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 8, [\"data\"]),\n      _createVNode(_component_PagePagination, {\n        pageTotal: _unref(pageData).pageTotal,\n        pageSize: _unref(pageData).pageSize,\n        pageNumber: _unref(pageData).pageNumber,\n        onEmitPageSizeChange: _unref(pageSizeChange),\n        onEmitPageNumberChange: _unref(pageNumberChange)\n      }, null, 8, [\"pageTotal\", \"pageSize\", \"pageNumber\", \"onEmitPageSizeChange\", \"onEmitPageNumberChange\"])\n    ]),\n    _createVNode(_unref(setUnitPriceDialog), {\n      ref_key: \"setUnitPriceRef\",\n      ref: setUnitPriceRef,\n      onEmitFunc: _unref(getList)\n    }, null, 8, [\"onEmitFunc\"])\n  ], 64))\n}\n}\n\n})","<template>\r\n  <!--  21秒云集客/公司单价设置-->\r\n  <div class=\"table-container\">\r\n    <!--   列表   -->\r\n    <el-table :data=\"pageData.list\" height=\"calc(100vh - 220px)\">\r\n      <el-table-column prop=\"companyName\" label=\"公司名称\" align=\"center\" />\r\n      <el-table-column prop=\"lineName\" label=\"线路\" align=\"center\" />\r\n      <el-table-column prop=\"marketPrice\" label=\"话费市场价\" align=\"center\" />\r\n      <el-table-column prop=\"agentPrice\" label=\"话费代理价\" align=\"center\" />\r\n      <el-table-column prop=\"price\" label=\"话费单价\" align=\"center\">\r\n        <template #default=\"{ row }\">\r\n          {{ row.price ? row.price / 1000 : 0 }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"\" label=\"操作\" align=\"center\">\r\n        <template #default=\"{ row }\">\r\n          <el-link\r\n            :disabled=\"!!row.lineCode\"\r\n            type=\"primary\"\r\n            :underline=\"false\"\r\n            @click=\"setUnitPriceRef.trigger(true, 1, row)\"\r\n            >设置话费单价\r\n          </el-link>\r\n        </template>\r\n      </el-table-column>\r\n      <template #empty>\r\n        <TableEmpty empty-text=\"暂无数据\"></TableEmpty>\r\n      </template>\r\n    </el-table>\r\n    <PagePagination\r\n      :pageTotal=\"pageData.pageTotal\"\r\n      :pageSize=\"pageData.pageSize\"\r\n      :pageNumber=\"pageData.pageNumber\"\r\n      @emitPageSizeChange=\"pageSizeChange\"\r\n      @emitPageNumberChange=\"pageNumberChange\"\r\n    ></PagePagination>\r\n  </div>\r\n  <setUnitPriceDialog\r\n    ref=\"setUnitPriceRef\"\r\n    @emitFunc=\"getList\"\r\n  ></setUnitPriceDialog>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { ref, defineAsyncComponent } from \"vue\";\r\nimport { usePage, LocalStorage } from \"jz-tool-lib\";\r\nimport { companyLineListApi } from \"@api/business-management-api\";\r\n\r\nconst setUnitPriceDialog = defineAsyncComponent(\r\n  () =>\r\n    import(\r\n      \"@/components/business-management/ospreyCloudCall/price-setting/set-unit-price-dialog.vue\"\r\n    )\r\n);\r\n\r\ndefineOptions({\r\n  name: \"businessManagement.gatheringGuests.priceSetting\",\r\n});\r\n\r\nconst setUnitPriceRef = ref();\r\nconst { bd_agentId: agentId, bd_userInfo: userInfo } =\r\n  LocalStorage.batchGetItem([\"bd_agentId\", \"bd_userInfo\"]);\r\n// 公司单价设置列表\r\nconst { getList, pageNumberChange, pageSizeChange, pageData, resetPageNumber } =\r\n  usePage({\r\n    listApi: companyLineListApi,\r\n    props: {\r\n      pageSize: \"pageSize\",\r\n      pageNumber: \"pageNo\",\r\n    },\r\n    searchParams: function () {\r\n      return {\r\n        prentId: userInfo.profileId,\r\n        agentId: agentId, // 代理商id\r\n        type: 1, // 0是呼叫 1是21s\r\n      };\r\n    },\r\n  });\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.self-price {\r\n  font-size: 14px;\r\n  color: #646b7a;\r\n  line-height: 14px;\r\n\r\n  .red-font {\r\n    color: rgb(244, 77, 77);\r\n  }\r\n}\r\n\r\n:deep(.el-input-number) {\r\n  width: 100%;\r\n  margin-top: 30px;\r\n\r\n  .el-input__inner {\r\n    text-align: left;\r\n    font-size: 18px;\r\n\r\n    &::placeholder {\r\n      color: #9ca6b9;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=266137b2&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../../node_modules/.pnpm/vue-loader@17.4.2_@vue+compiler-sfc@3.5.13_vue@3.5.13_typescript@5.7.2__webpack@5.97.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-266137b2\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_defineComponent","name","__name","setup","__props","setUnitPriceDialog","defineAsyncComponent","setUnitPriceRef","ref","bd_agentId","agentId","bd_userInfo","userInfo","LocalStorage","batchGetItem","getList","pageNumberChange","pageSizeChange","pageData","resetPageNumber","usePage","listApi","companyLineListApi","props","pageSize","pageNumber","searchParams","prentId","profileId","type","_ctx","_cache","_component_el_table_column","_resolveComponent","_component_el_link","_component_TableEmpty","_component_el_table","_component_PagePagination","_openBlock","_createElementBlock","_Fragment","_createElementVNode","_createVNode","data","_unref","list","height","empty","_withCtx","default","prop","label","align","row","_createTextVNode","_toDisplayString","price","_","disabled","lineCode","underline","onClick","$event","value","trigger","pageTotal","onEmitPageSizeChange","onEmitPageNumberChange","ref_key","onEmitFunc","__exports__"],"sourceRoot":""}