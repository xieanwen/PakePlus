"use strict";(self["webpackChunkdaili"]=self["webpackChunkdaili"]||[]).push([[4841],{4710:function(e,a,t){t.d(a,{$d:function(){return S},AV:function(){return R},Fd:function(){return g},Gm:function(){return T},xG:function(){return b}});t(95226);var n=t(54649),c=t(59259),l=t(6254),i=t(25598),r=t(88365),o=t(95239);const u=(0,l.$V)((()=>Promise.all([t.e(2076),t.e(6320)]).then(t.bind(t,88338)))),d=(0,l.$V)((()=>Promise.all([t.e(2076),t.e(7991)]).then(t.bind(t,28213)))),s=(0,l.$V)((()=>Promise.all([t.e(2076),t.e(7642)]).then(t.bind(t,21884)))),m=(0,l.$V)((()=>Promise.all([t.e(2076),t.e(5545)]).then(t.bind(t,20179)))),C=(0,l.$V)((()=>Promise.all([t.e(2076),t.e(3747)]).then(t.bind(t,827)))),v=(0,l.$V)((()=>Promise.all([t.e(2076),t.e(2487)]).then(t.bind(t,95989)))),_=(0,l.$V)((()=>Promise.all([t.e(2076),t.e(4529)]).then(t.bind(t,507)))),p=(0,l.$V)((()=>Promise.all([t.e(2076),t.e(2189)]).then(t.bind(t,74391)))),I=(0,l.$V)((()=>Promise.all([t.e(2076),t.e(334)]).then(t.bind(t,74490)))),f=(0,l.$V)((()=>Promise.all([t.e(2076),t.e(7492)]).then(t.bind(t,45792)))),y=(0,l.$V)((()=>Promise.all([t.e(2076),t.e(4877)]).then(t.bind(t,57295)))),L=(0,l.$V)((()=>Promise.all([t.e(2076),t.e(1881)]).then(t.bind(t,9907)))),h=(0,l.$V)((()=>Promise.all([t.e(2076),t.e(5914)]).then(t.bind(t,9040)))),E=(0,l.$V)((()=>Promise.all([t.e(2076),t.e(8647)]).then(t.bind(t,32203)))),A=(0,l.$V)((()=>Promise.all([t.e(2076),t.e(537)]).then(t.bind(t,66413))));function P(e){return console.log(e),(0,i.IG)(_)}function D(e){return["CLOUD_CALL_SOFT"].includes(e)?(0,i.IG)(s):["CALL_SOFT_SEAT"].includes(e)?(0,i.IG)(m):void 0}function G(e){return["VOICE_SERVICE","STORE_SERVICE","CUSTOMER_SERVICE","ACCOUNT_ACCESS_21S","INTERFACES_21S","BADOU_21S","VIDEO_MATRIX_ACCOUNT","PRO_CUS_UNLOCHED_ADD"].includes(e)?(0,i.IG)(p):["VIDEO_MATRIX"].includes(e)?(0,i.IG)(L):["CALL_NUMBER_ORDER"].includes(e)?(0,i.IG)(h):["MESSAGE_TYPE_SERVICE"].includes(e)?(0,i.IG)(E):["JMB"].includes(e)?(0,i.IG)(A):void 0}function O(e){return["EXPAND_CUSTOMER_PRO"].includes(e)?(0,i.IG)(y):["CLOUD_CUSTOMER_21S"].includes(e)?(0,i.IG)(f):void 0}const T=[{calculateType:"1",name:P},{calculateType:"2",name:G},{calculateType:"3",name:()=>(0,i.IG)(u)},{calculateType:"5",name:()=>(0,i.IG)(d)},{calculateType:"6",name:D},{calculateType:"7",name:()=>(0,i.IG)(I)},{calculateType:"10",name:()=>(0,i.IG)(C)},{calculateType:"11",name:()=>(0,i.IG)(v)},{calculateType:"12",name:()=>(0,i.IG)(I)},{calculateType:"13",name:G},{calculateType:"22",name:O}];async function R(e){Reflect.has(e,"sumPrice")&&Reflect.deleteProperty(e,"sumPrice");const{data:a}=await o.vg.getData(e),{productList:t}=o.vg.handleData(a),{price:n,sumPrice:l,addedPrice:i,unitPrice:r,subMarketList:u,errorCode:d,errorMsg:s}=t[0];return 500===d&&c.nk.warning(s),{price:n,sumPrice:l,addedPrice:i,unitPrice:r,subMarketList:u,hasAgentPrice:500!==d}}function S(e){r.uW.setItem("bd_market-cart",e.params),r.uW.setItem("bd_market-commodity",e.commodityInfo),n.A.push("/orderManagement/createOrder/confirmOrder")}async function b(e){try{const a={serviceCode:e.serviceCode},{data:t}=await o.dh.getData(a);return o.dh.handleData(t)}catch(a){console.log(a)}}async function g(e){try{const a={serviceCode:e.serviceCode,companyId:e.companyId},{data:t}=await o.pQ.getData(a);return o.pQ.handleData(t)}catch(a){console.log(a)}}},44841:function(e,a,t){t.r(a),t.d(a,{default:function(){return C}});t(59784),t(29296),t(47961),t(83238),t(84e3);var n=t(6254),c=t(25598),l=t(10901),i=t(4710),r=t(95239),o=t(35287);const u={class:"product-container"};var d=(0,n.pM)({name:"orderManagement.createOrder.productDetail",__name:"index",setup(e){const{routeQuery:a}=(0,l.dG)(),t=(0,n.EW)((()=>{var e;return null===(e=i.Gm.find((e=>e.calculateType===a.value.calculateType)))||void 0===e?void 0:e.name(a.value.serviceCode)})),d=(0,c.IJ)(!1),s=(0,c.IJ)([]),m=(0,c.IJ)({}),C=(0,c.IJ)([]);function v(){["CLOUD_CALL_SOFT","CALL_NUMBER_ORDER","CLOUD_CALL_PACKAGE","CLOUD_CALL_PACKAGE_BIG"].includes(a.value.serviceCode)&&p(),Promise.allSettled([(0,i.xG)(a.value),(0,i.Fd)(a.value)]).then((e=>{const a=e.filter((e=>"fulfilled"===e.status));a.length&&(m.value=a.reduce(((e,a)=>Object.assign(e,a.value)),{}),_())})).catch((e=>{console.log(e)}))}async function _(){let e;const t={companyId:a.value.companyId},{serviceInfo:n,addedServiceList:c}=m.value;if(["2","7"].includes(null===n||void 0===n?void 0:n.calculateType))if(["CALL_NUMBER_ORDER"].includes(n.combineServiceCode))e=r.UR,Reflect.set(t,"resourceCode",n.addedCodes);else{e=r.pG;const a=(null===c||void 0===c?void 0:c.map((e=>e.groupCodes)).join(","))||"";Reflect.set(t,"resourceCode",a)}else["5","11"].includes(null===n||void 0===n?void 0:n.calculateType)?(e=r.JV,Reflect.set(t,"marketCode","5"===(null===n||void 0===n?void 0:n.calculateType)?"CLOUD_CALL_PACKAGE":"CLOUD_CALL_PACKAGE_BIG")):"6"===(null===n||void 0===n?void 0:n.calculateType)&&(e=r.Ge,Reflect.set(t,"serviceCode","CLOUD_CALL_SOFT"));if(e)try{const{data:a}=await e.getData(t);C.value=e.handleData(a)}catch(l){console.log(l)}d.value=!0}async function p(){const{data:e}=await o.NG.getData(a.value.companyId);s.value=o.NG.handleData(e)}return v(),(e,a)=>{const c=(0,n.g2)("el-skeleton");return(0,n.uX)(),(0,n.CE)("div",u,[d.value?((0,n.uX)(),(0,n.Wv)((0,n.$y)(t.value),{key:0,tagList:s.value,productData:m.value,purchasedData:C.value},null,8,["tagList","productData","purchasedData"])):((0,n.uX)(),(0,n.Wv)(c,{key:1,rows:12,style:{"margin-top":"40px"}}))])}}}),s=t(83936);const m=(0,s.A)(d,[["__scopeId","data-v-bede3122"]]);var C=m}}]);
//# sourceMappingURL=4841.db36b64a.js.map