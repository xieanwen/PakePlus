"use strict";(self["webpackChunkdaili"]=self["webpackChunkdaili"]||[]).push([[7869],{87869:function(e,a,l){l.r(a),l.d(a,{default:function(){return J}});var n=l(6254),t=l(38627),o=l(25598),c=l(62644),s=l(19288),u=l(34371),i=l(91373),d=l(59259),p=l(65802);const v={class:"recharge-way"},r={class:"online-pay","data-pay":"线上支付："};var y=(0,n.pM)({__name:"ChangePaymentMethodDialog",props:{payMethod:{}},emits:["update:payMethod"],setup(e,{expose:a,emit:l}){const c=e,i=l,d=(0,o.KR)(!1),p=(0,n.EW)({get(){return c.payMethod},set(e){i("update:payMethod",e)}}),y=(0,n.EW)((()=>{const e="ZGYH"===p.value,a="ALIPCPAY"===p.value,l="WXPCPAY"===p.value,n=a||l;return{bankPay:e,alipay:a,wxPay:l,onlinePay:n}}));function k(e=!0){d.value=e}function m(e){p.value=e}return a({toggle:k,setActivePay:m,getActivePay(){return p.value}}),(e,a)=>{const l=(0,n.g2)("el-button"),o=(0,n.g2)("el-dialog");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(l,{onClick:k},{default:(0,n.k6)((()=>a[3]||(a[3]=[(0,n.eW)("更改支付方式")]))),_:1}),(0,n.bF)(o,{modelValue:d.value,"onUpdate:modelValue":a[2]||(a[2]=e=>d.value=e),title:"选择支付方式",class:"custom-dialog",width:700},{default:(0,n.k6)((()=>[(0,n.Lk)("div",v,[(0,n.Lk)("div",r,[(0,n.Lk)("div",{class:(0,t.C4)(["item",y.value.alipay&&"active"]),onClick:a[0]||(a[0]=e=>m("ALIPCPAY"))},a[4]||(a[4]=[(0,n.Lk)("img",{src:s,alt:""},null,-1)]),2),(0,n.Lk)("div",{class:(0,t.C4)(["item",y.value.wxPay&&"active"]),onClick:a[1]||(a[1]=e=>m("WXPCPAY"))},a[5]||(a[5]=[(0,n.Lk)("img",{src:u,alt:""},null,-1)]),2)])])])),_:1},8,["modelValue"])],64)}}}),k=l(83936);const m=(0,k.A)(y,[["__scopeId","data-v-1d19542c"]]);var g=m,L=l(88365);const b={ALIPCPAY:"agency_ali_recharge_pay_topic",WXPCPAY:"agency_wx_recharge_pay_topic"};function h(e,a){const l=L.DT.getItem("bd_agentId"),n={companyId:l,profileId:l,payType:e,subject:"企业充值",totalFee:a,topic:b[e]};return"ALIPCPAY"===n.payType&&(n.returnPageType="agency"),(0,p.su)(n).then((e=>{var a;return(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.result)||""}))}const _=Symbol("支付成功后，关闭弹框且刷新余额"),P={class:"alipay-block"},f={class:"p2"},C={class:"action-box"};var A=(0,n.pM)({__name:"AlipayPaymentComponent",props:{money:{}},setup(e){const a=e,l=(0,n.WQ)(_),c=(0,o.KR)(""),s=(0,o.KR)(!1);function u(){s.value?null===l||void 0===l||l():(window.open(`https://subapp.bdsaas.com:1893/app-core?pay=1&html=${encodeURIComponent(c.value)}`),setTimeout((()=>{s.value=!0}),300))}return(0,n.sV)((()=>{h("ALIPCPAY",a.money).then((e=>{c.value=e})),s.value=!1})),(e,l)=>{const o=(0,n.g2)("el-button");return(0,n.uX)(),(0,n.CE)("div",P,[l[0]||(l[0]=(0,n.Lk)("h2",null,"请使用 支付宝 完成付款",-1)),l[1]||(l[1]=(0,n.Lk)("p",{class:"p1"},"付款金额",-1)),(0,n.Lk)("span",null,"￥"+(0,t.v_)(a.money),1),(0,n.Lk)("p",f,(0,t.v_)(s.value?"支付成功？请点击下方按钮返回":"请点击下方按钮使用 支付宝 完成支付"),1),(0,n.Lk)("div",C,[(0,n.bF)(o,{style:{width:"124px"},type:"primary",onClick:u},{default:(0,n.k6)((()=>[(0,n.eW)((0,t.v_)(s.value?"已完成支付":"去支付"),1)])),_:1}),(0,n.RG)(e.$slots,"change-pay-method")])])}}});const x=(0,k.A)(A,[["__scopeId","data-v-7928135a"]]);var W=x,I=l(10901);const w={class:"wxpay-block"},F={class:"action-box"};var Y=(0,n.pM)({__name:"WxPaymentComponent",props:{money:{}},setup(e){const a=e,l=(0,n.WQ)(_);function o(){null===l||void 0===l||l()}return(0,n.sV)((()=>{h("WXPCPAY",a.money).then((e=>{try{(0,I.i$)({dom:"qrcode",text:e})}catch(a){console.warn(a)}}))})),(0,n.xo)((()=>{console.log("BeforeUnmount trigger");try{document.getElementById("qrcode").innerHTML=""}catch(e){console.warn(e)}})),(e,l)=>{const c=(0,n.g2)("el-button");return(0,n.uX)(),(0,n.CE)("div",w,[l[1]||(l[1]=(0,n.Lk)("h2",null,"请使用 微信支付 完成付款",-1)),l[2]||(l[2]=(0,n.Lk)("p",{class:"p1"},"付款金额",-1)),(0,n.Lk)("span",null,"￥"+(0,t.v_)(a.money),1),l[3]||(l[3]=(0,n.Lk)("div",{class:"qr-code",id:"qrcode"},null,-1)),l[4]||(l[4]=(0,n.Lk)("p",{class:"p2"},"请使用 微信 扫一扫二维码完成支付",-1)),l[5]||(l[5]=(0,n.Lk)("p",{class:"p2"}," (微信余额与银行卡支付限额：6000元/笔、9000元/日；零钱通支付限额：200000元/日) ",-1)),(0,n.Lk)("div",F,[(0,n.bF)(c,{style:{width:"124px"},type:"primary",onClick:o},{default:(0,n.k6)((()=>l[0]||(l[0]=[(0,n.eW)("已完成支付")]))),_:1}),(0,n.RG)(e.$slots,"change-pay-method")])])}}});const R=(0,k.A)(Y,[["__scopeId","data-v-e4164ae0"]]);var X=R,M=(0,n.pM)({__name:"PaymentInProgressDialog",props:{money:{},payMethod:{}},setup(e,{expose:a}){const l=e,t={ALIPCPAY:W,WXPCPAY:X},c=(0,o.KR)(!1),s=(0,o.KR)("ALIPCPAY"),u=(0,n.EW)((()=>t[s.value]));function i(e=!0){c.value=e}function d(e){s.value=e}return(0,n.wB)((()=>c.value),(e=>{e&&d(l.payMethod)})),a({toggle:i}),(e,a)=>{const t=(0,n.g2)("el-dialog");return(0,n.uX)(),(0,n.Wv)(t,{modelValue:c.value,"onUpdate:modelValue":a[1]||(a[1]=e=>c.value=e),title:"立即充值",class:"custom-dialog",width:700,"destroy-on-close":""},{default:(0,n.k6)((()=>[((0,n.uX)(),(0,n.Wv)((0,n.$y)(u.value),{money:l.money},{"change-pay-method":(0,n.k6)((()=>[(0,n.bF)(g,{"pay-method":s.value,"onUpdate:payMethod":a[0]||(a[0]=e=>s.value=e)},null,8,["pay-method"])])),_:1},8,["money"]))])),_:1},8,["modelValue"])}}});const K=(0,k.A)(M,[["__scopeId","data-v-05e264b6"]]);var B=K;const E={class:"recharge-page"},G={class:"account-limit"},V={class:"item"},q={class:"item"},T={class:"item"},$={class:"recharge-way"},D={class:"offline-pay","data-pay":"线下支付："},U={class:"online-pay","data-pay":"线上支付："},H={class:"pay-details mt-30px"},Z={key:0,class:"online-pay-details"},z={class:"info-desc"},O={key:1,class:"offline-pay-details"},Q={style:{"font-weight":"bold","font-size":"22px","margin-bottom":"20px"},class:"font-regular"};var j=(0,n.pM)({__name:"index",setup(e){const a=(0,o.KR)("ZGYH"),l=(0,o.KR)(""),v=(0,o.KR)(),r=/^(?:0|[1-9]\d*)(?:\.\d{1,2})?$/,y=(0,o.Kh)({virtualAccount:""}),k=L.DT.getItem("bd_agentId"),m=(0,o.Kh)({availableBalance:0,balance:0,ensureBalance:0}),g=(0,n.EW)((()=>{const e="ZGYH"===a.value,l="ALIPCPAY"===a.value,n="WXPCPAY"===a.value,t=l||n;return{bankPay:e,alipay:l,wxPay:n,onlinePay:t}}));function b(){const e=`账号：${y.virtualAccount}，收款户名：八度云计算（安徽）有限公司，收款银行：中国银行合肥望江中路支行`;(0,L.Dk)(e).then((()=>{d.nk.success("复制成功")})).catch((()=>{d.nk.success("复制失败")}))}function h(e){a.value=e}function P(){r.test(l.value)?v.value.toggle():d.nk.error("请输入正确的金额")}function f(){(0,p.zR)().then((e=>{var a;console.log(e,"line 141"),y.virtualAccount=(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.virtualAccount)||""}))}function C(){(0,p.GM)({agencyId:k}).then((e=>{var a,l,n;console.log(e,"line 143"),m.availableBalance=(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.availableBalance)||0,m.balance=(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.balance)||0,m.ensureBalance=(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.ensureBalance)||0}))}return(0,n.Gt)(_,(()=>{v.value.toggle(!1),C()})),f(),C(),(e,d)=>{const p=(0,n.g2)("el-icon"),r=(0,n.g2)("el-tooltip"),k=(0,n.g2)("el-card"),_=(0,n.g2)("el-input"),f=(0,n.g2)("el-button"),C=(0,n.g2)("el-link");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",E,[d[16]||(d[16]=(0,n.Lk)("h2",{class:"mb-20px"},"账号额度",-1)),(0,n.bF)(k,{shadow:"never",style:{width:"900px"}},{default:(0,n.k6)((()=>[(0,n.Lk)("div",G,[(0,n.Lk)("div",V,[d[4]||(d[4]=(0,n.Lk)("h3",null,"客户余额",-1)),(0,n.Lk)("span",null,"￥"+(0,t.v_)((0,o.R1)(L.qG)(m.balance)),1)]),(0,n.Lk)("div",q,[(0,n.Lk)("h3",null,[d[5]||(d[5]=(0,n.eW)(" 可用余额 ")),(0,n.bF)(r,{class:"box-item",effect:"dark",content:"可用余额 = 客户余额 + 信用额度 - 保证金（返佣金额 * X%）",placement:"top"},{default:(0,n.k6)((()=>[(0,n.bF)(p,null,{default:(0,n.k6)((()=>[(0,n.bF)((0,o.R1)(i.lOC))])),_:1})])),_:1})]),(0,n.Lk)("span",null,"￥"+(0,t.v_)((0,o.R1)(L.qG)(m.availableBalance)),1)]),(0,n.Lk)("div",T,[(0,n.Lk)("h3",null,[d[6]||(d[6]=(0,n.eW)(" 保证金 ")),(0,n.bF)(r,{class:"box-item",effect:"dark",content:"为保障客户服务，数企扣留一部分代理商金额作为保障保证金",placement:"top"},{default:(0,n.k6)((()=>[(0,n.bF)(p,null,{default:(0,n.k6)((()=>[(0,n.bF)((0,o.R1)(i.lOC))])),_:1})])),_:1})]),(0,n.Lk)("span",null,"￥"+(0,t.v_)((0,o.R1)(L.qG)(m.ensureBalance)),1)])])])),_:1}),d[17]||(d[17]=(0,n.Lk)("h2",{class:"mb-20px mt-20px"},"充值方式",-1)),(0,n.Lk)("div",$,[(0,n.Lk)("div",D,[(0,n.Lk)("div",{class:(0,t.C4)(["item",g.value.bankPay&&"active"]),onClick:d[0]||(d[0]=e=>h("ZGYH"))},d[7]||(d[7]=[(0,n.Lk)("img",{src:c,alt:""},null,-1)]),2)]),(0,n.Lk)("div",U,[(0,n.Lk)("div",{class:(0,t.C4)(["item",g.value.alipay&&"active"]),onClick:d[1]||(d[1]=e=>h("ALIPCPAY"))},d[8]||(d[8]=[(0,n.Lk)("img",{src:s,alt:""},null,-1)]),2),(0,n.Lk)("div",{class:(0,t.C4)(["item",g.value.wxPay&&"active"]),onClick:d[2]||(d[2]=e=>h("WXPCPAY"))},d[9]||(d[9]=[(0,n.Lk)("img",{src:u,alt:""},null,-1)]),2)])]),(0,n.Lk)("div",H,[g.value.onlinePay?((0,n.uX)(),(0,n.CE)("div",Z,[(0,n.Lk)("p",z,"企业账户当前余额："+(0,t.v_)(m.balance)+"元",1),(0,n.bF)(_,{class:"w-350px",modelValue:l.value,"onUpdate:modelValue":d[3]||(d[3]=e=>l.value=e),placeholder:"请输入充值金额"},null,8,["modelValue"]),(0,n.bF)(f,{style:{width:"100px"},type:"primary",onClick:P},{default:(0,n.k6)((()=>d[10]||(d[10]=[(0,n.eW)("确定")]))),_:1})])):((0,n.uX)(),(0,n.CE)("div",O,[d[15]||(d[15]=(0,n.Lk)("p",{class:"info-desc mb-20px"}," 您线下打款，数企在收到汇款后将自动充值到您的企业余额账户中。 ",-1)),(0,n.bF)(k,{class:"bank-card"},{default:(0,n.k6)((()=>[d[12]||(d[12]=(0,n.Lk)("img",{src:c,alt:""},null,-1)),(0,n.Lk)("p",Q,[(0,n.eW)((0,t.v_)(y.virtualAccount)+" ",1),(0,n.bF)(C,{type:"primary",onClick:b},{default:(0,n.k6)((()=>d[11]||(d[11]=[(0,n.eW)("复制")]))),_:1})]),d[13]||(d[13]=(0,n.Lk)("p",null,[(0,n.Lk)("label",null,"收款户名："),(0,n.eW)("八度云计算（安徽）有限公司")],-1)),d[14]||(d[14]=(0,n.Lk)("p",null,[(0,n.Lk)("label",null,"收款银行："),(0,n.eW)("中国银行合肥望江中路支行")],-1))])),_:1})]))])]),(0,n.bF)(B,{ref_key:"paymentInProgressDialogRef",ref:v,money:l.value,"pay-method":a.value},null,8,["money","pay-method"])],64)}}});const S=(0,k.A)(j,[["__scopeId","data-v-0b91d39d"]]);var J=S}}]);
//# sourceMappingURL=7869.975c48e3.js.map