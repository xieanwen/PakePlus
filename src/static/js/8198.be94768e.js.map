{"version":3,"file":"static/js/8198.be94768e.js","mappings":"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","sources":["webpack://daili/./src/components/business-management/ospreyCloudCall/sub-customer/details/speech-library/list.vue?51d5","webpack://daili/./src/components/business-management/ospreyCloudCall/sub-customer/details/speech-library/list.vue","webpack://daili/./src/components/business-management/ospreyCloudCall/sub-customer/details/speech-library/list.vue?ac80"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, resolveComponent as _resolveComponent, withKeys as _withKeys, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, toDisplayString as _toDisplayString } from \"vue\"\n\nconst _hoisted_1 = { class: \"business-management\" }\nconst _hoisted_2 = { class: \"form\" }\nconst _hoisted_3 = { class: \"table-container\" }\n\nimport { ElMessageBox, ElMessage } from \"element-plus\";\r\nimport { ref, shallowReactive, defineAsyncComponent } from \"vue\";\r\n\r\nimport { usePage } from \"jz-tool-lib\";\r\nimport { useVueRouter } from \"@assets/useHook\";\r\n\r\nimport {\r\n  speechLibraryListApi,\r\n  deleteSpeechLibraryApi,\r\n} from \"@api/business-management-api\";\r\n\r\nimport { LocalStorage } from \"jz-tool-lib\";\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'list',\n  setup(__props) {\n\r\nconst AddEditSpeechLibraryDrawer = defineAsyncComponent(\r\n  () => import(\"./add-edit-speech-drawer.vue\")\r\n);\r\nconst { routeQuery } = useVueRouter();\r\n\r\nconst { bd_userInfo: userInfo, bd_virCompanyId: virCompanyId } =\r\n  LocalStorage.batchGetItem([\r\n    \"bd_userInfo\",\r\n    \"bd_virCompanyId\",\r\n    \"bd_authorization\",\r\n  ]);\r\n\r\nconst addEditSpeechLibraryRef = ref();\r\nconst paramsData = shallowReactive({\r\n  title: \"\",\r\n  status: \"\",\r\n  companyId: virCompanyId,\r\n  companyCode: routeQuery.value.companyCode,\r\n});\r\n// 获取话术库列表\r\nconst { getList, pageNumberChange, pageSizeChange, pageData } = usePage({\r\n  listApi: speechLibraryListApi,\r\n  props: {\r\n    pageNumber: \"pageNo\",\r\n    pageSize: \"pageSize\",\r\n  },\r\n  paramsData,\r\n});\r\n// 打开话书库抽屉\r\nfunction handleOperateTemplate(\r\n  type: \"add\" | \"edit\",\r\n  info: Record<string, any>\r\n) {\r\n  const params = {\r\n    ...info,\r\n    companyId: routeQuery.value.companyId,\r\n    businessType: Number(routeQuery.value.businessType),\r\n    subCompanyCode: routeQuery.value.companyCode,\r\n  };\r\n  addEditSpeechLibraryRef.value?.toggle(type, true, params);\r\n}\r\n/*\r\n * 删除模板\r\n * */\r\nfunction handleDelete(info: Record<string, any>) {\r\n  ElMessageBox.confirm(\"是否删除当前模板\", \"提示\", {\r\n    confirmButtonText: \"确定\",\r\n    cancelButtonText: \"取消\",\r\n    type: \"warning\",\r\n  })\r\n    .then(async () => {\r\n      await deleteSpeechLibraryApi.getData({\r\n        id: info.id,\r\n        profileId: userInfo.profileId,\r\n      });\r\n      ElMessage({\r\n        type: \"success\",\r\n        message: \"删除成功\",\r\n      });\r\n      await getList();\r\n    })\r\n    .catch(() => {});\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_input = _resolveComponent(\"el-input\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_TabList = _resolveComponent(\"TabList\")!\n  const _component_el_table_column = _resolveComponent(\"el-table-column\")!\n  const _component_el_tag = _resolveComponent(\"el-tag\")!\n  const _component_el_link = _resolveComponent(\"el-link\")!\n  const _component_TableEmpty = _resolveComponent(\"TableEmpty\")!\n  const _component_el_table = _resolveComponent(\"el-table\")!\n  const _component_PagePagination = _resolveComponent(\"PagePagination\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", {\n      class: \"form-container\",\n      style: _normalizeStyle({\r\n        'justify-content': _unref(routeQuery).companyCode\r\n          ? 'flex-end'\r\n          : 'space-between',\r\n      })\n    }, [\n      (_unref(routeQuery).companyCode)\n        ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n            _createVNode(_component_el_input, {\n              modelValue: _unref(paramsData).title,\n              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_unref(paramsData).title) = $event)),\n              placeholder: \"请输入话术名称\",\n              onKeyup: _withKeys(_unref(getList), [\"enter\"]),\n              clearable: \"\"\n            }, null, 8, [\"modelValue\", \"onKeyup\"]),\n            _createVNode(_component_el_button, {\n              type: \"primary\",\n              onClick: _unref(getList)\n            }, {\n              default: _withCtx(() => _cache[4] || (_cache[4] = [\n                _createTextVNode(\"搜索\")\n              ])),\n              _: 1\n            }, 8, [\"onClick\"]),\n            _createVNode(_component_el_button, {\n              type: \"primary\",\n              onClick: _cache[1] || (_cache[1] = ($event: any) => (handleOperateTemplate('add', {})))\n            }, {\n              default: _withCtx(() => _cache[5] || (_cache[5] = [\n                _createTextVNode(\"新增话术报备\")\n              ])),\n              _: 1\n            })\n          ], 64))\n        : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n            _createVNode(_component_TabList, {\n              list: _ctx.speechTabList,\n              activeIndex: _ctx.initData.active\n            }, null, 8, [\"list\", \"activeIndex\"]),\n            _createElementVNode(\"div\", _hoisted_2, [\n              _createVNode(_component_el_input, {\n                modelValue: _unref(paramsData).companyName,\n                \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_unref(paramsData).companyName) = $event)),\n                placeholder: \"请输入公司名称\",\n                onKeyup: _withKeys(_unref(getList), [\"enter\"]),\n                clearable: \"\"\n              }, null, 8, [\"modelValue\", \"onKeyup\"]),\n              _createVNode(_component_el_button, {\n                type: \"primary\",\n                onClick: _unref(getList)\n              }, {\n                default: _withCtx(() => _cache[6] || (_cache[6] = [\n                  _createTextVNode(\"搜索\")\n                ])),\n                _: 1\n              }, 8, [\"onClick\"]),\n              _createVNode(_component_el_button, {\n                type: \"primary\",\n                onClick: _cache[3] || (_cache[3] = ($event: any) => (handleOperateTemplate('add', {})))\n              }, {\n                default: _withCtx(() => _cache[7] || (_cache[7] = [\n                  _createTextVNode(\"新增话术报备\")\n                ])),\n                _: 1\n              })\n            ])\n          ], 64))\n    ], 4),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createVNode(_component_el_table, {\n        data: _unref(pageData).list,\n        height: \"calc(100vh - 308px)\"\n      }, {\n        empty: _withCtx(() => [\n          _createVNode(_component_TableEmpty, { \"empty-text\": \"暂无数据\" })\n        ]),\n        default: _withCtx(() => [\n          _createVNode(_component_el_table_column, {\n            prop: \"title\",\n            label: \"话术名称\",\n            align: \"center\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"statusName\",\n            label: \"审核状态\",\n            width: \"200px\",\n            align: \"center\"\n          }, {\n            default: _withCtx(({ row }) => [\n              _createVNode(_component_el_tag, {\n                type: row.statusStyleType\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(_toDisplayString(row.statusName), 1)\n                ]),\n                _: 2\n              }, 1032, [\"type\"])\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"createByName\",\n            label: \"创建人\",\n            align: \"center\"\n          }),\n          _createVNode(_component_el_table_column, {\n            prop: \"createdTime\",\n            label: \"创建时间\",\n            align: \"center\"\n          }),\n          _createVNode(_component_el_table_column, {\n            label: \"操作\",\n            align: \"center\",\n            fixed: \"right\",\n            width: \"150\",\n            \"class-name\": \"operation-group\"\n          }, {\n            default: _withCtx(({ row }) => [\n              _createVNode(_component_el_link, {\n                type: \"primary\",\n                underline: false,\n                onClick: ($event: any) => (handleOperateTemplate('edit', row))\n              }, {\n                default: _withCtx(() => _cache[8] || (_cache[8] = [\n                  _createTextVNode(\"编辑\")\n                ])),\n                _: 2\n              }, 1032, [\"onClick\"]),\n              _createVNode(_component_el_link, {\n                type: \"primary\",\n                underline: false,\n                onClick: ($event: any) => (handleDelete(row))\n              }, {\n                default: _withCtx(() => _cache[9] || (_cache[9] = [\n                  _createTextVNode(\"删除\")\n                ])),\n                _: 2\n              }, 1032, [\"onClick\"])\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 8, [\"data\"]),\n      _createVNode(_component_PagePagination, {\n        pageTotal: _unref(pageData).pageTotal,\n        pageSize: _unref(pageData).pageSize,\n        pageNumber: _unref(pageData).pageNumber,\n        onEmitPageSizeChange: _unref(pageSizeChange),\n        onEmitPageNumberChange: _unref(pageNumberChange)\n      }, null, 8, [\"pageTotal\", \"pageSize\", \"pageNumber\", \"onEmitPageSizeChange\", \"onEmitPageNumberChange\"])\n    ]),\n    _createVNode(_unref(AddEditSpeechLibraryDrawer), {\n      ref_key: \"addEditSpeechLibraryRef\",\n      ref: addEditSpeechLibraryRef,\n      onEmitFunc: _unref(getList)\n    }, null, 8, [\"onEmitFunc\"])\n  ]))\n}\n}\n\n})","<template>\r\n  <!-- 话术库 -->\r\n  <div class=\"business-management\">\r\n    <div\r\n      class=\"form-container\"\r\n      :style=\"{\r\n        'justify-content': routeQuery.companyCode\r\n          ? 'flex-end'\r\n          : 'space-between',\r\n      }\"\r\n    >\r\n      <template v-if=\"routeQuery.companyCode\">\r\n        <el-input\r\n          v-model=\"paramsData.title\"\r\n          placeholder=\"请输入话术名称\"\r\n          @keyup.enter=\"getList\"\r\n          clearable\r\n        />\r\n        <el-button type=\"primary\" @click=\"getList\">搜索</el-button>\r\n        <el-button type=\"primary\" @click=\"handleOperateTemplate('add', {})\"\r\n          >新增话术报备</el-button\r\n        >\r\n      </template>\r\n      <template v-else>\r\n        <TabList :list=\"speechTabList\" :activeIndex=\"initData.active\"></TabList>\r\n        <div class=\"form\">\r\n          <el-input\r\n            v-model=\"paramsData.companyName\"\r\n            placeholder=\"请输入公司名称\"\r\n            @keyup.enter=\"getList\"\r\n            clearable\r\n          />\r\n          <el-button type=\"primary\" @click=\"getList\">搜索</el-button>\r\n          <el-button type=\"primary\" @click=\"handleOperateTemplate('add', {})\"\r\n            >新增话术报备</el-button\r\n          >\r\n        </div>\r\n      </template>\r\n    </div>\r\n    <div class=\"table-container\">\r\n      <!--   列表   -->\r\n      <el-table :data=\"pageData.list\" height=\"calc(100vh - 308px)\">\r\n        <el-table-column\r\n          prop=\"title\"\r\n          label=\"话术名称\"\r\n          align=\"center\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"statusName\"\r\n          label=\"审核状态\"\r\n          width=\"200px\"\r\n          align=\"center\"\r\n        >\r\n          <template #default=\"{ row }\">\r\n            <el-tag :type=\"row.statusStyleType\">{{ row.statusName }}</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"createByName\"\r\n          label=\"创建人\"\r\n          align=\"center\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"createdTime\"\r\n          label=\"创建时间\"\r\n          align=\"center\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          label=\"操作\"\r\n          align=\"center\"\r\n          fixed=\"right\"\r\n          width=\"150\"\r\n          class-name=\"operation-group\"\r\n        >\r\n          <template #default=\"{ row }\">\r\n            <el-link\r\n              type=\"primary\"\r\n              :underline=\"false\"\r\n              @click=\"handleOperateTemplate('edit', row)\"\r\n              >编辑</el-link\r\n            >\r\n            <el-link\r\n              type=\"primary\"\r\n              :underline=\"false\"\r\n              @click=\"handleDelete(row)\"\r\n              >删除</el-link\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n        <template #empty>\r\n          <TableEmpty empty-text=\"暂无数据\"></TableEmpty>\r\n        </template>\r\n      </el-table>\r\n      <!--   分页   -->\r\n      <PagePagination\r\n        :pageTotal=\"pageData.pageTotal\"\r\n        :pageSize=\"pageData.pageSize\"\r\n        :pageNumber=\"pageData.pageNumber\"\r\n        @emitPageSizeChange=\"pageSizeChange\"\r\n        @emitPageNumberChange=\"pageNumberChange\"\r\n      >\r\n      </PagePagination>\r\n    </div>\r\n    <AddEditSpeechLibraryDrawer\r\n      ref=\"addEditSpeechLibraryRef\"\r\n      @emitFunc=\"getList\"\r\n    ></AddEditSpeechLibraryDrawer>\r\n  </div>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport { ElMessageBox, ElMessage } from \"element-plus\";\r\nimport { ref, shallowReactive, defineAsyncComponent } from \"vue\";\r\n\r\nimport { usePage } from \"jz-tool-lib\";\r\nimport { useVueRouter } from \"@assets/useHook\";\r\n\r\nimport {\r\n  speechLibraryListApi,\r\n  deleteSpeechLibraryApi,\r\n} from \"@api/business-management-api\";\r\n\r\nimport { LocalStorage } from \"jz-tool-lib\";\r\n\r\nconst AddEditSpeechLibraryDrawer = defineAsyncComponent(\r\n  () => import(\"./add-edit-speech-drawer.vue\")\r\n);\r\nconst { routeQuery } = useVueRouter();\r\n\r\nconst { bd_userInfo: userInfo, bd_virCompanyId: virCompanyId } =\r\n  LocalStorage.batchGetItem([\r\n    \"bd_userInfo\",\r\n    \"bd_virCompanyId\",\r\n    \"bd_authorization\",\r\n  ]);\r\n\r\nconst addEditSpeechLibraryRef = ref();\r\nconst paramsData = shallowReactive({\r\n  title: \"\",\r\n  status: \"\",\r\n  companyId: virCompanyId,\r\n  companyCode: routeQuery.value.companyCode,\r\n});\r\n// 获取话术库列表\r\nconst { getList, pageNumberChange, pageSizeChange, pageData } = usePage({\r\n  listApi: speechLibraryListApi,\r\n  props: {\r\n    pageNumber: \"pageNo\",\r\n    pageSize: \"pageSize\",\r\n  },\r\n  paramsData,\r\n});\r\n// 打开话书库抽屉\r\nfunction handleOperateTemplate(\r\n  type: \"add\" | \"edit\",\r\n  info: Record<string, any>\r\n) {\r\n  const params = {\r\n    ...info,\r\n    companyId: routeQuery.value.companyId,\r\n    businessType: Number(routeQuery.value.businessType),\r\n    subCompanyCode: routeQuery.value.companyCode,\r\n  };\r\n  addEditSpeechLibraryRef.value?.toggle(type, true, params);\r\n}\r\n/*\r\n * 删除模板\r\n * */\r\nfunction handleDelete(info: Record<string, any>) {\r\n  ElMessageBox.confirm(\"是否删除当前模板\", \"提示\", {\r\n    confirmButtonText: \"确定\",\r\n    cancelButtonText: \"取消\",\r\n    type: \"warning\",\r\n  })\r\n    .then(async () => {\r\n      await deleteSpeechLibraryApi.getData({\r\n        id: info.id,\r\n        profileId: userInfo.profileId,\r\n      });\r\n      ElMessage({\r\n        type: \"success\",\r\n        message: \"删除成功\",\r\n      });\r\n      await getList();\r\n    })\r\n    .catch(() => {});\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.form-container {\r\n  justify-content: flex-end;\r\n  .el-input {\r\n    width: 200px;\r\n    margin-right: 10px;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./list.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./list.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./list.vue?vue&type=style&index=0&id=400ff095&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../../../node_modules/.pnpm/vue-loader@17.4.2_@vue+compiler-sfc@3.5.13_vue@3.5.13_typescript@5.7.2__webpack@5.97.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-400ff095\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","_defineComponent","__name","setup","__props","AddEditSpeechLibraryDrawer","defineAsyncComponent","routeQuery","useVueRouter","bd_userInfo","userInfo","bd_virCompanyId","virCompanyId","LocalStorage","batchGetItem","addEditSpeechLibraryRef","ref","paramsData","shallowReactive","title","status","companyId","companyCode","value","getList","pageNumberChange","pageSizeChange","pageData","usePage","listApi","speechLibraryListApi","props","pageNumber","pageSize","handleOperateTemplate","type","info","_addEditSpeechLibrary","params","businessType","Number","subCompanyCode","toggle","handleDelete","ElMessageBox","confirm","confirmButtonText","cancelButtonText","then","async","deleteSpeechLibraryApi","getData","id","profileId","ElMessage","message","catch","_ctx","_cache","_component_el_input","_resolveComponent","_component_el_button","_component_TabList","_component_el_table_column","_component_el_tag","_component_el_link","_component_TableEmpty","_component_el_table","_component_PagePagination","_openBlock","_createElementBlock","_createElementVNode","style","_normalizeStyle","_unref","_Fragment","key","_createVNode","modelValue","$event","placeholder","onKeyup","_withKeys","clearable","onClick","default","_withCtx","_createTextVNode","_","list","speechTabList","activeIndex","initData","active","companyName","data","height","empty","prop","label","align","width","row","statusStyleType","_toDisplayString","statusName","fixed","underline","pageTotal","onEmitPageSizeChange","onEmitPageNumberChange","ref_key","onEmitFunc","__exports__"],"sourceRoot":""}