"use strict";(self["webpackChunkdaili"]=self["webpackChunkdaili"]||[]).push([[2207],{72207:function(e,a,i){i.r(a),i.d(a,{default:function(){return v}});var t=i(6254),n=i(25598),l=i(6934),r=i(88365),o=i(10901),s=i(79689);const b={class:"personal-customer main-container"},d={class:"form-container"},p={class:"form"},c={class:"table-container"};var u=(0,t.pM)({name:"customerManagement.personalCustomer.list",__name:"list",setup(e){const a=(0,t.$V)((()=>Promise.all([i.e(2076),i.e(4199)]).then(i.bind(i,10044)))),u=(0,t.$V)((()=>i.e(3739).then(i.bind(i,53739)))),m=(0,t.$V)((()=>Promise.all([i.e(2076),i.e(631)]).then(i.bind(i,40631)))),{goPage:g}=(0,o.dG)(),{bd_userInfo:v,bd_existCallInterface:h}=r.DT.batchGetItem(["bd_userInfo","bd_existCallInterface"]),k=(0,n.Gc)({addSubCustomerVisible:!1,advancedFilterVisible:!1,customerRetrieveVisible:!1}),f=((0,n.Gc)({parentId:v.profileId}),(0,n.KR)({})),{getList:F,pageNumberChange:C,pageSizeChange:R,pageData:y,resetPageNumber:w}=(0,r.N5)({listApi:s.ey,props:{pageSize:{name:"pageSize",default:20},pageNumber:{name:"page",default:1}},searchParams:()=>({parentId:v.profileId,...f.value})}),S=e=>{f.value=e,w(),F()},N=({profileId:e,companyId:a})=>{g(`/customerManagement/personalCustomer/detail?profileId=${e}&companyId=${a}`)},V=e=>{k[e]=!0},_=e=>{l.s.alert(`<p style='font-size: 14px;'>尊敬代理商，您好！</p><p style='text-indent: 2em;font-size: 13px;word-break: break-word;margin-top: 10px;'>${e.rejectReason??""}</p>`,"驳回原因",{dangerouslyUseHTMLString:!0,callback:()=>{}})};return(e,i)=>{const l=(0,t.g2)("el-button"),r=(0,t.g2)("el-table-column"),o=(0,t.g2)("el-link"),s=(0,t.g2)("TableEmpty"),g=(0,t.g2)("el-table"),v=(0,t.g2)("PagePagination");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("div",b,[(0,t.Lk)("div",d,[(0,t.Lk)("div",p,[0!==(0,n.R1)(h)?((0,t.uX)(),(0,t.Wv)(l,{key:0,type:"primary",onClick:i[0]||(i[0]=e=>V("addSubCustomerVisible"))},{default:(0,t.k6)((()=>i[6]||(i[6]=[(0,t.eW)("新增子客户")]))),_:1})):(0,t.Q3)("",!0),(0,t.bF)(l,{onClick:i[1]||(i[1]=e=>V("customerRetrieveVisible"))},{default:(0,t.k6)((()=>i[7]||(i[7]=[(0,t.eW)("客户找回")]))),_:1}),(0,t.bF)(l,{onClick:i[2]||(i[2]=e=>V("advancedFilterVisible"))},{default:(0,t.k6)((()=>i[8]||(i[8]=[(0,t.eW)("高级筛选")]))),_:1})])]),(0,t.Lk)("div",c,[(0,t.bF)(g,{data:(0,n.R1)(y).list,height:"calc(100vh - 270px)"},{empty:(0,t.k6)((()=>[(0,t.bF)(s,{"empty-text":"您还没有下级客户，试试点击右上角二维码去邀请"})])),default:(0,t.k6)((()=>[(0,t.bF)(r,{prop:"companyName",label:"企业名称",align:"center","min-width":"250"}),(0,t.bF)(r,{prop:"companyCode",label:"企业code",align:"center","min-width":"200"}),(0,t.bF)(r,{prop:"companyPhone",label:"企业电话",align:"center","min-width":"200"}),(0,t.bF)(r,{prop:"businessTypeName",label:"业务类型",align:"center","min-width":"150"}),(0,t.bF)(r,{prop:"createdTime",label:"创建时间",align:"center","min-width":"200"}),(0,t.bF)(r,{prop:"founderName",label:"创建人名称",align:"center","min-width":"220"}),(0,t.bF)(r,{prop:"founderAccount",label:"创建人账号",align:"center","min-width":"200"}),(0,t.bF)(r,{prop:"customerResourceName",label:"客户来源",align:"center","min-width":"120"}),(0,t.bF)(r,{prop:"dealStatusName",label:"成交状态",align:"center","min-width":"120"}),(0,t.bF)(r,{prop:"serviceStatusName",label:"服务状态",align:"center","min-width":"120"}),(0,t.bF)(r,{label:"操作",align:"center",width:"140",fixed:"right"},{default:(0,t.k6)((({row:e})=>[e.showDetail?((0,t.uX)(),(0,t.Wv)(o,{key:0,onClick:a=>N(e),underline:!1,type:"primary"},{default:(0,t.k6)((()=>i[9]||(i[9]=[(0,t.eW)("查看详情")]))),_:2},1032,["onClick"])):(0,t.Q3)("",!0),2===e.serviceStatus?((0,t.uX)(),(0,t.Wv)(o,{key:1,onClick:a=>_(e),underline:!1,type:"primary"},{default:(0,t.k6)((()=>i[10]||(i[10]=[(0,t.eW)("驳回原因")]))),_:2},1032,["onClick"])):(0,t.Q3)("",!0)])),_:1})])),_:1},8,["data"]),(0,t.bF)(v,{pageTotal:(0,n.R1)(y).pageTotal,pageSize:(0,n.R1)(y).pageSize,pageNumber:(0,n.R1)(y).pageNumber,onEmitPageSizeChange:(0,n.R1)(R),onEmitPageNumberChange:(0,n.R1)(C)},null,8,["pageTotal","pageSize","pageNumber","onEmitPageSizeChange","onEmitPageNumberChange"])])]),(0,t.bF)((0,n.R1)(a),{visible:(0,n.R1)(k).addSubCustomerVisible,"onUpdate:visible":i[3]||(i[3]=e=>(0,n.R1)(k).addSubCustomerVisible=e),onEmitFunc:(0,n.R1)(F)},null,8,["visible","onEmitFunc"]),(0,t.bF)((0,n.R1)(m),{visible:(0,n.R1)(k).customerRetrieveVisible,"onUpdate:visible":i[4]||(i[4]=e=>(0,n.R1)(k).customerRetrieveVisible=e),onEmitFunc:(0,n.R1)(F)},null,8,["visible","onEmitFunc"]),(0,t.bF)((0,n.R1)(u),{visible:(0,n.R1)(k).advancedFilterVisible,"onUpdate:visible":i[5]||(i[5]=e=>(0,n.R1)(k).advancedFilterVisible=e),onEmitFunc:S},null,8,["visible"])],64)}}}),m=i(83936);const g=(0,m.A)(u,[["__scopeId","data-v-75014ce6"]]);var v=g}}]);
//# sourceMappingURL=2207.301c6913.js.map