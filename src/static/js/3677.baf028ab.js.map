{"version":3,"file":"static/js/3677.baf028ab.js","mappings":"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","sources":["webpack://daili/./src/components/business-management/ospreyCloudCall/report/list/add-edit-report-drawer.vue?f442","webpack://daili/./src/components/business-management/ospreyCloudCall/report/list/add-edit-report-drawer.vue","webpack://daili/./src/components/business-management/ospreyCloudCall/report/list/add-edit-report-drawer.vue?6a03"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, createSlots as _createSlots, createBlock as _createBlock, unref as _unref } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"business-label\"\n}\nconst _hoisted_2 = { class: \"label-list\" }\nconst _hoisted_3 = {\n  key: 2,\n  class: \"form-tip\"\n}\nconst _hoisted_4 = {\n  key: 2,\n  class: \"form-tip\"\n}\nconst _hoisted_5 = { style: {\"display\":\"flex\",\"align-items\":\"center\"} }\nconst _hoisted_6 = {\n  key: 0,\n  class: \"form-tip\"\n}\nconst _hoisted_7 = {\n  key: 0,\n  class: \"form-tip\"\n}\nconst _hoisted_8 = {\n  key: 0,\n  class: \"form-tip\"\n}\nconst _hoisted_9 = {\n  key: 0,\n  class: \"form-tip\"\n}\nconst _hoisted_10 = {\n  key: 0,\n  class: \"form-tip\"\n}\nconst _hoisted_11 = {\n  key: 1,\n  class: \"form-tip\"\n}\nconst _hoisted_12 = {\n  key: 0,\n  class: \"form-tip\"\n}\nconst _hoisted_13 = {\n  key: 0,\n  class: \"form-tip\"\n}\n\nimport { ref, reactive, defineAsyncComponent } from \"vue\";\r\nimport { ElMessage } from \"element-plus\";\r\nimport { LocalStorage, downLoadFile } from \"jz-tool-lib\";\r\nimport {\r\n  industryTreeApi,\r\n  speechLibraryListApi,\r\n  submitDirectReportingApi,\r\n  addReportComponentListApi,\r\n  editReportComponentListApi,\r\n  submitInterfaceReportingApi,\r\n} from \"@api/business-management-api\";\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'add-edit-report-drawer',\n  emits: [\"emitFunc\"],\n  setup(__props, { expose: __expose, emit: __emit }) {\n\r\nconst AddEditBusinessLabelDialog = defineAsyncComponent(\r\n  () => import(\"@/components/common/add-edit-business-label-dialog.vue\")\r\n);\r\nconst AddEditSpeechLibraryDrawer = defineAsyncComponent(\r\n  () =>\r\n    import(\r\n      \"@/components/business-management/ospreyCloudCall/sub-customer/details/speech-library/add-edit-speech-drawer.vue\"\r\n    )\r\n);\r\n\r\nconst emits = __emit;\r\nconst {\r\n  bd_userInfo: userInfo,\r\n  bd_virCompanyId: virCompanyId,\r\n  bd_authorization: authorization,\r\n} = LocalStorage.batchGetItem([\r\n  \"bd_userInfo\",\r\n  \"bd_virCompanyId\",\r\n  \"bd_authorization\",\r\n]);\r\nconst ruleFormRef = ref();\r\nconst businessLabelRef = ref();\r\nconst addEditSpeechLibraryRef = ref();\r\nconst keyWords = ref<any[]>([]);\r\nconst industryList = ref<any>([]);\r\nconst speechLibraryList = ref<any>([]);\r\nconst initData = reactive({\r\n  type: \"\",\r\n  visible: false,\r\n});\r\nconst companyInfo = ref<Record<string, any>>({\r\n  id: \"\",\r\n  companyId: \"\",\r\n  companyCode: \"\",\r\n  companyName: \"\",\r\n  businessType: \"\", // 0:直客客户  1:接口客户\r\n});\r\nconst formData = reactive<{\r\n  componentList: any[];\r\n}>({\r\n  componentList: [],\r\n});\r\n\r\n/*\r\n * 新增话术库\r\n * */\r\nfunction handleOperateTemplate(\r\n  type: \"add\" | \"edit\",\r\n  info: Record<string, any>\r\n) {\r\n  const params = {\r\n    ...info,\r\n    companyId: companyInfo.value.companyId,\r\n    businessType: companyInfo.value.businessType,\r\n    subCompanyCode: companyInfo.value.companyCode,\r\n  };\r\n  addEditSpeechLibraryRef.value?.toggle(type, true, params);\r\n}\r\n\r\n// 提交业务报备\r\nconst submitForm = () => {\r\n  if (!ruleFormRef.value) return;\r\n  ruleFormRef.value.validate((valid) => {\r\n    if (valid) {\r\n      saveReport();\r\n    }\r\n  });\r\n};\r\n\r\nasync function saveReport() {\r\n  const requestVOList = formData.componentList.map((item: any) => {\r\n    let res: string;\r\n    if (item.propertyType === 1) {\r\n      if (item.propertyKey === \"business_label\") {\r\n        res = JSON.stringify(item.value);\r\n      } else {\r\n        res = item.value;\r\n      }\r\n    } else if (item.propertyType === 5) {\r\n      res = item.value.join(\",\");\r\n    } else if (item.propertyType === 12) {\r\n      let list = item.optionBOList\r\n        .filter((v: any) => {\r\n          return item.value.includes(v.id);\r\n        })\r\n        .map((v: any) => {\r\n          return { key: v.id, value: v.value2 };\r\n        });\r\n      res = JSON.stringify(list);\r\n    } else if (item.propertyKey === \"industry\") {\r\n      res = item.value[item.value.length - 1];\r\n    } else if (item.propertyType === 14) {\r\n      res = keyWords.value.join(\",\");\r\n    } else {\r\n      res = item.value;\r\n    }\r\n    return {\r\n      mainId: item.id,\r\n      propertyKey: item.propertyKey,\r\n      propertyType: item.propertyType,\r\n      tagName: item.tagName,\r\n      value: res,\r\n    };\r\n  });\r\n  const params = {\r\n    agentSubCompanyId: companyInfo.value.companyId,\r\n    agentProfileId: userInfo.profileId,\r\n    token: authorization,\r\n    companyId: virCompanyId, //companyId 代理商公司id\r\n    profileId: userInfo.profileId,\r\n    requestVOList: requestVOList,\r\n    sourceType: 0, // 0是手动，为1是电子化\r\n    type: 2,\r\n  };\r\n  const data = await (companyInfo.value.businessType === 1\r\n    ? submitInterfaceReportingApi\r\n    : submitDirectReportingApi\r\n  ).getData(params);\r\n  if (data.statusCode === 0) {\r\n    ElMessage({ message: data.msg, type: \"success\" });\r\n    emits(\"emitFunc\", {\r\n      type: \"list\",\r\n    });\r\n    handleClose();\r\n  }\r\n}\r\n\r\n// 业务报备动态组件（新增）\r\nasync function getAddReportComponentList() {\r\n  const params = {\r\n    lineIds: 0, // 默认线路0\r\n  };\r\n  const { data } = await addReportComponentListApi.getData(params);\r\n  const { list } = addReportComponentListApi.handleData(\r\n    data,\r\n    companyInfo.value\r\n  );\r\n  formData.componentList = list;\r\n}\r\n\r\n// 业务报备动态组件（编辑）\r\nasync function getEditReportComponentList() {\r\n  const params = {\r\n    id: companyInfo.value.id,\r\n    sourceType: 0, // 0是手动，为1是电子化\r\n  };\r\n  const { data } = await editReportComponentListApi.getData(params);\r\n  const { list } = editReportComponentListApi.handleData(\r\n    data.componentList,\r\n    companyInfo.value,\r\n    industryList.value\r\n  );\r\n  formData.componentList = list;\r\n}\r\n\r\n// 获取行业列表、话术模板列表\r\nfunction getAllList() {\r\n  Promise.all([getIndustryTree(), getSpeechLibraryList()]).then(() => {\r\n    if (initData.type === \"add\") {\r\n      getAddReportComponentList();\r\n    } else if (initData.type === \"edit\") {\r\n      getEditReportComponentList();\r\n    }\r\n  });\r\n}\r\n\r\n// 查询行业树\r\nconst getIndustryTree = async () => {\r\n  const { data } = await industryTreeApi.getData();\r\n  industryList.value = industryTreeApi.handleData(data);\r\n};\r\n// 话术模板\r\nconst getSpeechLibraryList = async () => {\r\n  const params = {\r\n    pageSize: 100,\r\n    pageNo: 1,\r\n    companyCode: companyInfo.value.companyCode,\r\n    companyId: virCompanyId,\r\n  };\r\n  const { data } = await speechLibraryListApi.getData(params);\r\n  speechLibraryList.value = data.records;\r\n};\r\n\r\n// 组件规则\r\nfunction validateRule(row: any) {\r\n  const rules: any[] = [];\r\n  if (row.isRequired) {\r\n    rules.push({\r\n      required: true,\r\n      message: row.placeholder ? row.placeholder : row.tagName + \"不能为空\",\r\n      trigger: \"change\",\r\n    });\r\n  }\r\n  return rules;\r\n}\r\n\r\nfunction validateTemplateRule(\r\n  value: string,\r\n  callback: any,\r\n  index: number,\r\n  row: any\r\n) {\r\n  if (row.propertyType === 14) {\r\n    if (!keyWords.value.length) {\r\n      callback(new Error(\"话术关键词不能为空\"));\r\n    }\r\n    if (keyWords.value.length < 5) {\r\n      callback(new Error(\"话术关键词不能少于5个\"));\r\n    }\r\n  } else {\r\n    const list = row.value;\r\n    if (list.length && list.includes(row.optionBOList[index].id) && !value) {\r\n      callback(new Error(\"请输入\"));\r\n    }\r\n  }\r\n  callback();\r\n}\r\n\r\n// 获取上传文件数据\r\nfunction handleFile(value: any) {\r\n  const { ids, key } = value;\r\n  formData.componentList.forEach((item: any) => {\r\n    if (item.propertyKey === key) {\r\n      item.value = ids;\r\n    }\r\n  });\r\n}\r\n\r\n// 业务标签\r\nfunction handleBusinessLabel(item) {\r\n  const list = item.value;\r\n  const labelList = list.reduce((arr, item) => {\r\n    const labels = item.labels.map((sonItem) => {\r\n      sonItem.groupId = item.group.id;\r\n      return sonItem;\r\n    });\r\n    return arr.concat(labels);\r\n  }, []);\r\n  const labelValue = labelList.map((item) => `${item.id}&${item.groupId}`);\r\n  const groupLabelValue = list.map((item) => item.group.id);\r\n  businessLabelRef.value.trigger(true, {\r\n    labelValue,\r\n    groupLabelValue,\r\n  });\r\n}\r\n\r\n// 更新业务标签\r\nfunction updateBusinessLabel(data?: { value: any[]; labelText: any[] }) {\r\n  const labelInfo = formData.componentList.find(\r\n    (item) => item.propertyKey === \"business_label\"\r\n  );\r\n  labelInfo.value = data?.value ?? [];\r\n  labelInfo.labelText = data?.labelText ?? [];\r\n}\r\n// 关闭抽屉\r\nfunction handleClose() {\r\n  formData.componentList = [];\r\n  initData.visible = false;\r\n}\r\n\r\nfunction trigger(\r\n  visible: boolean,\r\n  type: \"add\" | \"edit\",\r\n  info: Record<string, any>\r\n) {\r\n  initData.type = type;\r\n  initData.visible = visible;\r\n  companyInfo.value = info;\r\n  if (visible) {\r\n    getAllList();\r\n  }\r\n}\r\n\r\n__expose({\r\n  trigger,\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_input = _resolveComponent(\"el-input\")!\n  const _component_el_form_item = _resolveComponent(\"el-form-item\")!\n  const _component_el_option = _resolveComponent(\"el-option\")!\n  const _component_el_select = _resolveComponent(\"el-select\")!\n  const _component_el_input_number = _resolveComponent(\"el-input-number\")!\n  const _component_el_radio = _resolveComponent(\"el-radio\")!\n  const _component_el_radio_group = _resolveComponent(\"el-radio-group\")!\n  const _component_el_checkbox = _resolveComponent(\"el-checkbox\")!\n  const _component_el_checkbox_group = _resolveComponent(\"el-checkbox-group\")!\n  const _component_CustomUpload = _resolveComponent(\"CustomUpload\")!\n  const _component_el_cascader = _resolveComponent(\"el-cascader\")!\n  const _component_el_form = _resolveComponent(\"el-form\")!\n  const _component_el_drawer = _resolveComponent(\"el-drawer\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(_component_el_drawer, {\n      modelValue: initData.visible,\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((initData.visible) = $event)),\n      class: \"custom-drawer\",\n      title: \"业务报备\",\n      size: \"700\",\n      onClose: handleClose\n    }, {\n      footer: _withCtx(() => [\n        _createVNode(_component_el_button, { onClick: handleClose }, {\n          default: _withCtx(() => _cache[5] || (_cache[5] = [\n            _createTextVNode(\"取消\")\n          ])),\n          _: 1\n        }),\n        _createVNode(_component_el_button, {\n          type: \"primary\",\n          onClick: submitForm\n        }, {\n          default: _withCtx(() => _cache[6] || (_cache[6] = [\n            _createTextVNode(\"提交\")\n          ])),\n          _: 1\n        })\n      ]),\n      default: _withCtx(() => [\n        (formData.componentList.length)\n          ? (_openBlock(), _createBlock(_component_el_form, {\n              key: 0,\n              ref_key: \"ruleFormRef\",\n              ref: ruleFormRef,\n              model: formData,\n              \"label-width\": \"100px\",\n              \"label-position\": \"top\"\n            }, {\n              default: _withCtx(() => [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(formData.componentList, (item, index) => {\n                  return (_openBlock(), _createElementBlock(\"div\", {\n                    key: item.id\n                  }, [\n                    (item.propertyType === 1)\n                      ? (_openBlock(), _createBlock(_component_el_form_item, {\n                          key: 0,\n                          label: item.tagName,\n                          prop: 'componentList.' + index + '.value',\n                          rules: validateRule(item)\n                        }, {\n                          default: _withCtx(() => [\n                            (item.propertyKey === 'business_label')\n                              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                                  _createVNode(_component_el_button, {\n                                    type: \"primary\",\n                                    onClick: ($event: any) => (handleBusinessLabel(item, index))\n                                  }, {\n                                    default: _withCtx(() => _cache[2] || (_cache[2] = [\n                                      _createTextVNode(\"添加 \")\n                                    ])),\n                                    _: 2\n                                  }, 1032, [\"onClick\"]),\n                                  _createElementVNode(\"div\", _hoisted_2, [\n                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.labelText, (labelItem, labelIndex) => {\n                                      return (_openBlock(), _createElementBlock(\"span\", { key: labelIndex }, _toDisplayString(labelItem), 1))\n                                    }), 128))\n                                  ])\n                                ]))\n                              : (_openBlock(), _createBlock(_component_el_input, {\n                                  key: 1,\n                                  modelValue: item.value,\n                                  \"onUpdate:modelValue\": ($event: any) => ((item.value) = $event),\n                                  modelModifiers: { trim: true },\n                                  placeholder: item.placeholder,\n                                  disabled: item.inputDisabled\n                                }, _createSlots({ _: 2 }, [\n                                  (item.unit)\n                                    ? {\n                                        name: \"append\",\n                                        fn: _withCtx(() => [\n                                          _createTextVNode(_toDisplayString(item.unit), 1)\n                                        ]),\n                                        key: \"0\"\n                                      }\n                                    : undefined\n                                ]), 1032, [\"modelValue\", \"onUpdate:modelValue\", \"placeholder\", \"disabled\"])),\n                            (item.remark)\n                              ? (_openBlock(), _createElementBlock(\"p\", _hoisted_3, _toDisplayString(item.remark), 1))\n                              : _createCommentVNode(\"\", true)\n                          ]),\n                          _: 2\n                        }, 1032, [\"label\", \"prop\", \"rules\"]))\n                      : _createCommentVNode(\"\", true),\n                    (item.propertyType === 2)\n                      ? (_openBlock(), _createBlock(_component_el_form_item, {\n                          key: 1,\n                          label: item.tagName,\n                          prop: 'componentList.' + index + '.value',\n                          rules: validateRule(item)\n                        }, {\n                          default: _withCtx(() => [\n                            (item.propertyKey === 'verbal_trick')\n                              ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                                  _createVNode(_component_el_select, {\n                                    modelValue: item.value,\n                                    \"onUpdate:modelValue\": ($event: any) => ((item.value) = $event),\n                                    placeholder: item.placeholder\n                                  }, {\n                                    default: _withCtx(() => [\n                                      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(speechLibraryList.value, (speechItem) => {\n                                        return (_openBlock(), _createBlock(_component_el_option, {\n                                          key: speechItem.id,\n                                          label: speechItem.title,\n                                          value: speechItem.id\n                                        }, null, 8, [\"label\", \"value\"]))\n                                      }), 128))\n                                    ]),\n                                    _: 2\n                                  }, 1032, [\"modelValue\", \"onUpdate:modelValue\", \"placeholder\"]),\n                                  _createVNode(_component_el_button, {\n                                    type: \"primary\",\n                                    style: {\"margin-left\":\"10px\"},\n                                    onClick: _cache[0] || (_cache[0] = ($event: any) => (handleOperateTemplate('add', {})))\n                                  }, {\n                                    default: _withCtx(() => _cache[3] || (_cache[3] = [\n                                      _createTextVNode(\"添加 \")\n                                    ])),\n                                    _: 1\n                                  })\n                                ], 64))\n                              : (_openBlock(), _createBlock(_component_el_input, {\n                                  key: 1,\n                                  type: \"textarea\",\n                                  rows: 3,\n                                  maxlength: item.maxLength,\n                                  \"show-word-limit\": \"\",\n                                  modelValue: item.value,\n                                  \"onUpdate:modelValue\": ($event: any) => ((item.value) = $event),\n                                  modelModifiers: { trim: true },\n                                  placeholder: item.placeholder\n                                }, null, 8, [\"maxlength\", \"modelValue\", \"onUpdate:modelValue\", \"placeholder\"])),\n                            (item.remark)\n                              ? (_openBlock(), _createElementBlock(\"p\", _hoisted_4, _toDisplayString(item.remark), 1))\n                              : _createCommentVNode(\"\", true)\n                          ]),\n                          _: 2\n                        }, 1032, [\"label\", \"prop\", \"rules\"]))\n                      : _createCommentVNode(\"\", true),\n                    (item.propertyType === 7)\n                      ? (_openBlock(), _createBlock(_component_el_form_item, {\n                          key: 2,\n                          label: item.tagName,\n                          prop: 'componentList.' + index + '.value',\n                          rules: validateRule(item)\n                        }, {\n                          default: _withCtx(() => [\n                            _createElementVNode(\"div\", _hoisted_5, [\n                              _createVNode(_component_el_input_number, {\n                                modelValue: item.value,\n                                \"onUpdate:modelValue\": ($event: any) => ((item.value) = $event),\n                                precision: 2,\n                                min: 0.01,\n                                max: 9999999999,\n                                label: \"描述文字\"\n                              }, null, 8, [\"modelValue\", \"onUpdate:modelValue\"]),\n                              _createElementVNode(\"span\", null, _toDisplayString(item.unit), 1)\n                            ]),\n                            (item.remark)\n                              ? (_openBlock(), _createElementBlock(\"p\", _hoisted_6, _toDisplayString(item.remark), 1))\n                              : _createCommentVNode(\"\", true)\n                          ]),\n                          _: 2\n                        }, 1032, [\"label\", \"prop\", \"rules\"]))\n                      : _createCommentVNode(\"\", true),\n                    (item.propertyType === 4)\n                      ? (_openBlock(), _createBlock(_component_el_form_item, {\n                          key: 3,\n                          label: item.tagName,\n                          prop: 'componentList.' + index + '.value',\n                          rules: validateRule(item)\n                        }, {\n                          default: _withCtx(() => [\n                            _createVNode(_component_el_radio_group, {\n                              modelValue: item.value,\n                              \"onUpdate:modelValue\": ($event: any) => ((item.value) = $event)\n                            }, {\n                              default: _withCtx(() => [\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.optionBOList, (v, k) => {\n                                  return (_openBlock(), _createBlock(_component_el_radio, {\n                                    value: v.id,\n                                    key: k\n                                  }, {\n                                    default: _withCtx(() => [\n                                      _createTextVNode(_toDisplayString(v.value), 1)\n                                    ]),\n                                    _: 2\n                                  }, 1032, [\"value\"]))\n                                }), 128))\n                              ]),\n                              _: 2\n                            }, 1032, [\"modelValue\", \"onUpdate:modelValue\"]),\n                            (item.remark)\n                              ? (_openBlock(), _createElementBlock(\"p\", _hoisted_7, _toDisplayString(item.remark), 1))\n                              : _createCommentVNode(\"\", true)\n                          ]),\n                          _: 2\n                        }, 1032, [\"label\", \"prop\", \"rules\"]))\n                      : _createCommentVNode(\"\", true),\n                    (item.propertyType === 11)\n                      ? (_openBlock(), _createBlock(_component_el_form_item, {\n                          key: 4,\n                          label: item.tagName,\n                          prop: 'componentList.' + index + '.value',\n                          rules: validateRule(item)\n                        }, {\n                          default: _withCtx(() => [\n                            _createVNode(_component_el_select, {\n                              modelValue: item.value,\n                              \"onUpdate:modelValue\": ($event: any) => ((item.value) = $event),\n                              filterable: \"\",\n                              placeholder: item.placeholder\n                            }, {\n                              default: _withCtx(() => [\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.optionBOList, (item) => {\n                                  return (_openBlock(), _createBlock(_component_el_option, {\n                                    key: item.id,\n                                    label: item.value,\n                                    value: item.id\n                                  }, null, 8, [\"label\", \"value\"]))\n                                }), 128))\n                              ]),\n                              _: 2\n                            }, 1032, [\"modelValue\", \"onUpdate:modelValue\", \"placeholder\"]),\n                            (item.remark)\n                              ? (_openBlock(), _createElementBlock(\"p\", _hoisted_8, _toDisplayString(item.remark), 1))\n                              : _createCommentVNode(\"\", true)\n                          ]),\n                          _: 2\n                        }, 1032, [\"label\", \"prop\", \"rules\"]))\n                      : _createCommentVNode(\"\", true),\n                    (item.propertyType === 5)\n                      ? (_openBlock(), _createBlock(_component_el_form_item, {\n                          key: 5,\n                          label: item.tagName,\n                          prop: 'componentList.' + index + '.value',\n                          rules: validateRule(item)\n                        }, {\n                          default: _withCtx(() => [\n                            _createVNode(_component_el_checkbox_group, {\n                              modelValue: item.value,\n                              \"onUpdate:modelValue\": ($event: any) => ((item.value) = $event)\n                            }, {\n                              default: _withCtx(() => [\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.optionBOList, (v, j) => {\n                                  return (_openBlock(), _createBlock(_component_el_checkbox, {\n                                    value: v.id,\n                                    key: j\n                                  }, {\n                                    default: _withCtx(() => [\n                                      _createTextVNode(_toDisplayString(v.value), 1)\n                                    ]),\n                                    _: 2\n                                  }, 1032, [\"value\"]))\n                                }), 128))\n                              ]),\n                              _: 2\n                            }, 1032, [\"modelValue\", \"onUpdate:modelValue\"]),\n                            (item.remark)\n                              ? (_openBlock(), _createElementBlock(\"p\", _hoisted_9, _toDisplayString(item.remark), 1))\n                              : _createCommentVNode(\"\", true)\n                          ]),\n                          _: 2\n                        }, 1032, [\"label\", \"prop\", \"rules\"]))\n                      : _createCommentVNode(\"\", true),\n                    (item.propertyType === 12)\n                      ? (_openBlock(), _createBlock(_component_el_form_item, {\n                          key: 6,\n                          label: item.tagName,\n                          prop: 'componentList.' + index + '.value',\n                          rules: validateRule(item)\n                        }, {\n                          default: _withCtx(() => [\n                            _createVNode(_component_el_checkbox_group, {\n                              modelValue: item.value,\n                              \"onUpdate:modelValue\": ($event: any) => ((item.value) = $event)\n                            }, {\n                              default: _withCtx(() => [\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.optionBOList, (v, j) => {\n                                  return (_openBlock(), _createElementBlock(\"div\", {\n                                    style: {\"display\":\"flex\",\"margin-bottom\":\"20px\"},\n                                    key: j\n                                  }, [\n                                    _createVNode(_component_el_checkbox, {\n                                      style: {\"width\":\"100px\"},\n                                      value: v.id\n                                    }, {\n                                      default: _withCtx(() => [\n                                        _createTextVNode(_toDisplayString(v.value), 1)\n                                      ]),\n                                      _: 2\n                                    }, 1032, [\"value\"]),\n                                    _createVNode(_component_el_form_item, {\n                                      prop: \r\n                    'componentList.' + index + '.optionBOList.' + j + '.value2'\r\n                  ,\n                                      rules: [\r\n                    {\r\n                      validator: (rule, value, callback) => {\r\n                        validateTemplateRule(value, callback, j, item);\r\n                      },\r\n                    },\r\n                  ]\n                                    }, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_el_input, {\n                                          disabled: !item.value.includes(v.id),\n                                          modelValue: v.value2,\n                                          \"onUpdate:modelValue\": ($event: any) => ((v.value2) = $event),\n                                          placeholder: v.placeholder\n                                        }, null, 8, [\"disabled\", \"modelValue\", \"onUpdate:modelValue\", \"placeholder\"])\n                                      ]),\n                                      _: 2\n                                    }, 1032, [\"prop\", \"rules\"])\n                                  ]))\n                                }), 128))\n                              ]),\n                              _: 2\n                            }, 1032, [\"modelValue\", \"onUpdate:modelValue\"]),\n                            (item.remark)\n                              ? (_openBlock(), _createElementBlock(\"p\", _hoisted_10, _toDisplayString(item.remark), 1))\n                              : _createCommentVNode(\"\", true)\n                          ]),\n                          _: 2\n                        }, 1032, [\"label\", \"prop\", \"rules\"]))\n                      : _createCommentVNode(\"\", true),\n                    (item.propertyType === 9)\n                      ? (_openBlock(), _createBlock(_component_el_form_item, {\n                          key: 7,\n                          label: item.tagName,\n                          prop: 'componentList.' + index + '.value',\n                          rules: validateRule(item)\n                        }, {\n                          default: _withCtx(() => [\n                            _createVNode(_component_CustomUpload, {\n                              \"show-word-limit\": \"10\",\n                              \"list-type\": \"text\",\n                              accept: \"*\",\n                              defaultFileList: item.fileList,\n                              \"onUpdate:defaultFileList\": ($event: any) => ((item.fileList) = $event),\n                              editData: item,\n                              maxVolume: 20,\n                              limit: item.fileLimit,\n                              onEmitUpload: handleFile\n                            }, null, 8, [\"defaultFileList\", \"onUpdate:defaultFileList\", \"editData\", \"limit\"]),\n                            (item.templateBOList && item.templateBOList.length)\n                              ? (_openBlock(), _createBlock(_component_el_button, {\n                                  key: 0,\n                                  onClick: ($event: any) => (_unref(downLoadFile)(item.templateBOList[0].fileUrl))\n                                }, {\n                                  default: _withCtx(() => _cache[4] || (_cache[4] = [\n                                    _createTextVNode(\"下载模板 \")\n                                  ])),\n                                  _: 2\n                                }, 1032, [\"onClick\"]))\n                              : _createCommentVNode(\"\", true),\n                            (item.remark)\n                              ? (_openBlock(), _createElementBlock(\"p\", _hoisted_11, _toDisplayString(item.remark), 1))\n                              : _createCommentVNode(\"\", true)\n                          ]),\n                          _: 2\n                        }, 1032, [\"label\", \"prop\", \"rules\"]))\n                      : _createCommentVNode(\"\", true),\n                    (item.propertyType === 13)\n                      ? (_openBlock(), _createBlock(_component_el_form_item, {\n                          key: 8,\n                          label: item.tagName,\n                          prop: 'componentList.' + index + '.value',\n                          rules: validateRule(item)\n                        }, {\n                          default: _withCtx(() => [\n                            _createVNode(_component_CustomUpload, {\n                              \"show-word-limit\": \"10\",\n                              \"list-type\": \"picture-card\",\n                              defaultFileList: item.fileList,\n                              \"onUpdate:defaultFileList\": ($event: any) => ((item.fileList) = $event),\n                              editData: item,\n                              maxVolume: 20,\n                              limit: item.fileLimit,\n                              onEmitUpload: handleFile\n                            }, null, 8, [\"defaultFileList\", \"onUpdate:defaultFileList\", \"editData\", \"limit\"]),\n                            (item.remark)\n                              ? (_openBlock(), _createElementBlock(\"p\", _hoisted_12, _toDisplayString(item.remark), 1))\n                              : _createCommentVNode(\"\", true)\n                          ]),\n                          _: 2\n                        }, 1032, [\"label\", \"prop\", \"rules\"]))\n                      : _createCommentVNode(\"\", true),\n                    (item.propertyKey === 'industry')\n                      ? (_openBlock(), _createBlock(_component_el_form_item, {\n                          key: 9,\n                          label: item.tagName,\n                          prop: 'componentList.' + index + '.value',\n                          rules: validateRule(item)\n                        }, {\n                          default: _withCtx(() => [\n                            _createVNode(_component_el_cascader, {\n                              style: {\"width\":\"100%\"},\n                              modelValue: item.value,\n                              \"onUpdate:modelValue\": ($event: any) => ((item.value) = $event),\n                              emitPath: true,\n                              filterable: \"\",\n                              clearable: \"\",\n                              placeholder: \"请选择\",\n                              props: {\r\n                value: 'id',\r\n                label: 'name',\r\n                children: 'children',\r\n                checkStrictly: false,\r\n              },\n                              options: industryList.value,\n                              disabled: item.inputDisabled\n                            }, null, 8, [\"modelValue\", \"onUpdate:modelValue\", \"options\", \"disabled\"]),\n                            (item.remark)\n                              ? (_openBlock(), _createElementBlock(\"p\", _hoisted_13, _toDisplayString(item.remark), 1))\n                              : _createCommentVNode(\"\", true)\n                          ]),\n                          _: 2\n                        }, 1032, [\"label\", \"prop\", \"rules\"]))\n                      : _createCommentVNode(\"\", true)\n                  ]))\n                }), 128))\n              ]),\n              _: 1\n            }, 8, [\"model\"]))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _: 1\n    }, 8, [\"modelValue\"]),\n    _createVNode(_unref(AddEditSpeechLibraryDrawer), {\n      ref_key: \"addEditSpeechLibraryRef\",\n      ref: addEditSpeechLibraryRef,\n      onEmitFunc: getSpeechLibraryList\n    }, null, 512),\n    _createVNode(_unref(AddEditBusinessLabelDialog), {\n      ref_key: \"businessLabelRef\",\n      ref: businessLabelRef,\n      onEmitFunc: updateBusinessLabel\n    }, null, 512)\n  ], 64))\n}\n}\n\n})","<template>\r\n  <el-drawer\r\n    v-model=\"initData.visible\"\r\n    class=\"custom-drawer\"\r\n    title=\"业务报备\"\r\n    size=\"700\"\r\n    @close=\"handleClose\"\r\n  >\r\n    <!--    <p class=\"prompt\" v-if=\"initData.type === 'edit'\">-->\r\n    <!--      您也可通过<span @click=\"handleElectronReport\">【电子化报备】</span-->\r\n    <!--      >来进行业务资料的报备-->\r\n    <!--    </p>-->\r\n    <el-form\r\n      v-if=\"formData.componentList.length\"\r\n      ref=\"ruleFormRef\"\r\n      :model=\"formData\"\r\n      label-width=\"100px\"\r\n      label-position=\"top\"\r\n    >\r\n      <div v-for=\"(item, index) in formData.componentList\" :key=\"item.id\">\r\n        <!-- 单行输入框 -->\r\n        <template v-if=\"item.propertyType === 1\">\r\n          <el-form-item\r\n            :label=\"item.tagName\"\r\n            :prop=\"'componentList.' + index + '.value'\"\r\n            :rules=\"validateRule(item)\"\r\n          >\r\n            <div\r\n              v-if=\"item.propertyKey === 'business_label'\"\r\n              class=\"business-label\"\r\n            >\r\n              <el-button\r\n                type=\"primary\"\r\n                @click=\"handleBusinessLabel(item, index)\"\r\n                >添加\r\n              </el-button>\r\n              <div class=\"label-list\">\r\n                <span\r\n                  v-for=\"(labelItem, labelIndex) in item.labelText\"\r\n                  :key=\"labelIndex\"\r\n                  >{{ labelItem }}</span\r\n                >\r\n              </div>\r\n            </div>\r\n            <template v-else>\r\n              <el-input\r\n                v-model.trim=\"item.value\"\r\n                :placeholder=\"item.placeholder\"\r\n                :disabled=\"item.inputDisabled\"\r\n              >\r\n                <template v-if=\"item.unit\" #append>{{ item.unit }}</template>\r\n              </el-input>\r\n            </template>\r\n            <p v-if=\"item.remark\" class=\"form-tip\">{{ item.remark }}</p>\r\n          </el-form-item>\r\n        </template>\r\n\r\n        <!-- 多行输入框 -->\r\n        <template v-if=\"item.propertyType === 2\">\r\n          <el-form-item\r\n            :label=\"item.tagName\"\r\n            :prop=\"'componentList.' + index + '.value'\"\r\n            :rules=\"validateRule(item)\"\r\n          >\r\n            <!-- 话书库 -->\r\n            <template v-if=\"item.propertyKey === 'verbal_trick'\">\r\n              <el-select v-model=\"item.value\" :placeholder=\"item.placeholder\">\r\n                <el-option\r\n                  v-for=\"speechItem in speechLibraryList\"\r\n                  :key=\"speechItem.id\"\r\n                  :label=\"speechItem.title\"\r\n                  :value=\"speechItem.id\"\r\n                />\r\n              </el-select>\r\n              <el-button\r\n                type=\"primary\"\r\n                style=\"margin-left: 10px\"\r\n                @click=\"handleOperateTemplate('add', {})\"\r\n                >添加\r\n              </el-button>\r\n            </template>\r\n            <template v-else>\r\n              <el-input\r\n                type=\"textarea\"\r\n                :rows=\"3\"\r\n                :maxlength=\"item.maxLength\"\r\n                show-word-limit\r\n                v-model.trim=\"item.value\"\r\n                :placeholder=\"item.placeholder\"\r\n              ></el-input>\r\n            </template>\r\n            <p v-if=\"item.remark\" class=\"form-tip\">{{ item.remark }}</p>\r\n          </el-form-item>\r\n        </template>\r\n\r\n        <!-- 数字输入框 -->\r\n        <template v-if=\"item.propertyType === 7\">\r\n          <el-form-item\r\n            :label=\"item.tagName\"\r\n            :prop=\"'componentList.' + index + '.value'\"\r\n            :rules=\"validateRule(item)\"\r\n          >\r\n            <div style=\"display: flex; align-items: center\">\r\n              <el-input-number\r\n                v-model=\"item.value\"\r\n                :precision=\"2\"\r\n                :min=\"0.01\"\r\n                :max=\"9999999999\"\r\n                label=\"描述文字\"\r\n              ></el-input-number>\r\n              <span>{{ item.unit }}</span>\r\n            </div>\r\n            <p v-if=\"item.remark\" class=\"form-tip\">{{ item.remark }}</p>\r\n          </el-form-item>\r\n        </template>\r\n\r\n        <!-- 单选框 -->\r\n        <template v-if=\"item.propertyType === 4\">\r\n          <el-form-item\r\n            :label=\"item.tagName\"\r\n            :prop=\"'componentList.' + index + '.value'\"\r\n            :rules=\"validateRule(item)\"\r\n          >\r\n            <el-radio-group v-model=\"item.value\">\r\n              <el-radio\r\n                :value=\"v.id\"\r\n                v-for=\"(v, k) in item.optionBOList\"\r\n                :key=\"k\"\r\n                >{{ v.value }}\r\n              </el-radio>\r\n            </el-radio-group>\r\n            <p v-if=\"item.remark\" class=\"form-tip\">{{ item.remark }}</p>\r\n          </el-form-item>\r\n        </template>\r\n\r\n        <!-- 单选输入 -->\r\n        <template v-if=\"item.propertyType === 11\">\r\n          <el-form-item\r\n            :label=\"item.tagName\"\r\n            :prop=\"'componentList.' + index + '.value'\"\r\n            :rules=\"validateRule(item)\"\r\n          >\r\n            <el-select\r\n              v-model=\"item.value\"\r\n              filterable\r\n              :placeholder=\"item.placeholder\"\r\n            >\r\n              <el-option\r\n                v-for=\"item in item.optionBOList\"\r\n                :key=\"item.id\"\r\n                :label=\"item.value\"\r\n                :value=\"item.id\"\r\n              >\r\n              </el-option>\r\n            </el-select>\r\n            <p v-if=\"item.remark\" class=\"form-tip\">{{ item.remark }}</p>\r\n          </el-form-item>\r\n        </template>\r\n\r\n        <!-- 多选框 -->\r\n        <template v-if=\"item.propertyType === 5\">\r\n          <el-form-item\r\n            :label=\"item.tagName\"\r\n            :prop=\"'componentList.' + index + '.value'\"\r\n            :rules=\"validateRule(item)\"\r\n          >\r\n            <el-checkbox-group v-model=\"item.value\">\r\n              <el-checkbox\r\n                :value=\"v.id\"\r\n                v-for=\"(v, j) in item.optionBOList\"\r\n                :key=\"j\"\r\n                >{{ v.value }}\r\n              </el-checkbox>\r\n            </el-checkbox-group>\r\n            <p v-if=\"item.remark\" class=\"form-tip\">{{ item.remark }}</p>\r\n          </el-form-item>\r\n        </template>\r\n\r\n        <!-- 多选输入框 -->\r\n        <template v-if=\"item.propertyType === 12\">\r\n          <el-form-item\r\n            :label=\"item.tagName\"\r\n            :prop=\"'componentList.' + index + '.value'\"\r\n            :rules=\"validateRule(item)\"\r\n          >\r\n            <el-checkbox-group v-model=\"item.value\">\r\n              <div\r\n                style=\"display: flex; margin-bottom: 20px\"\r\n                v-for=\"(v, j) in item.optionBOList\"\r\n                :key=\"j\"\r\n              >\r\n                <el-checkbox style=\"width: 100px\" :value=\"v.id\"\r\n                  >{{ v.value }}\r\n                </el-checkbox>\r\n                <el-form-item\r\n                  :prop=\"\r\n                    'componentList.' + index + '.optionBOList.' + j + '.value2'\r\n                  \"\r\n                  :rules=\"[\r\n                    {\r\n                      validator: (rule, value, callback) => {\r\n                        validateTemplateRule(value, callback, j, item);\r\n                      },\r\n                    },\r\n                  ]\"\r\n                >\r\n                  <el-input\r\n                    :disabled=\"!item.value.includes(v.id)\"\r\n                    v-model=\"v.value2\"\r\n                    :placeholder=\"v.placeholder\"\r\n                  ></el-input>\r\n                </el-form-item>\r\n              </div>\r\n            </el-checkbox-group>\r\n            <p v-if=\"item.remark\" class=\"form-tip\">{{ item.remark }}</p>\r\n          </el-form-item>\r\n        </template>\r\n\r\n        <!-- 附件 -->\r\n        <template v-if=\"item.propertyType === 9\">\r\n          <el-form-item\r\n            :label=\"item.tagName\"\r\n            :prop=\"'componentList.' + index + '.value'\"\r\n            :rules=\"validateRule(item)\"\r\n          >\r\n            <CustomUpload\r\n              show-word-limit=\"10\"\r\n              list-type=\"text\"\r\n              accept=\"*\"\r\n              v-model:defaultFileList=\"item.fileList\"\r\n              :editData=\"item\"\r\n              :maxVolume=\"20\"\r\n              :limit=\"item.fileLimit\"\r\n              @emitUpload=\"handleFile\"\r\n            />\r\n            <template v-if=\"item.templateBOList && item.templateBOList.length\">\r\n              <el-button @click=\"downLoadFile(item.templateBOList[0].fileUrl)\"\r\n                >下载模板\r\n              </el-button>\r\n            </template>\r\n            <p v-if=\"item.remark\" class=\"form-tip\">{{ item.remark }}</p>\r\n          </el-form-item>\r\n        </template>\r\n\r\n        <!-- 图片 -->\r\n        <template v-if=\"item.propertyType === 13\">\r\n          <el-form-item\r\n            :label=\"item.tagName\"\r\n            :prop=\"'componentList.' + index + '.value'\"\r\n            :rules=\"validateRule(item)\"\r\n          >\r\n            <CustomUpload\r\n              show-word-limit=\"10\"\r\n              list-type=\"picture-card\"\r\n              v-model:defaultFileList=\"item.fileList\"\r\n              :editData=\"item\"\r\n              :maxVolume=\"20\"\r\n              :limit=\"item.fileLimit\"\r\n              @emitUpload=\"handleFile\"\r\n            />\r\n            <p v-if=\"item.remark\" class=\"form-tip\">{{ item.remark }}</p>\r\n          </el-form-item>\r\n        </template>\r\n\r\n        <!-- 行业 -->\r\n        <template v-if=\"item.propertyKey === 'industry'\">\r\n          <el-form-item\r\n            :label=\"item.tagName\"\r\n            :prop=\"'componentList.' + index + '.value'\"\r\n            :rules=\"validateRule(item)\"\r\n          >\r\n            <el-cascader\r\n              style=\"width: 100%\"\r\n              v-model=\"item.value\"\r\n              :emitPath=\"true\"\r\n              filterable\r\n              clearable\r\n              placeholder=\"请选择\"\r\n              :props=\"{\r\n                value: 'id',\r\n                label: 'name',\r\n                children: 'children',\r\n                checkStrictly: false,\r\n              }\"\r\n              :options=\"industryList\"\r\n              :disabled=\"item.inputDisabled\"\r\n            ></el-cascader>\r\n            <p v-if=\"item.remark\" class=\"form-tip\">{{ item.remark }}</p>\r\n          </el-form-item>\r\n        </template>\r\n      </div>\r\n    </el-form>\r\n    <template #footer>\r\n      <el-button @click=\"handleClose\">取消</el-button>\r\n      <el-button type=\"primary\" @click=\"submitForm\">提交</el-button>\r\n    </template>\r\n  </el-drawer>\r\n  <AddEditSpeechLibraryDrawer\r\n    ref=\"addEditSpeechLibraryRef\"\r\n    @emitFunc=\"getSpeechLibraryList\"\r\n  ></AddEditSpeechLibraryDrawer>\r\n  <AddEditBusinessLabelDialog\r\n    ref=\"businessLabelRef\"\r\n    @emitFunc=\"updateBusinessLabel\"\r\n  ></AddEditBusinessLabelDialog>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport { ref, reactive, defineAsyncComponent } from \"vue\";\r\nimport { ElMessage } from \"element-plus\";\r\nimport { LocalStorage, downLoadFile } from \"jz-tool-lib\";\r\nimport {\r\n  industryTreeApi,\r\n  speechLibraryListApi,\r\n  submitDirectReportingApi,\r\n  addReportComponentListApi,\r\n  editReportComponentListApi,\r\n  submitInterfaceReportingApi,\r\n} from \"@api/business-management-api\";\r\n\r\nconst AddEditBusinessLabelDialog = defineAsyncComponent(\r\n  () => import(\"@/components/common/add-edit-business-label-dialog.vue\")\r\n);\r\nconst AddEditSpeechLibraryDrawer = defineAsyncComponent(\r\n  () =>\r\n    import(\r\n      \"@/components/business-management/ospreyCloudCall/sub-customer/details/speech-library/add-edit-speech-drawer.vue\"\r\n    )\r\n);\r\n\r\nconst emits = defineEmits<{\r\n  (\r\n    e: \"emitFunc\",\r\n    value: {\r\n      type: \"list\" | \"report-electron\" | \"report-manual\";\r\n      info?: Record<string, any>;\r\n    }\r\n  ): void;\r\n}>();\r\nconst {\r\n  bd_userInfo: userInfo,\r\n  bd_virCompanyId: virCompanyId,\r\n  bd_authorization: authorization,\r\n} = LocalStorage.batchGetItem([\r\n  \"bd_userInfo\",\r\n  \"bd_virCompanyId\",\r\n  \"bd_authorization\",\r\n]);\r\nconst ruleFormRef = ref();\r\nconst businessLabelRef = ref();\r\nconst addEditSpeechLibraryRef = ref();\r\nconst keyWords = ref<any[]>([]);\r\nconst industryList = ref<any>([]);\r\nconst speechLibraryList = ref<any>([]);\r\nconst initData = reactive({\r\n  type: \"\",\r\n  visible: false,\r\n});\r\nconst companyInfo = ref<Record<string, any>>({\r\n  id: \"\",\r\n  companyId: \"\",\r\n  companyCode: \"\",\r\n  companyName: \"\",\r\n  businessType: \"\", // 0:直客客户  1:接口客户\r\n});\r\nconst formData = reactive<{\r\n  componentList: any[];\r\n}>({\r\n  componentList: [],\r\n});\r\n\r\n/*\r\n * 新增话术库\r\n * */\r\nfunction handleOperateTemplate(\r\n  type: \"add\" | \"edit\",\r\n  info: Record<string, any>\r\n) {\r\n  const params = {\r\n    ...info,\r\n    companyId: companyInfo.value.companyId,\r\n    businessType: companyInfo.value.businessType,\r\n    subCompanyCode: companyInfo.value.companyCode,\r\n  };\r\n  addEditSpeechLibraryRef.value?.toggle(type, true, params);\r\n}\r\n\r\n// 提交业务报备\r\nconst submitForm = () => {\r\n  if (!ruleFormRef.value) return;\r\n  ruleFormRef.value.validate((valid) => {\r\n    if (valid) {\r\n      saveReport();\r\n    }\r\n  });\r\n};\r\n\r\nasync function saveReport() {\r\n  const requestVOList = formData.componentList.map((item: any) => {\r\n    let res: string;\r\n    if (item.propertyType === 1) {\r\n      if (item.propertyKey === \"business_label\") {\r\n        res = JSON.stringify(item.value);\r\n      } else {\r\n        res = item.value;\r\n      }\r\n    } else if (item.propertyType === 5) {\r\n      res = item.value.join(\",\");\r\n    } else if (item.propertyType === 12) {\r\n      let list = item.optionBOList\r\n        .filter((v: any) => {\r\n          return item.value.includes(v.id);\r\n        })\r\n        .map((v: any) => {\r\n          return { key: v.id, value: v.value2 };\r\n        });\r\n      res = JSON.stringify(list);\r\n    } else if (item.propertyKey === \"industry\") {\r\n      res = item.value[item.value.length - 1];\r\n    } else if (item.propertyType === 14) {\r\n      res = keyWords.value.join(\",\");\r\n    } else {\r\n      res = item.value;\r\n    }\r\n    return {\r\n      mainId: item.id,\r\n      propertyKey: item.propertyKey,\r\n      propertyType: item.propertyType,\r\n      tagName: item.tagName,\r\n      value: res,\r\n    };\r\n  });\r\n  const params = {\r\n    agentSubCompanyId: companyInfo.value.companyId,\r\n    agentProfileId: userInfo.profileId,\r\n    token: authorization,\r\n    companyId: virCompanyId, //companyId 代理商公司id\r\n    profileId: userInfo.profileId,\r\n    requestVOList: requestVOList,\r\n    sourceType: 0, // 0是手动，为1是电子化\r\n    type: 2,\r\n  };\r\n  const data = await (companyInfo.value.businessType === 1\r\n    ? submitInterfaceReportingApi\r\n    : submitDirectReportingApi\r\n  ).getData(params);\r\n  if (data.statusCode === 0) {\r\n    ElMessage({ message: data.msg, type: \"success\" });\r\n    emits(\"emitFunc\", {\r\n      type: \"list\",\r\n    });\r\n    handleClose();\r\n  }\r\n}\r\n\r\n// 业务报备动态组件（新增）\r\nasync function getAddReportComponentList() {\r\n  const params = {\r\n    lineIds: 0, // 默认线路0\r\n  };\r\n  const { data } = await addReportComponentListApi.getData(params);\r\n  const { list } = addReportComponentListApi.handleData(\r\n    data,\r\n    companyInfo.value\r\n  );\r\n  formData.componentList = list;\r\n}\r\n\r\n// 业务报备动态组件（编辑）\r\nasync function getEditReportComponentList() {\r\n  const params = {\r\n    id: companyInfo.value.id,\r\n    sourceType: 0, // 0是手动，为1是电子化\r\n  };\r\n  const { data } = await editReportComponentListApi.getData(params);\r\n  const { list } = editReportComponentListApi.handleData(\r\n    data.componentList,\r\n    companyInfo.value,\r\n    industryList.value\r\n  );\r\n  formData.componentList = list;\r\n}\r\n\r\n// 获取行业列表、话术模板列表\r\nfunction getAllList() {\r\n  Promise.all([getIndustryTree(), getSpeechLibraryList()]).then(() => {\r\n    if (initData.type === \"add\") {\r\n      getAddReportComponentList();\r\n    } else if (initData.type === \"edit\") {\r\n      getEditReportComponentList();\r\n    }\r\n  });\r\n}\r\n\r\n// 查询行业树\r\nconst getIndustryTree = async () => {\r\n  const { data } = await industryTreeApi.getData();\r\n  industryList.value = industryTreeApi.handleData(data);\r\n};\r\n// 话术模板\r\nconst getSpeechLibraryList = async () => {\r\n  const params = {\r\n    pageSize: 100,\r\n    pageNo: 1,\r\n    companyCode: companyInfo.value.companyCode,\r\n    companyId: virCompanyId,\r\n  };\r\n  const { data } = await speechLibraryListApi.getData(params);\r\n  speechLibraryList.value = data.records;\r\n};\r\n\r\n// 组件规则\r\nfunction validateRule(row: any) {\r\n  const rules: any[] = [];\r\n  if (row.isRequired) {\r\n    rules.push({\r\n      required: true,\r\n      message: row.placeholder ? row.placeholder : row.tagName + \"不能为空\",\r\n      trigger: \"change\",\r\n    });\r\n  }\r\n  return rules;\r\n}\r\n\r\nfunction validateTemplateRule(\r\n  value: string,\r\n  callback: any,\r\n  index: number,\r\n  row: any\r\n) {\r\n  if (row.propertyType === 14) {\r\n    if (!keyWords.value.length) {\r\n      callback(new Error(\"话术关键词不能为空\"));\r\n    }\r\n    if (keyWords.value.length < 5) {\r\n      callback(new Error(\"话术关键词不能少于5个\"));\r\n    }\r\n  } else {\r\n    const list = row.value;\r\n    if (list.length && list.includes(row.optionBOList[index].id) && !value) {\r\n      callback(new Error(\"请输入\"));\r\n    }\r\n  }\r\n  callback();\r\n}\r\n\r\n// 获取上传文件数据\r\nfunction handleFile(value: any) {\r\n  const { ids, key } = value;\r\n  formData.componentList.forEach((item: any) => {\r\n    if (item.propertyKey === key) {\r\n      item.value = ids;\r\n    }\r\n  });\r\n}\r\n\r\n// 业务标签\r\nfunction handleBusinessLabel(item) {\r\n  const list = item.value;\r\n  const labelList = list.reduce((arr, item) => {\r\n    const labels = item.labels.map((sonItem) => {\r\n      sonItem.groupId = item.group.id;\r\n      return sonItem;\r\n    });\r\n    return arr.concat(labels);\r\n  }, []);\r\n  const labelValue = labelList.map((item) => `${item.id}&${item.groupId}`);\r\n  const groupLabelValue = list.map((item) => item.group.id);\r\n  businessLabelRef.value.trigger(true, {\r\n    labelValue,\r\n    groupLabelValue,\r\n  });\r\n}\r\n\r\n// 更新业务标签\r\nfunction updateBusinessLabel(data?: { value: any[]; labelText: any[] }) {\r\n  const labelInfo = formData.componentList.find(\r\n    (item) => item.propertyKey === \"business_label\"\r\n  );\r\n  labelInfo.value = data?.value ?? [];\r\n  labelInfo.labelText = data?.labelText ?? [];\r\n}\r\n// 关闭抽屉\r\nfunction handleClose() {\r\n  formData.componentList = [];\r\n  initData.visible = false;\r\n}\r\n\r\nfunction trigger(\r\n  visible: boolean,\r\n  type: \"add\" | \"edit\",\r\n  info: Record<string, any>\r\n) {\r\n  initData.type = type;\r\n  initData.visible = visible;\r\n  companyInfo.value = info;\r\n  if (visible) {\r\n    getAllList();\r\n  }\r\n}\r\n\r\ndefineExpose({\r\n  trigger,\r\n});\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.el-form {\r\n  padding-top: 5px;\r\n\r\n  :deep(.el-form-item__content) {\r\n    > .el-select {\r\n      width: calc(100% - 80px);\r\n    }\r\n  }\r\n}\r\n\r\n.business-label {\r\n  .label-list {\r\n    @include flex(initial, initial, column);\r\n\r\n    span {\r\n      line-height: 28px;\r\n    }\r\n  }\r\n}\r\n\r\n.form-tip {\r\n  width: 100%;\r\n  color: #606266;\r\n  font-size: 13px;\r\n  margin-top: 10px;\r\n  line-height: 20px;\r\n}\r\n\r\n.prompt {\r\n  position: absolute;\r\n  top: 65px;\r\n  z-index: 1000;\r\n  width: 100%;\r\n  color: #606266;\r\n  font-size: 13px;\r\n  line-height: 20px;\r\n  background-color: #ffffff;\r\n\r\n  span {\r\n    color: #0056ff;\r\n    cursor: pointer;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./add-edit-report-drawer.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./add-edit-report-drawer.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./add-edit-report-drawer.vue?vue&type=style&index=0&id=7f26c80a&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../../../node_modules/.pnpm/vue-loader@17.4.2_@vue+compiler-sfc@3.5.13_vue@3.5.13_typescript@5.7.2__webpack@5.97.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7f26c80a\"]])\n\nexport default __exports__"],"names":["_hoisted_1","key","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","style","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_defineComponent","__name","emits","setup","__props","expose","__expose","emit","__emit","AddEditBusinessLabelDialog","defineAsyncComponent","AddEditSpeechLibraryDrawer","bd_userInfo","userInfo","bd_virCompanyId","virCompanyId","bd_authorization","authorization","LocalStorage","batchGetItem","ruleFormRef","ref","businessLabelRef","addEditSpeechLibraryRef","keyWords","industryList","speechLibraryList","initData","reactive","type","visible","companyInfo","id","companyId","companyCode","companyName","businessType","formData","componentList","handleOperateTemplate","info","_addEditSpeechLibrary","params","value","subCompanyCode","toggle","submitForm","validate","valid","saveReport","async","requestVOList","map","item","res","propertyType","propertyKey","JSON","stringify","join","list","optionBOList","filter","v","includes","value2","length","mainId","tagName","agentSubCompanyId","agentProfileId","profileId","token","sourceType","data","submitInterfaceReportingApi","submitDirectReportingApi","getData","statusCode","ElMessage","message","msg","handleClose","getAddReportComponentList","lineIds","addReportComponentListApi","handleData","getEditReportComponentList","editReportComponentListApi","getAllList","Promise","all","getIndustryTree","getSpeechLibraryList","then","industryTreeApi","pageSize","pageNo","speechLibraryListApi","records","validateRule","row","rules","isRequired","push","required","placeholder","trigger","validateTemplateRule","callback","index","Error","handleFile","ids","forEach","handleBusinessLabel","labelList","reduce","arr","labels","sonItem","groupId","group","concat","labelValue","groupLabelValue","updateBusinessLabel","labelInfo","find","labelText","_ctx","_cache","_component_el_button","_resolveComponent","_component_el_input","_component_el_form_item","_component_el_option","_component_el_select","_component_el_input_number","_component_el_radio","_component_el_radio_group","_component_el_checkbox","_component_el_checkbox_group","_component_CustomUpload","_component_el_cascader","_component_el_form","_component_el_drawer","_openBlock","_createElementBlock","_Fragment","_createVNode","modelValue","$event","title","size","onClose","footer","_withCtx","onClick","default","_createTextVNode","_","_createBlock","ref_key","model","_renderList","label","prop","_createElementVNode","labelItem","labelIndex","_toDisplayString","modelModifiers","trim","disabled","inputDisabled","_createSlots","unit","name","fn","undefined","remark","_createCommentVNode","speechItem","rows","maxlength","maxLength","precision","min","max","k","filterable","j","validator","rule","accept","defaultFileList","fileList","editData","maxVolume","limit","fileLimit","onEmitUpload","templateBOList","_unref","downLoadFile","fileUrl","emitPath","clearable","props","children","checkStrictly","options","onEmitFunc","__exports__"],"sourceRoot":""}