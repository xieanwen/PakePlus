"use strict";(self["webpackChunkdaili"]=self["webpackChunkdaili"]||[]).push([[6876],{56876:function(e,a,n){n.r(a),n.d(a,{default:function(){return H}});var l=n(6254),t=n(55533),i=n(38627),c=n(25598),o=n(59259),s=n(10901),u=n(49211),r=n(21971),m=n(91866),d=n(65802),y=n(88365);const v={class:"main-container"},p={class:"recharge-amount"},k=["innerHTML"],b={class:"amount-container"},f={class:"amount"},I={class:"payment-container"},L={class:"payment-type"},g={class:"online-pay"},P={class:"payment-list online-list"},x=["onClick"],h={class:"icon","aria-hidden":"true"},T=["xlink:href"],C={class:"balance-pay"},N={class:"payment-list balance-list"},E=["onClick"],F={class:"icon","aria-hidden":"true"},w=["xlink:href"],_={class:"amount"},A={class:"offline-pay"},R={class:"payment-list offline-list"},V={name:"payment-buy"};var W=(0,l.pM)({...V,setup(e){const a=(0,l.$V)((()=>Promise.all([n.e(2076),n.e(2370)]).then(n.bind(n,23717)))),{goPage:V,routeQuery:W}=(0,s.dG)(),X=(0,c.Kh)({dmoHtml:"",onlinePayment:"online-wx",balancePayment:"balancePay-qyb",offlinePayment:"offline",paymentInfo:{},virtualAccount:"",activeIndex:0,rechargeImg:"",accountInfo:"",paymentVisible:!1,amount:W.value.amount}),G=[{label:"在线支付",value:0},{label:"余额支付",value:1},{label:"线下支付",value:2}],H=[{onlineType:"online-wx",svgName:"#icon-WeChat"},{onlineType:"online-zfb",svgName:"#icon-alipay"}],K=[{balanceType:"balancePay-qyb",svgName:"#icon-qiYeBao",word:"可用余额："}];function S(){(0,d.zR)().then((e=>{X.virtualAccount=(null===e||void 0===e?void 0:e.data.virtualAccount)??""}))}function q(){const e=`账号：${X.virtualAccount}，收款户名：八度云计算（安徽）有限公司，收款银行：中国银行合肥望江中路支行`;(0,y.Dk)(e).then((()=>{o.nk.success("复制成功")})).catch((()=>{o.nk.success("复制失败")}))}const B=(e,a)=>{X[e]=a},D=()=>{1===X.activeIndex&&Number(X.amount)>Number(X.accountInfo.accountBalance)?o.nk.error("您的账户余额不足。"):M()},M=()=>{const e=Y();r.NP.getData(e).then((e=>{X.paymentInfo=e.data,0===X.activeIndex?X.paymentVisible=!0:1===X.activeIndex?(1===e.data.orderState&&o.nk.success("您已有该商品订单，无法再次下单，请前往订单页完成支付。"),V("/marketService/personalOrder/list")):2===X.activeIndex&&(1===e.data.orderState?o.nk.success("您已有该商品订单，无法再次下单，请前往订单页完成支付。"):o.nk.success("提交成功"),V("/marketService/personalOrder/list"))}))},Y=()=>{const e={seriesId:W.value.productId,agencyLevel:W.value.agencyLevel,durationYear:W.value.durationYear,paymentType:"",mode:0,orderType:0};return W.value.mode&&Reflect.set(e,"mode",Number(W.value.mode)),W.value.orderNo&&Reflect.set(e,"orderNo",W.value.orderNo),W.value.orderType&&Reflect.set(e,"orderType",Number(W.value.orderType)),0===X.activeIndex&&(e.paymentType=u.E5[X.onlinePayment]),1===X.activeIndex&&(e.paymentType=u.E5[X.balancePayment]),2===X.activeIndex&&(e.paymentType=u.E5[X.offlinePayment],Reflect.set(e,"rechargeImg",X.rechargeImg)),e},z=e=>{X.activeIndex=e.value,1===e.value&&O()},O=async()=>{const{data:e={}}=await m.m3.getData();X.accountInfo=e};if(W.value.modePayment&&W.value.paymentType){const e=u.E5[Number(W.value.paymentType)];"onlinePayment"===W.value.modePayment?(X.activeIndex=0,X.onlinePayment=e):"balancePayment"===W.value.modePayment?(X.activeIndex=1,X.balancePayment=e,O()):"offlinePayment"===W.value.modePayment&&(X.activeIndex=2,X.offlinePayment=e)}return S(),(e,n)=>{const o=(0,l.g2)("tab-list"),s=(0,l.g2)("el-button"),u=(0,l.g2)("el-alert"),r=(0,l.g2)("el-link");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",v,[(0,l.Lk)("div",p,[(0,l.Lk)("span",{innerHTML:X.dmoHtml},null,8,k),(0,l.Lk)("div",b,[(0,l.Lk)("div",f,[n[2]||(n[2]=(0,l.Lk)("span",{class:"money-logo"},"¥",-1)),n[3]||(n[3]=(0,l.Lk)("span",{class:"label"},"当前支付金额为：",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>X.amount=e),placeholder:"请输入金额",disabled:""},null,512),[[t.Jo,X.amount,void 0,{number:!0}]])]),n[4]||(n[4]=(0,l.Lk)("p",{class:"prompt"},"请选择支付方式付款，完成支付",-1))]),(0,l.Lk)("div",I,[n[10]||(n[10]=(0,l.Lk)("h6",{class:"title"},"选择支付方式",-1)),(0,l.Lk)("div",L,[(0,l.bF)(o,{onEmitTab:z,list:G,activeIndex:X.activeIndex},null,8,["activeIndex"]),(0,l.bo)((0,l.Lk)("div",g,[(0,l.Lk)("ul",P,[((0,l.uX)(),(0,l.CE)(l.FK,null,(0,l.pI)(H,((e,a)=>(0,l.Lk)("li",{key:a,class:(0,i.C4)(X.onlinePayment===e.onlineType?"active":""),onClick:a=>B("onlinePayment",e.onlineType)},[((0,l.uX)(),(0,l.CE)("svg",h,[(0,l.Lk)("use",{"xlink:href":e.svgName},null,8,T)]))],10,x))),64))]),(0,l.bF)(s,{type:"primary",onClick:D},{default:(0,l.k6)((()=>n[5]||(n[5]=[(0,l.eW)("去支付")]))),_:1})],512),[[t.aG,0===X.activeIndex]]),(0,l.bo)((0,l.Lk)("div",C,[(0,l.Lk)("ul",N,[((0,l.uX)(),(0,l.CE)(l.FK,null,(0,l.pI)(K,((e,a)=>(0,l.Lk)("li",{key:a,class:(0,i.C4)(X.balancePayment===e.balanceType?"active":""),onClick:a=>B("balancePayment",e.balanceType)},[((0,l.uX)(),(0,l.CE)("svg",F,[(0,l.Lk)("use",{"xlink:href":e.svgName},null,8,w)])),(0,l.Lk)("p",_,(0,i.v_)(e.word)+(0,i.v_)(X.accountInfo.accountBalance),1)],10,E))),64))]),(0,l.bF)(s,{type:"primary",onClick:D},{default:(0,l.k6)((()=>n[6]||(n[6]=[(0,l.eW)("去支付")]))),_:1})],512),[[t.aG,1===X.activeIndex]]),(0,l.bo)((0,l.Lk)("div",A,[(0,l.bF)(u,{title:"您线下打款，数企在收到汇款后将自动充值到您的企业余额账户中。",type:"warning",closable:!1}),(0,l.Lk)("ul",R,[(0,l.Lk)("li",null,[(0,l.Lk)("p",null,[(0,l.eW)((0,i.v_)(X.virtualAccount)+"   ",1),(0,l.bF)(r,{type:"primary",onClick:q},{default:(0,l.k6)((()=>n[7]||(n[7]=[(0,l.eW)("复制")]))),_:1})]),n[8]||(n[8]=(0,l.Lk)("p",null,"收款户名：八度云计算（安徽）有限公司",-1)),n[9]||(n[9]=(0,l.Lk)("p",null,"收款银行：中国银行合肥望江中路支行",-1))])])],512),[[t.aG,2===X.activeIndex]])])])])]),(0,l.bF)((0,c.R1)(a),{visible:X.paymentVisible,"onUpdate:visible":n[1]||(n[1]=e=>X.paymentVisible=e),amount:X.amount,paymentInfo:X.paymentInfo},null,8,["visible","amount","paymentInfo"])],64)}}}),X=n(83936);const G=(0,X.A)(W,[["__scopeId","data-v-df108ee6"]]);var H=G}}]);
//# sourceMappingURL=6876.d2a865a8.js.map