{"version":3,"file":"static/js/9790.4e46dca8.js","mappings":"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","sources":["webpack://daili/./src/components/business-management/ospreyCloudCall/report/list/supplement-log-drawer.vue?399e","webpack://daili/./src/components/business-management/ospreyCloudCall/report/list/supplement-log-drawer.vue","webpack://daili/./src/components/business-management/ospreyCloudCall/report/list/supplement-log-drawer.vue?f3ff"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createCommentVNode as _createCommentVNode, createBlock as _createBlock } from \"vue\"\nimport _imports_0 from '@/assets/images/file.png'\n\n\nconst _hoisted_1 = { class: \"content\" }\nconst _hoisted_2 = { class: \"collapse-content\" }\nconst _hoisted_3 = { class: \"content\" }\nconst _hoisted_4 = { class: \"supplement-content\" }\nconst _hoisted_5 = { class: \"content\" }\nconst _hoisted_6 = {\n  key: 0,\n  class: \"describe\"\n}\nconst _hoisted_7 = {\n  key: 1,\n  class: \"img-box\"\n}\nconst _hoisted_8 = [\"onClick\"]\nconst _hoisted_9 = {\n  key: 0,\n  class: \"reSubmit-btn\"\n}\n\nimport { reactive, ref } from \"vue\";\r\nimport {\r\n  industryTreeApi,\r\n  supplementLogComponentListApi,\r\n} from \"@api/business-management-api\";\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'supplement-log-drawer',\n  emits: [\"reSubmit\"],\n  setup(__props, { expose: __expose, emit: __emit }) {\n\r\nconst emits = __emit;\r\n\r\nconst initData = reactive({\r\n  type: \"\",\r\n  visible: false,\r\n  activeName: \"\",\r\n  listData: [] as any[],\r\n  industryList: [] as any[],\r\n});\r\n\r\nconst reportInfo = ref<Record<string, any>>({\r\n  id: \"\",\r\n  companyId: \"\",\r\n  companyCode: \"\",\r\n  companyName: \"\",\r\n  businessType: \"\", // 0:直客客户  1:接口客户\r\n});\r\n\r\n/** 查询补充纪录 **/\r\nconst queryList = async () => {\r\n  const params = {\r\n    reportId: reportInfo.value.id,\r\n  };\r\n  const { data } = await supplementLogComponentListApi.getData(params);\r\n  const { list } = supplementLogComponentListApi.handleData(\r\n    data,\r\n    initData.industryList\r\n  );\r\n  initData.listData = list;\r\n  initData.activeName = initData.listData[0]?.id || \"\";\r\n};\r\n\r\n// 查询行业树\r\nconst getIndustryTree = async () => {\r\n  const { data } = await industryTreeApi.getData();\r\n  initData.industryList = industryTreeApi.handleData(data);\r\n};\r\n\r\n// 文件下载\r\nfunction previewFile(row) {\r\n  const a = document.createElement(\"a\");\r\n  a.href = row.url;\r\n  a.target = \"_blank\";\r\n  a.download = row.name;\r\n  a.click();\r\n}\r\n\r\n// 重新提交\r\nfunction reSubmit(item: any) {\r\n  emits(\"reSubmit\", reportInfo.value, item);\r\n  initData.visible = false;\r\n}\r\n\r\nasync function trigger(visible: boolean, row: Record<string, any>) {\r\n  initData.visible = visible;\r\n  reportInfo.value = row;\r\n  if (visible) {\r\n    await getIndustryTree(); // 先执行行业树\r\n    queryList();\r\n  }\r\n}\r\n\r\n__expose({\r\n  trigger,\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_tag = _resolveComponent(\"el-tag\")!\n  const _component_el_image = _resolveComponent(\"el-image\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_collapse_item = _resolveComponent(\"el-collapse-item\")!\n  const _component_el_collapse = _resolveComponent(\"el-collapse\")!\n  const _component_el_drawer = _resolveComponent(\"el-drawer\")!\n\n  return (_openBlock(), _createBlock(_component_el_drawer, {\n    modelValue: initData.visible,\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((initData.visible) = $event)),\n    class: \"custom-drawer\",\n    title: \"补充记录\",\n    size: \"700\"\n  }, {\n    footer: _withCtx(() => [\n      _createVNode(_component_el_button, {\n        onClick: _cache[1] || (_cache[1] = ($event: any) => (initData.visible = false))\n      }, {\n        default: _withCtx(() => _cache[8] || (_cache[8] = [\n          _createTextVNode(\"关闭\")\n        ])),\n        _: 1\n      })\n    ]),\n    default: _withCtx(() => [\n      _createVNode(_component_el_collapse, {\n        accordion: \"\",\n        modelValue: initData.activeName,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((initData.activeName) = $event)),\n        class: \"body-content\"\n      }, {\n        default: _withCtx(() => [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(initData.listData, (item, index) => {\n            return (_openBlock(), _createBlock(_component_el_collapse_item, {\n              key: index,\n              name: item.id,\n              class: \"card-item\"\n            }, {\n              title: _withCtx(() => [\n                _cache[3] || (_cache[3] = _createElementVNode(\"span\", { class: \"label\" }, \"补充时间\", -1)),\n                _createElementVNode(\"span\", _hoisted_1, _toDisplayString(item.createdTime), 1),\n                _createVNode(_component_el_tag, {\n                  class: \"status\",\n                  type: item.statusType,\n                  size: \"small\"\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(_toDisplayString(item.statusDesc), 1)\n                  ]),\n                  _: 2\n                }, 1032, [\"type\"])\n              ]),\n              default: _withCtx(() => [\n                _createElementVNode(\"div\", _hoisted_2, [\n                  _createElementVNode(\"div\", null, [\n                    _cache[4] || (_cache[4] = _createElementVNode(\"span\", { class: \"label\" }, \"补充人员\", -1)),\n                    _createElementVNode(\"span\", _hoisted_3, _toDisplayString(item.createdName), 1)\n                  ]),\n                  _createElementVNode(\"div\", _hoisted_4, [\n                    _cache[6] || (_cache[6] = _createElementVNode(\"span\", { class: \"label crimp\" }, \"补充内容\", -1)),\n                    _createElementVNode(\"div\", _hoisted_5, [\n                      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.recordContentList, (v, i) => {\n                        return (_openBlock(), _createElementBlock(\"div\", {\n                          class: \"component\",\n                          key: i\n                        }, [\n                          _createElementVNode(\"p\", null, _toDisplayString(v.tagName) + \":\", 1),\n                          (![9, 13].includes(v.propertyType))\n                            ? (_openBlock(), _createElementBlock(\"p\", _hoisted_6, [\n                                ([4, 5, 11, 12].includes(v.propertyType))\n                                  ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                                      _createTextVNode(_toDisplayString(v.label), 1)\n                                    ], 64))\n                                  : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                                      _createTextVNode(_toDisplayString(v.value), 1)\n                                    ], 64))\n                              ]))\n                            : (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(v.value, (fItem, fIndex) => {\n                                  return (_openBlock(), _createElementBlock(\"div\", {\n                                    key: fIndex,\n                                    class: \"box-item\"\n                                  }, [\n                                    (fItem.type === 'image')\n                                      ? (_openBlock(), _createBlock(_component_el_image, {\n                                          key: 0,\n                                          src: fItem.url,\n                                          fit: \"cover\",\n                                          \"preview-src-list\": [fItem.url],\n                                          class: \"img-item\"\n                                        }, null, 8, [\"src\", \"preview-src-list\"]))\n                                      : (_openBlock(), _createElementBlock(\"div\", {\n                                          key: 1,\n                                          class: \"file-icon\",\n                                          onClick: ($event: any) => (previewFile(fItem))\n                                        }, _cache[5] || (_cache[5] = [\n                                          _createElementVNode(\"img\", {\n                                            src: _imports_0,\n                                            alt: \"\"\n                                          }, null, -1)\n                                        ]), 8, _hoisted_8))\n                                  ]))\n                                }), 128))\n                              ]))\n                        ]))\n                      }), 128))\n                    ])\n                  ]),\n                  (item.status === '3')\n                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [\n                        _createVNode(_component_el_button, {\n                          type: \"primary\",\n                          onClick: ($event: any) => (reSubmit(item))\n                        }, {\n                          default: _withCtx(() => _cache[7] || (_cache[7] = [\n                            _createTextVNode(\"重新提交\")\n                          ])),\n                          _: 2\n                        }, 1032, [\"onClick\"])\n                      ]))\n                    : _createCommentVNode(\"\", true)\n                ])\n              ]),\n              _: 2\n            }, 1032, [\"name\"]))\n          }), 128))\n        ]),\n        _: 1\n      }, 8, [\"modelValue\"])\n    ]),\n    _: 1\n  }, 8, [\"modelValue\"]))\n}\n}\n\n})","<template>\r\n  <el-drawer\r\n    v-model=\"initData.visible\"\r\n    class=\"custom-drawer\"\r\n    title=\"补充记录\"\r\n    size=\"700\"\r\n  >\r\n    <el-collapse accordion v-model=\"initData.activeName\" class=\"body-content\">\r\n      <el-collapse-item\r\n        v-for=\"(item, index) in initData.listData\"\r\n        :key=\"index\"\r\n        :name=\"item.id\"\r\n        class=\"card-item\"\r\n      >\r\n        <template #title>\r\n          <span class=\"label\">补充时间</span>\r\n          <span class=\"content\">{{ item.createdTime }}</span>\r\n          <el-tag class=\"status\" :type=\"item.statusType\" size=\"small\">{{\r\n            item.statusDesc\r\n          }}</el-tag>\r\n        </template>\r\n        <div class=\"collapse-content\">\r\n          <div>\r\n            <span class=\"label\">补充人员</span>\r\n            <span class=\"content\">{{ item.createdName }}</span>\r\n          </div>\r\n          <div class=\"supplement-content\">\r\n            <span class=\"label crimp\">补充内容</span>\r\n            <div class=\"content\">\r\n              <div\r\n                class=\"component\"\r\n                v-for=\"(v, i) in item.recordContentList\"\r\n                :key=\"i\"\r\n              >\r\n                <p>{{ v.tagName }}:</p>\r\n                <p v-if=\"![9, 13].includes(v.propertyType)\" class=\"describe\">\r\n                  <template v-if=\"[4, 5, 11, 12].includes(v.propertyType)\">\r\n                    {{ v.label }}\r\n                  </template>\r\n                  <template v-else>\r\n                    {{ v.value }}\r\n                  </template>\r\n                </p>\r\n                <div v-else class=\"img-box\">\r\n                  <div\r\n                    v-for=\"(fItem, fIndex) in v.value\"\r\n                    :key=\"fIndex\"\r\n                    class=\"box-item\"\r\n                  >\r\n                    <el-image\r\n                      v-if=\"fItem.type === 'image'\"\r\n                      :src=\"fItem.url\"\r\n                      fit=\"cover\"\r\n                      :preview-src-list=\"[fItem.url]\"\r\n                      class=\"img-item\"\r\n                    />\r\n                    <div v-else class=\"file-icon\" @click=\"previewFile(fItem)\">\r\n                      <img src=\"@/assets/images/file.png\" alt=\"\" />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div v-if=\"item.status === '3'\" class=\"reSubmit-btn\">\r\n            <el-button type=\"primary\" @click=\"reSubmit(item)\"\r\n              >重新提交</el-button\r\n            >\r\n          </div>\r\n        </div>\r\n      </el-collapse-item>\r\n    </el-collapse>\r\n    <template #footer>\r\n      <el-button @click=\"initData.visible = false\">关闭</el-button>\r\n    </template>\r\n  </el-drawer>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { reactive, ref } from \"vue\";\r\nimport {\r\n  industryTreeApi,\r\n  supplementLogComponentListApi,\r\n} from \"@api/business-management-api\";\r\n\r\nconst emits = defineEmits([\"reSubmit\"]);\r\n\r\nconst initData = reactive({\r\n  type: \"\",\r\n  visible: false,\r\n  activeName: \"\",\r\n  listData: [] as any[],\r\n  industryList: [] as any[],\r\n});\r\n\r\nconst reportInfo = ref<Record<string, any>>({\r\n  id: \"\",\r\n  companyId: \"\",\r\n  companyCode: \"\",\r\n  companyName: \"\",\r\n  businessType: \"\", // 0:直客客户  1:接口客户\r\n});\r\n\r\n/** 查询补充纪录 **/\r\nconst queryList = async () => {\r\n  const params = {\r\n    reportId: reportInfo.value.id,\r\n  };\r\n  const { data } = await supplementLogComponentListApi.getData(params);\r\n  const { list } = supplementLogComponentListApi.handleData(\r\n    data,\r\n    initData.industryList\r\n  );\r\n  initData.listData = list;\r\n  initData.activeName = initData.listData[0]?.id || \"\";\r\n};\r\n\r\n// 查询行业树\r\nconst getIndustryTree = async () => {\r\n  const { data } = await industryTreeApi.getData();\r\n  initData.industryList = industryTreeApi.handleData(data);\r\n};\r\n\r\n// 文件下载\r\nfunction previewFile(row) {\r\n  const a = document.createElement(\"a\");\r\n  a.href = row.url;\r\n  a.target = \"_blank\";\r\n  a.download = row.name;\r\n  a.click();\r\n}\r\n\r\n// 重新提交\r\nfunction reSubmit(item: any) {\r\n  emits(\"reSubmit\", reportInfo.value, item);\r\n  initData.visible = false;\r\n}\r\n\r\nasync function trigger(visible: boolean, row: Record<string, any>) {\r\n  initData.visible = visible;\r\n  reportInfo.value = row;\r\n  if (visible) {\r\n    await getIndustryTree(); // 先执行行业树\r\n    queryList();\r\n  }\r\n}\r\n\r\ndefineExpose({\r\n  trigger,\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.body-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  row-gap: 24px;\r\n  border: none;\r\n  .card-item {\r\n    padding: 24px;\r\n    box-shadow: 0 8px 40px #646b7a1a;\r\n    border-radius: 12px;\r\n    .label {\r\n      color: #9ca6b9;\r\n      margin-right: 20px;\r\n    }\r\n    .content {\r\n      font-weight: 700;\r\n      color: #242934;\r\n    }\r\n    .status {\r\n      margin-left: 20px;\r\n    }\r\n    .collapse-content {\r\n      display: flex;\r\n      flex-direction: column;\r\n      row-gap: 20px;\r\n      margin-top: 20px;\r\n      .supplement-content {\r\n        display: flex;\r\n        .crimp {\r\n          flex-shrink: 0;\r\n        }\r\n        .component {\r\n          margin-bottom: 12px;\r\n          &:last-child {\r\n            margin-bottom: 0;\r\n          }\r\n          .describe {\r\n            color: #9ca6b9;\r\n          }\r\n          .img-box {\r\n            margin-top: 12px;\r\n            display: flex;\r\n            flex-flow: wrap;\r\n            gap: 12px;\r\n            .box-item {\r\n              display: inline-block;\r\n              position: relative;\r\n              width: 114px;\r\n              height: 80px;\r\n              margin: 0 12px 12px 0;\r\n              background: #edf1f6;\r\n              border-radius: 8px;\r\n              vertical-align: top;\r\n              overflow: hidden;\r\n            }\r\n            .img-item {\r\n              width: 100%;\r\n              height: 100%;\r\n            }\r\n            .file-icon {\r\n              display: block;\r\n              position: relative;\r\n              height: 100%;\r\n              cursor: pointer;\r\n              img {\r\n                display: block;\r\n                position: absolute;\r\n                top: 50%;\r\n                left: 50%;\r\n                transform: translate(-50%, -50%);\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .reSubmit-btn {\r\n        margin-left: 72px;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n:deep(.el-collapse-item__header) {\r\n  border-bottom: none;\r\n  height: 22px;\r\n}\r\n:deep(.el-collapse-item__wrap) {\r\n  border-bottom: none;\r\n}\r\n</style>\r\n","import script from \"./supplement-log-drawer.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./supplement-log-drawer.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./supplement-log-drawer.vue?vue&type=style&index=0&id=e248cee0&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../../node_modules/.pnpm/vue-loader@17.4.2_@vue+compiler-sfc@3.5.13_vue@3.5.13_typescript@5.7.2__webpack@5.97.1/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-e248cee0\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","key","_hoisted_7","_hoisted_8","_hoisted_9","_defineComponent","__name","emits","setup","__props","expose","__expose","emit","__emit","initData","reactive","type","visible","activeName","listData","industryList","reportInfo","ref","id","companyId","companyCode","companyName","businessType","queryList","async","_initData$listData$","params","reportId","value","data","supplementLogComponentListApi","getData","list","handleData","getIndustryTree","industryTreeApi","previewFile","row","a","document","createElement","href","url","target","download","name","click","reSubmit","item","trigger","_ctx","_cache","_component_el_tag","_resolveComponent","_component_el_image","_component_el_button","_component_el_collapse_item","_component_el_collapse","_component_el_drawer","_openBlock","_createBlock","modelValue","$event","title","size","footer","_withCtx","_createVNode","onClick","default","_createTextVNode","_","accordion","_createElementBlock","_Fragment","_renderList","index","_createElementVNode","_toDisplayString","createdTime","statusType","statusDesc","createdName","recordContentList","v","i","tagName","includes","propertyType","fItem","fIndex","src","fit","_imports_0","alt","label","status","_createCommentVNode","__exports__"],"sourceRoot":""}