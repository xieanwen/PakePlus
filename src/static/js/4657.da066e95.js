"use strict";(self["webpackChunkdaili"]=self["webpackChunkdaili"]||[]).push([[4657],{44657:function(e,l,a){a.r(l),a.d(l,{default:function(){return X}});a(83238);var t=a(6254),o=a(38627),p=a(25598),u=a(91373),n=a(1683),i=a(35287),r=a(88365);const s={class:"body-container"},d={key:0,class:"business-label"},v={class:"label-list"},c={key:0},y={key:1},m={key:1},b={class:"picture-item"},k=["src"],f={class:"preview"},g={key:1};var _=(0,t.pM)({__name:"detail-report-drawer",setup(e,{expose:l}){const{bd_virCompanyId:a}=r.DT.batchGetItem(["bd_virCompanyId"]),_=(0,p.KR)(),C=(0,p.KR)(),L=(0,p.KR)(),X=(0,p.KR)([]),K=(0,p.KR)([]),F=(0,p.KR)([]),E=(0,p.Kh)({visible:!1}),I=(0,p.KR)({id:"",companyId:"",companyCode:"",companyName:""}),h=(0,p.Kh)({componentList:[]});function T(e,l,a){const t=l.map((e=>e.url));L.value.trigger(!0,e,t,a)}const W=e=>{const l=e.fileList.map((e=>e.fileId)).join(","),a=e.fileList.map((e=>e.url)).join(","),t={api:`call-rest/reported/companyCallPhoneAgencyCodeApply/downLoadTemplate?fileIds=${l}&urls=${a}`};(0,n.PE)(t)};function w(){Promise.all([N(),R()]).then((e=>{K.value=e[0],F.value=e[1].list,Q()}))}const N=async()=>{const{data:e}=await i.Bu.getData();return i.Bu.handleData(e)},R=async()=>{const e={pageSize:100,pageNo:1,companyCode:I.value.companyCode,companyId:a},{data:l}=await i.Kl.getData(e);return i.Kl.handleData(l)},Q=async()=>{const e={id:I.value.id,companyId:I.value.companyId,sourceType:0},{data:l}=await i.XG.getData(e),{list:a}=i.XG.handleData(l.componentList,K.value,F.value);h.componentList=a};function D(){X.value=[],h.componentList=[],(0,p.R1)(C).scrollTop=0,E.visible=!1}function x(e,l){E.visible=e,I.value=l,e&&w()}return l({trigger:x}),(e,l)=>{const a=(0,t.g2)("el-input"),n=(0,t.g2)("el-form-item"),i=(0,t.g2)("el-icon"),r=(0,t.g2)("el-link"),X=(0,t.g2)("el-form"),K=(0,t.g2)("el-button"),F=(0,t.g2)("el-drawer"),I=(0,t.g2)("CustomPreviewImage");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bF)(F,{size:"700",title:"查看",class:"custom-drawer","model-value":E.visible,onClosed:D},{footer:(0,t.k6)((()=>[(0,t.bF)(K,{onClick:D},{default:(0,t.k6)((()=>l[1]||(l[1]=[(0,t.eW)("关 闭")]))),_:1})])),default:(0,t.k6)((()=>[(0,t.Lk)("div",s,[(0,t.Lk)("div",{class:"body-content",ref_key:"bodyContentRef",ref:C},[(0,t.bF)(X,{ref_key:"formRef",ref:_,"label-width":"100px","label-position":"top"},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(h.componentList,((e,s)=>((0,t.uX)(),(0,t.CE)("div",{key:s},[1===e.propertyType?((0,t.uX)(),(0,t.Wv)(n,{key:0,label:e.tagName,prop:"componentList."+s+".value"},{default:(0,t.k6)((()=>["business_label"===e.propertyKey?((0,t.uX)(),(0,t.CE)("div",d,[(0,t.Lk)("div",v,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.labelText,((e,l)=>((0,t.uX)(),(0,t.CE)("span",{key:l},(0,o.v_)(e),1)))),128))])])):((0,t.uX)(),(0,t.Wv)(a,{key:1,disabled:"","model-value":(e.value||"")+" "+(e.unit||"")},null,8,["model-value"]))])),_:2},1032,["label","prop"])):(0,t.Q3)("",!0),2===e.propertyType?((0,t.uX)(),(0,t.Wv)(n,{key:1,label:e.tagName,prop:"componentList."+s+".value"},{default:(0,t.k6)((()=>["verbal_trick"===e.propertyKey?((0,t.uX)(),(0,t.CE)("span",c,(0,o.v_)(e.value),1)):((0,t.uX)(),(0,t.Wv)(a,{key:1,readonly:"",type:"textarea",rows:3,"model-value":e.value},null,8,["model-value"]))])),_:2},1032,["label","prop"])):(0,t.Q3)("",!0),7===e.propertyType?((0,t.uX)(),(0,t.Wv)(n,{key:2,label:e.tagName,prop:"componentList."+s+".value"},{default:(0,t.k6)((()=>[(0,t.bF)(a,{disabled:"","model-value":(e.value||"")+" "+(e.unit||"")},null,8,["model-value"])])),_:2},1032,["label","prop"])):(0,t.Q3)("",!0),4===e.propertyType?((0,t.uX)(),(0,t.Wv)(n,{key:3,label:e.tagName,prop:"componentList."+s+".value"},{default:(0,t.k6)((()=>[(0,t.bF)(a,{disabled:"","model-value":e.value},null,8,["model-value"])])),_:2},1032,["label","prop"])):(0,t.Q3)("",!0),11===e.propertyType?((0,t.uX)(),(0,t.Wv)(n,{key:4,label:e.tagName,prop:"componentList."+s+".value"},{default:(0,t.k6)((()=>[(0,t.bF)(a,{disabled:"","model-value":e.value},null,8,["model-value"])])),_:2},1032,["label","prop"])):(0,t.Q3)("",!0),5===e.propertyType?((0,t.uX)(),(0,t.Wv)(n,{key:5,label:e.tagName,prop:"componentList."+s+".value"},{default:(0,t.k6)((()=>[(0,t.bF)(a,{disabled:"","model-value":e.value},null,8,["model-value"])])),_:2},1032,["label","prop"])):(0,t.Q3)("",!0),12===e.propertyType?((0,t.uX)(),(0,t.Wv)(n,{key:6,label:e.tagName,prop:"componentList."+s+".value"},{default:(0,t.k6)((()=>[e.value&&e.value.length?((0,t.uX)(!0),(0,t.CE)(t.FK,{key:0},(0,t.pI)(e.value,((e,l)=>((0,t.uX)(),(0,t.CE)("span",{key:l},(0,o.v_)(e.name)+"："+(0,o.v_)(e.value)+"    ",1)))),128)):((0,t.uX)(),(0,t.CE)("span",y,"暂无"))])),_:2},1032,["label","prop"])):(0,t.Q3)("",!0),"industry"===e.propertyKey?((0,t.uX)(),(0,t.Wv)(n,{key:7,label:e.tagName,prop:"componentList."+s+".value"},{default:(0,t.k6)((()=>[(0,t.bF)(a,{disabled:"","model-value":e.value},null,8,["model-value"])])),_:2},1032,["label","prop"])):(0,t.Q3)("",!0),9===e.propertyType?((0,t.uX)(),(0,t.Wv)(n,{key:8,label:e.tagName,prop:"componentList."+s+".value"},{default:(0,t.k6)((()=>[e.fileList&&e.fileList.length?((0,t.uX)(),(0,t.Wv)(r,{key:0,icon:"el-icon-paperclip",underline:!1,type:"primary",onClick:l=>W(e)},{default:(0,t.k6)((()=>[(0,t.bF)(i,{class:"del-icon colorGray"},{default:(0,t.k6)((()=>[(0,t.bF)((0,p.R1)(u.N_E))])),_:1}),l[0]||(l[0]=(0,t.eW)(" 下载查看 "))])),_:2},1032,["onClick"])):((0,t.uX)(),(0,t.CE)("span",m,"暂无"))])),_:2},1032,["label","prop"])):(0,t.Q3)("",!0),13===e.propertyType?((0,t.uX)(),(0,t.Wv)(n,{key:9,label:e.tagName,prop:"componentList."+s+".value"},{default:(0,t.k6)((()=>[e.fileList&&e.fileList.length?((0,t.uX)(!0),(0,t.CE)(t.FK,{key:0},(0,t.pI)(e.fileList,((l,a)=>((0,t.uX)(),(0,t.CE)("div",{class:"picture-list",key:a},[(0,t.Lk)("div",b,[(0,t.Lk)("img",{src:l.url,alt:""},null,8,k),(0,t.Lk)("div",f,[(0,t.bF)(i,{onClick:l=>T(e.tagName,e.fileList,a)},{default:(0,t.k6)((()=>[(0,t.bF)((0,p.R1)(u.HxT))])),_:2},1032,["onClick"])])])])))),128)):((0,t.uX)(),(0,t.CE)("span",g,"暂无"))])),_:2},1032,["label","prop"])):(0,t.Q3)("",!0)])))),128))])),_:1},512)],512)])])),_:1},8,["model-value"]),(0,t.bF)(I,{ref_key:"previewImageRef",ref:L},null,512)],64)}}}),C=a(83936);const L=(0,C.A)(_,[["__scopeId","data-v-e5c13a60"]]);var X=L}}]);
//# sourceMappingURL=4657.da066e95.js.map